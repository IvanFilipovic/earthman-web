import e from"node:process";globalThis._importMeta_={url:import.meta.url,env:e.env};import{tmpdir as t}from"node:os";import{defineEventHandler as o,handleCacheHeaders as n,splitCookiesString as r,createEvent as a,fetchWithEvent as s,isEvent as i,eventHandler as c,setHeaders as l,sendRedirect as u,proxyRequest as d,getRequestHeader as p,setResponseHeaders as h,setResponseStatus as f,send as m,getRequestHeaders as g,setResponseHeader as y,appendResponseHeader as w,getRequestURL as b,getResponseHeader as _,setCookie as v,removeResponseHeader as x,createError as k,getResponseStatus as C,getQuery as j,getRouterParam as R,readBody as S,lazyEventHandler as A,useBase as P,createApp as T,createRouter as L,toNodeListener as E,getHeader as O,getCookie as U,getResponseStatusText as $}from"file:///home/kai/Projekti/webshop/node_modules/h3/dist/index.mjs";import{Server as M}from"node:http";import{resolve as I,dirname as N,join as z}from"node:path";import H,{randomBytes as F,createCipheriv as D,createDecipheriv as B}from"node:crypto";import{parentPort as q,threadId as K}from"node:worker_threads";import{escapeHtml as W}from"file:///home/kai/Projekti/webshop/node_modules/@vue/shared/dist/shared.cjs.js";import{createTransport as Q}from"file:///home/kai/Projekti/webshop/node_modules/nodemailer/lib/nodemailer.js";import{createRenderer as V,getRequestDependencies as X,getPreloadLinks as J,getPrefetchLinks as Y}from"file:///home/kai/Projekti/webshop/node_modules/vue-bundle-renderer/dist/runtime.mjs";import{renderToString as G}from"file:///home/kai/Projekti/webshop/node_modules/vue/server-renderer/index.mjs";import Z,{destr as ee}from"file:///home/kai/Projekti/webshop/node_modules/destr/dist/index.mjs";import{createHooks as te}from"file:///home/kai/Projekti/webshop/node_modules/hookable/dist/index.mjs";import{createFetch as oe,Headers as ne}from"file:///home/kai/Projekti/webshop/node_modules/ofetch/dist/node.mjs";import{fetchNodeRequestHandler as re,callNodeRequestHandler as ae}from"file:///home/kai/Projekti/webshop/node_modules/node-mock-http/dist/index.mjs";import{createStorage as se,prefixStorage as ie}from"file:///home/kai/Projekti/webshop/node_modules/unstorage/dist/index.mjs";import ce from"file:///home/kai/Projekti/webshop/node_modules/unstorage/drivers/fs.mjs";import{digest as le,hash as ue}from"file:///home/kai/Projekti/webshop/node_modules/ohash/dist/index.mjs";import{klona as de}from"file:///home/kai/Projekti/webshop/node_modules/klona/dist/index.mjs";import pe,{defuFn as he}from"file:///home/kai/Projekti/webshop/node_modules/defu/dist/defu.mjs";import{snakeCase as fe}from"file:///home/kai/Projekti/webshop/node_modules/scule/dist/index.mjs";import{getContext as me}from"file:///home/kai/Projekti/webshop/node_modules/unctx/dist/index.mjs";import{toRouteMatcher as ge,createRouter as ye}from"file:///home/kai/Projekti/webshop/node_modules/radix3/dist/index.mjs";import{readFile as we}from"node:fs/promises";import be,{consola as _e}from"file:///home/kai/Projekti/webshop/node_modules/consola/dist/index.mjs";import{ErrorParser as ve}from"file:///home/kai/Projekti/webshop/node_modules/youch-core/build/index.js";import{Youch as xe}from"file:///home/kai/Projekti/webshop/node_modules/youch/build/index.js";import{SourceMapConsumer as ke}from"file:///home/kai/Projekti/webshop/node_modules/source-map/source-map.js";import{AsyncLocalStorage as Ce}from"node:async_hooks";import{stringify as je,uneval as Re}from"file:///home/kai/Projekti/webshop/node_modules/devalue/index.js";import{captureRawStackTrace as Se,parseRawStackTrace as Ae}from"file:///home/kai/Projekti/webshop/node_modules/errx/dist/index.js";import{isVNode as Pe,toValue as Te,isRef as Le}from"file:///home/kai/Projekti/webshop/node_modules/vue/index.mjs";import{createPathIndexLanguageParser as Ee,parseAcceptLanguage as Oe}from"file:///home/kai/Projekti/webshop/node_modules/@intlify/utils/dist/index.mjs";import{parse as Ue}from"file:///home/kai/Projekti/webshop/node_modules/cookie-es/dist/index.mjs";import{createRouterMatcher as $e}from"file:///home/kai/Projekti/webshop/node_modules/vue-router/dist/vue-router.node.mjs";import{promises as Me}from"node:fs";import{fileURLToPath as Ie}from"node:url";import{dirname as Ne,resolve as ze,basename as He,isAbsolute as Fe}from"file:///home/kai/Projekti/webshop/node_modules/pathe/dist/index.mjs";import{getIcons as De}from"file:///home/kai/Projekti/webshop/node_modules/@iconify/utils/lib/index.mjs";import{collections as Be}from"file:///home/kai/Projekti/webshop/.nuxt/nuxt-icon-server-bundle.mjs";import{createHead as qe,propsToString as Ke,renderSSRHead as We}from"file:///home/kai/Projekti/webshop/node_modules/unhead/dist/server.mjs";import{DeprecationsPlugin as Qe,PromisesPlugin as Ve,TemplateParamsPlugin as Xe,AliasSortingPlugin as Je}from"file:///home/kai/Projekti/webshop/node_modules/unhead/dist/plugins.mjs";import{walkResolver as Ye}from"file:///home/kai/Projekti/webshop/node_modules/unhead/dist/utils.mjs";import{ipxFSStorage as Ge,ipxHttpStorage as Ze,createIPX as et,createIPXH3Handler as tt}from"file:///home/kai/Projekti/webshop/node_modules/ipx/dist/index.mjs";const ot=/#/g,nt=/&/g,rt=/\//g,at=/=/g,st=/\+/g,it=/%5e/gi,ct=/%60/gi,lt=/%7c/gi,ut=/%20/gi,dt=/%2f/gi;function encodeQueryValue(e){return(t="string"==typeof e?e:JSON.stringify(e),encodeURI(""+t).replace(lt,"|")).replace(st,"%2B").replace(ut,"+").replace(ot,"%23").replace(nt,"%26").replace(ct,"`").replace(it,"^").replace(rt,"%2F");var t}function encodeQueryKey(e){return encodeQueryValue(e).replace(at,"%3D")}function decode(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function decodeQueryKey(e){return decode(e.replace(st," "))}function decodeQueryValue(e){return decode(e.replace(st," "))}function parseQuery(e=""){const t=Object.create(null);"?"===e[0]&&(e=e.slice(1));for(const o of e.split("&")){const e=o.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;const n=decodeQueryKey(e[1]);if("__proto__"===n||"constructor"===n)continue;const r=decodeQueryValue(e[2]||"");void 0===t[n]?t[n]=r:Array.isArray(t[n])?t[n].push(r):t[n]=[t[n],r]}return t}function stringifyQuery(e){return Object.keys(e).filter(t=>void 0!==e[t]).map(t=>{return o=t,"number"!=typeof(n=e[t])&&"boolean"!=typeof n||(n=String(n)),n?Array.isArray(n)?n.map(e=>`${encodeQueryKey(o)}=${encodeQueryValue(e)}`).join("&"):`${encodeQueryKey(o)}=${encodeQueryValue(n)}`:encodeQueryKey(o);var o,n}).filter(Boolean).join("&")}const pt=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,ht=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,ft=/^([/\\]\s*){2,}[^/\\]/,mt=/^\.?\//;function hasProtocol(e,t={}){return"boolean"==typeof t&&(t={acceptRelative:t}),t.strict?pt.test(e):ht.test(e)||!!t.acceptRelative&&ft.test(e)}function withoutTrailingSlash(e="",t){return(function(e=""){return e.endsWith("/")}(e)?e.slice(0,-1):e)||"/"}function withTrailingSlash(e="",t){return e.endsWith("/")?e:e+"/"}function withLeadingSlash(e=""){return function(e=""){return e.startsWith("/")}(e)?e:"/"+e}function withoutBase(e,t){if(!(o=t)||"/"===o)return e;var o;const n=withoutTrailingSlash(t);if(!e.startsWith(n))return e;const r=e.slice(n.length);return"/"===r[0]?r:"/"+r}function withQuery(e,t){const o=parseURL(e),n={...parseQuery(o.search),...t};return o.search=stringifyQuery(n),function(e){const t=e.pathname||"",o=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",n=e.hash||"",r=e.auth?e.auth+"@":"",a=e.host||"",s=e.protocol||e[gt]?(e.protocol||"")+"//":"";return s+r+a+t+o+n}(o)}function getQuery(e){return parseQuery(parseURL(e).search)}function joinURL(e,...t){let o=e||"";for(const e of t.filter(e=>function(e){return e&&"/"!==e}(e)))if(o){const t=e.replace(mt,"");o=withTrailingSlash(o)+t}else o=e;return o}function joinRelativeURL(...e){const t=/\/(?!\/)/,o=e.filter(Boolean),n=[];let r=0;for(const e of o)if(e&&"/"!==e)for(const[o,a]of e.split(t).entries())if(a&&"."!==a)if(".."!==a)1===o&&n[n.length-1]?.endsWith(":/")?n[n.length-1]+="/"+a:(n.push(a),r++);else{if(1===n.length&&hasProtocol(n[0]))continue;n.pop(),r--}let a=n.join("/");return r>=0?o[0]?.startsWith("/")&&!a.startsWith("/")?a="/"+a:o[0]?.startsWith("./")&&!a.startsWith("./")&&(a="./"+a):a="../".repeat(-1*r)+a,o[o.length-1]?.endsWith("/")&&!a.endsWith("/")&&(a+="/"),a}const gt=Symbol.for("ufo:protocolRelative");function parseURL(e="",t){const o=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(o){const[,e,t=""]=o;return{protocol:e.toLowerCase(),pathname:t,href:e+t,auth:"",host:"",search:"",hash:""}}if(!hasProtocol(e,{acceptRelative:!0}))return t?parseURL(t+e):parsePath(e);const[,n="",r,a=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,s="",i=""]=a.match(/([^#/?]*)(.*)?/)||[];"file:"===n&&(i=i.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:l,hash:u}=parsePath(i);return{protocol:n.toLowerCase(),auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:s,pathname:c,search:l,hash:u,[gt]:!n}}function parsePath(e=""){const[t="",o="",n=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:o,hash:n}}const yt=[{baseName:"server",dir:"/home/kai/Projekti/webshop/server/assets"}],wt=se();for(const e of yt)wt.mount(e.baseName,ce({base:e.dir,ignore:e?.ignore||[]}));const bt=se({});function useStorage(e=""){return e?ie(bt,e):bt}bt.mount("/assets",wt),bt.mount("root",ce({driver:"fs",readOnly:!0,base:"/home/kai/Projekti/webshop",watchOptions:{ignored:[null]}})),bt.mount("src",ce({driver:"fs",readOnly:!0,base:"/home/kai/Projekti/webshop/server",watchOptions:{ignored:[null]}})),bt.mount("build",ce({driver:"fs",readOnly:!1,base:"/home/kai/Projekti/webshop/.nuxt"})),bt.mount("cache",ce({driver:"fs",readOnly:!1,base:"/home/kai/Projekti/webshop/.nuxt/cache"})),bt.mount("data",ce({driver:"fs",base:"/home/kai/Projekti/webshop/.data/kv"}));const _t=(()=>{class Hasher2{buff="";#e=new Map;write(e){this.buff+=e}dispatch(e){return this[null===e?"null":typeof e](e)}object(e){if(e&&"function"==typeof e.toJSON)return this.object(e.toJSON());const t=Object.prototype.toString.call(e);let o="";const n=t.length;o=n<10?"unknown:["+t+"]":t.slice(8,n-1),o=o.toLowerCase();let r=null;if(void 0!==(r=this.#e.get(e)))return this.dispatch("[CIRCULAR:"+r+"]");if(this.#e.set(e,this.#e.size),"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e))return this.write("buffer:"),this.write(e.toString("utf8"));if("object"!==o&&"function"!==o&&"asyncfunction"!==o)this[o]?this[o](e):this.unknown(e,o);else{const t=Object.keys(e).sort(),o=[];this.write("object:"+(t.length+o.length)+":");const dispatchForKey=t=>{this.dispatch(t),this.write(":"),this.dispatch(e[t]),this.write(",")};for(const e of t)dispatchForKey(e);for(const e of o)dispatchForKey(e)}}array(e,t){if(t=void 0!==t&&t,this.write("array:"+e.length+":"),!t||e.length<=1){for(const t of e)this.dispatch(t);return}const o=new Map,n=e.map(e=>{const t=new Hasher2;t.dispatch(e);for(const[e,n]of t.#e)o.set(e,n);return t.toString()});return this.#e=o,n.sort(),this.array(n,!1)}date(e){return this.write("date:"+e.toJSON())}symbol(e){return this.write("symbol:"+e.toString())}unknown(e,t){if(this.write(t),e)return this.write(":"),e&&"function"==typeof e.entries?this.array([...e.entries()],!0):void 0}error(e){return this.write("error:"+e.toString())}boolean(e){return this.write("bool:"+e)}string(e){this.write("string:"+e.length+":"),this.write(e)}function(e){this.write("fn:"),!function(e){if("function"!=typeof e)return!1;return"[native code] }"===Function.prototype.toString.call(e).slice(-15)}(e)?this.dispatch(e.toString()):this.dispatch("[native]")}number(e){return this.write("number:"+e)}null(){return this.write("Null")}undefined(){return this.write("Undefined")}regexp(e){return this.write("regex:"+e.toString())}arraybuffer(e){return this.write("arraybuffer:"),this.dispatch(new Uint8Array(e))}url(e){return this.write("url:"+e.toString())}map(e){this.write("map:");const t=[...e];return this.array(t,!1)}set(e){this.write("set:");const t=[...e];return this.array(t,!1)}bigint(e){return this.write("bigint:"+e.toString())}}for(const e of["uint8array","uint8clampedarray","unt8array","uint16array","unt16array","uint32array","unt32array","float32array","float64array"])Hasher2.prototype[e]=function(t){return this.write(e+":"),this.array([...t],!1)};return Hasher2})();function hash(e){return le("string"==typeof e?e:function(e){const t=new _t;return t.dispatch(e),t.buff}(e)).replace(/[-_]/g,"").slice(0,10)}function defineCachedFunction(e,t={}){t={name:"_",base:"/cache",swr:!0,maxAge:1,...t};const o={},n=t.group||"nitro/functions",r=t.name||e.name||"_",a=t.integrity||hash([e,t]),s=t.validate||(e=>void 0!==e.value);return async(...c)=>{if(await(t.shouldBypassCache?.(...c)))return e(...c);const l=await(t.getKey||getKey)(...c),u=await(t.shouldInvalidateCache?.(...c)),d=await async function(e,i,c,l){const u=[t.base,n,r,e+".json"].filter(Boolean).join(":").replace(/:\/$/,":index");let d=await useStorage().getItem(u).catch(e=>{console.error("[cache] Cache read error.",e),useNitroApp().captureError(e,{event:l,tags:["cache"]})})||{};if("object"!=typeof d){d={};const e=new Error("Malformed data read from cache.");console.error("[cache]",e),useNitroApp().captureError(e,{event:l,tags:["cache"]})}const p=1e3*(t.maxAge??0);p&&(d.expires=Date.now()+p);const h=c||d.integrity!==a||p&&Date.now()-(d.mtime||0)>p||!1===s(d),f=h?(async()=>{const n=o[e];n||(void 0!==d.value&&(t.staleMaxAge||0)>=0&&!1===t.swr&&(d.value=void 0,d.integrity=void 0,d.mtime=void 0,d.expires=void 0),o[e]=Promise.resolve(i()));try{d.value=await o[e]}catch(t){throw n||delete o[e],t}if(!n&&(d.mtime=Date.now(),d.integrity=a,delete o[e],!1!==s(d))){let e;t.maxAge&&!t.swr&&(e={ttl:t.maxAge});const o=useStorage().setItem(u,d,e).catch(e=>{console.error("[cache] Cache write error.",e),useNitroApp().captureError(e,{event:l,tags:["cache"]})});l?.waitUntil&&l.waitUntil(o)}})():Promise.resolve();return void 0===d.value?await f:h&&l&&l.waitUntil&&l.waitUntil(f),t.swr&&!1!==s(d)?(f.catch(e=>{console.error("[cache] SWR handler error.",e),useNitroApp().captureError(e,{event:l,tags:["cache"]})}),d):f.then(()=>d)}(l,()=>e(...c),u,c[0]&&i(c[0])?c[0]:void 0);let p=d.value;return t.transform&&(p=await t.transform(d,...c)||p),p}}function getKey(...e){return e.length>0?hash(e):""}function escapeKey(e){return String(e).replace(/\W/g,"")}function defineCachedEventHandler(e,t={name:"_",base:"/cache",swr:!0,maxAge:1}){const i=(t.varies||[]).filter(Boolean).map(e=>e.toLowerCase()).sort(),c={...t,getKey:async e=>{const o=await(t.getKey?.(e));if(o)return escapeKey(o);const n=e.node.req.originalUrl||e.node.req.url||e.path;let r;try{r=escapeKey(decodeURI(parseURL(n).pathname)).slice(0,16)||"index"}catch{r="-"}return[`${r}.${hash(n)}`,...i.map(t=>[t,e.node.req.headers[t]]).map(([e,t])=>`${escapeKey(e)}.${hash(t)}`)].join(":")},validate:e=>!!e.value&&(!(e.value.code>=400)&&(void 0!==e.value.body&&("undefined"!==e.value.headers.etag&&"undefined"!==e.value.headers["last-modified"]))),group:t.group||"nitro/handlers",integrity:t.integrity||hash([e,t])},l=function(e,t={}){return defineCachedFunction(e,t)}(async o=>{const n={};for(const e of i){const t=o.node.req.headers[e];void 0!==t&&(n[e]=t)}const r=cloneWithProxy(o.node.req,{headers:n}),l={};let u;const d=cloneWithProxy(o.node.res,{statusCode:200,writableEnded:!1,writableFinished:!1,headersSent:!1,closed:!1,getHeader:e=>l[e],setHeader(e,t){return l[e]=t,this},getHeaderNames:()=>Object.keys(l),hasHeader:e=>e in l,removeHeader(e){delete l[e]},getHeaders:()=>l,end(e,t,o){return"string"==typeof e&&(u=e),"function"==typeof t&&t(),"function"==typeof o&&o(),this},write:(e,t,o)=>("string"==typeof e&&(u=e),"function"==typeof t&&t(void 0),"function"==typeof o&&o(),!0),writeHead(e,t){if(this.statusCode=e,t){if(Array.isArray(t)||"string"==typeof t)throw new TypeError("Raw headers  is not supported.");for(const e in t){const o=t[e];void 0!==o&&this.setHeader(e,o)}}return this}}),p=a(r,d);p.fetch=(e,t)=>s(p,e,t,{fetch:useNitroApp().localFetch}),p.$fetch=(e,t)=>s(p,e,t,{fetch:globalThis.$fetch}),p.waitUntil=o.waitUntil,p.context=o.context,p.context.cache={options:c};const h=await e(p)||u,f=p.node.res.getHeaders();f.etag=String(f.Etag||f.etag||`W/"${hash(h)}"`),f["last-modified"]=String(f["Last-Modified"]||f["last-modified"]||(new Date).toUTCString());const m=[];t.swr?(t.maxAge&&m.push(`s-maxage=${t.maxAge}`),t.staleMaxAge?m.push(`stale-while-revalidate=${t.staleMaxAge}`):m.push("stale-while-revalidate")):t.maxAge&&m.push(`max-age=${t.maxAge}`),m.length>0&&(f["cache-control"]=m.join(", "));return{code:p.node.res.statusCode,headers:f,body:h}},c);return o(async o=>{if(t.headersOnly){if(n(o,{maxAge:t.maxAge}))return;return e(o)}const a=await l(o);if(o.node.res.headersSent||o.node.res.writableEnded)return a.body;if(!n(o,{modifiedTime:new Date(a.headers["last-modified"]),etag:a.headers.etag,maxAge:t.maxAge})){o.node.res.statusCode=a.code;for(const e in a.headers){const t=a.headers[e];"set-cookie"===e?o.node.res.appendHeader(e,r(t)):void 0!==t&&o.node.res.setHeader(e,t)}return a.body}})}function cloneWithProxy(e,t){return new Proxy(e,{get:(e,o,n)=>o in t?t[o]:Reflect.get(e,o,n),set:(e,o,n,r)=>o in t?(t[o]=n,!0):Reflect.set(e,o,n,r)})}const vt=defineCachedEventHandler,xt=he({nuxt:{},icon:{provider:"server",class:"",aliases:{},iconifyApiEndpoint:"https://api.iconify.design",localApiEndpoint:"/api/_nuxt_icon",fallbackToApi:!0,cssSelectorPrefix:"i-",cssWherePseudo:!0,mode:"css",attrs:{"aria-hidden":!0},collections:["academicons","akar-icons","ant-design","arcticons","basil","bi","bitcoin-icons","bpmn","brandico","bx","bxl","bxs","bytesize","carbon","catppuccin","cbi","charm","ci","cib","cif","cil","circle-flags","circum","clarity","codicon","covid","cryptocurrency","cryptocurrency-color","dashicons","devicon","devicon-plain","ei","el","emojione","emojione-monotone","emojione-v1","entypo","entypo-social","eos-icons","ep","et","eva","f7","fa","fa-brands","fa-regular","fa-solid","fa6-brands","fa6-regular","fa6-solid","fad","fe","feather","file-icons","flag","flagpack","flat-color-icons","flat-ui","flowbite","fluent","fluent-emoji","fluent-emoji-flat","fluent-emoji-high-contrast","fluent-mdl2","fontelico","fontisto","formkit","foundation","fxemoji","gala","game-icons","geo","gg","gis","gravity-ui","gridicons","grommet-icons","guidance","healthicons","heroicons","heroicons-outline","heroicons-solid","hugeicons","humbleicons","ic","icomoon-free","icon-park","icon-park-outline","icon-park-solid","icon-park-twotone","iconamoon","iconoir","icons8","il","ion","iwwa","jam","la","lets-icons","line-md","logos","ls","lucide","lucide-lab","mage","majesticons","maki","map","marketeq","material-symbols","material-symbols-light","mdi","mdi-light","medical-icon","memory","meteocons","mi","mingcute","mono-icons","mynaui","nimbus","nonicons","noto","noto-v1","octicon","oi","ooui","openmoji","oui","pajamas","pepicons","pepicons-pencil","pepicons-pop","pepicons-print","ph","pixelarticons","prime","ps","quill","radix-icons","raphael","ri","rivet-icons","si-glyph","simple-icons","simple-line-icons","skill-icons","solar","streamline","streamline-emojis","subway","svg-spinners","system-uicons","tabler","tdesign","teenyicons","token","token-branded","topcoat","twemoji","typcn","uil","uim","uis","uit","uiw","unjs","vaadin","vs","vscode-icons","websymbol","weui","whh","wi","wpf","zmdi","zondicons"],fetchTimeout:1500}});function getEnv(t,o){const n=fe(t).toUpperCase();return Z(e.env[o.prefix+n]??e.env[o.altPrefix+n])}function _isObject(e){return"object"==typeof e&&!Array.isArray(e)}function applyEnv(e,t,o=""){for(const n in e){const r=o?`${o}_${n}`:n,a=getEnv(r,t);_isObject(e[n])?_isObject(a)?(e[n]={...e[n],...a},applyEnv(e[n],t,r)):void 0===a?applyEnv(e[n],t,r):e[n]=a??e[n]:e[n]=a??e[n],t.envExpansion&&"string"==typeof e[n]&&(e[n]=_expandFromEnv(e[n]))}return e}const kt=/\{\{([^{}]*)\}\}/g;function _expandFromEnv(t){return t.replace(kt,(t,o)=>e.env[o]||t)}const Ct={app:{baseURL:"/",buildId:"dev",buildAssetsDir:"/_nuxt/",cdnURL:""},nitro:{envPrefix:"NUXT_",routeRules:{"/__nuxt_error":{cache:!1},"/":{isr:3600},"/shop/**":{isr:300},"/product/**":{isr:600},"/collections/**":{isr:3600},"/api/**":{cors:!0,headers:{"access-control-allow-origin":"*","access-control-allow-methods":"*","access-control-allow-headers":"*","access-control-max-age":"0","Cache-Control":"no-cache, no-store, must-revalidate"}},"/_nuxt/**":{headers:{"Cache-Control":"public, max-age=31536000, immutable"}},"/_fonts/**":{headers:{"cache-control":"public, max-age=31536000, immutable"},cache:{maxAge:31536e3}},"/_nuxt/builds/meta/**":{headers:{"cache-control":"public, max-age=31536000, immutable"}},"/_nuxt/builds/**":{headers:{"cache-control":"public, max-age=1, immutable"}}}},public:{cartSessionCookie:"cart_session_id",apiBase:"https://earthmanweb.pythonanywhere.com",stripePublishableKey:"pk_test_51RnI9RQqhIDHHphjzZhgi2Bj4akApzISbSLyFA63nwjhQOylD5jzuoKMiRUboP6kqLTPqErM4y0kjiFLUbBqMK0k00Df3oBPkP",gtag:{enabled:!0,initMode:"manual",id:"G-8ZJRJ8ZDQ1",initCommands:[["consent","default",{analytics_storage:"denied",ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",wait_for_update:500}]],config:{},tags:[],loadingStrategy:"defer",url:"https://www.googletagmanager.com/gtag/js"},i18n:{baseUrl:"",defaultLocale:"en",rootRedirect:"",redirectStatusCode:302,skipSettingLocaleOnNavigate:!1,locales:[{code:"en",name:"English",language:""}],detectBrowserLanguage:{alwaysRedirect:!1,cookieCrossOrigin:!1,cookieDomain:"",cookieKey:"i18n_redirected",cookieSecure:!1,fallbackLocale:"",redirectOn:"root",useCookie:!0},experimental:{localeDetector:"",typedPages:!0,typedOptionsAndMessages:!1,alternateLinkCanonicalQueries:!0,devCache:!1,cacheLifetime:"",stripMessagesPayload:!1,preload:!1,strictSeo:!1,nitroContextDetection:!0},domainLocales:{en:{domain:""}}}},apiSecret:"",apiBase:"https://earthmanweb.pythonanywhere.com",contactEmailRecipient:"ivan.filipovic233@gmail.com",paymentEncryptionKey:"fada803edc9b334ffa99e94a3ef4433890d15afd5c0deec175bc86e5e96ec4f1",icon:{serverKnownCssClasses:[]},nodemailer:{from:'"Earthman Contact" <noreply@earthman.com>',host:"sandbox.smtp.mailtrap.io",port:587,secure:!1,auth:{user:"d380fc70b72a88",pass:"c1e80dba19d09f"}},ipx:{maxAge:31536e3,baseURL:"/_ipx",alias:{},fs:{dir:["/home/kai/Projekti/webshop/public"]},http:{domains:["static.zara.net","earthmanweb.pythonanywhere.com"]}}},jt={prefix:"NITRO_",altPrefix:Ct.nitro.envPrefix??e.env.NITRO_ENV_PREFIX??"_",envExpansion:Ct.nitro.envExpansion??e.env.NITRO_ENV_EXPANSION??!1},Rt=_deepFreeze(applyEnv(de(Ct),jt));function useRuntimeConfig(e){if(!e)return Rt;if(e.context.nitro.runtimeConfig)return e.context.nitro.runtimeConfig;const t=de(Ct);return applyEnv(t,jt),e.context.nitro.runtimeConfig=t,t}const St=_deepFreeze(de(xt));function _deepFreeze(e){const t=Object.getOwnPropertyNames(e);for(const o of t){const t=e[o];t&&"object"==typeof t&&_deepFreeze(t)}return Object.freeze(e)}new Proxy(Object.create(null),{get:(e,t)=>{console.warn("Please use `useRuntimeConfig()` instead of accessing config directly.");const o=useRuntimeConfig();if(t in o)return o[t]}}),me("nitro-app",{asyncContext:!1,AsyncLocalStorage:void 0});const At=ge(ye({routes:useRuntimeConfig().nitro.routeRules}));function getRouteRules(e){return e.context._nitro=e.context._nitro||{},e.context._nitro.routeRules||(e.context._nitro.routeRules=getRouteRulesForPath(withoutBase(e.path.split("?")[0],useRuntimeConfig().app.baseURL))),e.context._nitro.routeRules}function getRouteRulesForPath(e){return pe({},...At.matchAll(e).reverse())}function _captureError(e,t){console.error(`[${t}]`,e),useNitroApp().captureError(e,{tags:[t]})}function joinHeaders(e){return Array.isArray(e)?e.join(", "):String(e)}function normalizeCookieHeader(e=""){return r(joinHeaders(e))}function normalizeCookieHeaders(e){const t=new Headers;for(const[o,n]of e)if("set-cookie"===o)for(const e of normalizeCookieHeader(n))t.append("set-cookie",e);else t.set(o,joinHeaders(n));return t}function hasReqHeader(e,t,o){const n=p(e,t);return n&&"string"==typeof n&&n.toLowerCase().includes(o)}async function defaultHandler(t,o,n){const r=t.unhandled||t.fatal,a=t.statusCode||500,s=t.statusMessage||"Server Error",i=b(o,{xForwardedHost:!0,xForwardedProto:!0});if(404===a){const e="/";if(/^\/[^/]/.test(e)&&!i.pathname.startsWith(e)){return{status:302,statusText:"Found",headers:{location:`${e}${i.pathname.slice(1)}${i.search}`},body:"Redirecting..."}}}await loadStackTrace(t).catch(be.error);const c=new xe;if(r&&!n?.silent){const n=[t.unhandled&&"[unhandled]",t.fatal&&"[fatal]"].filter(Boolean).join(" "),r=await(await c.toANSI(t)).replaceAll(e.cwd(),".");be.error(`[request error] ${n} [${o.method}] ${i}\n\n`,r)}const l=n?.json||!p(o,"accept")?.includes("text/html"),u={"content-type":l?"application/json":"text/html","x-content-type-options":"nosniff","x-frame-options":"DENY","referrer-policy":"no-referrer","content-security-policy":"script-src 'self' 'unsafe-inline'; object-src 'none'; base-uri 'self';"};404!==a&&_(o,"cache-control")||(u["cache-control"]="no-cache");return{status:a,statusText:s,headers:u,body:l?{error:!0,url:i,statusCode:a,statusMessage:s,message:t.message,data:t.data,stack:t.stack?.split("\n").map(e=>e.trim())}:await c.toHTML(t,{request:{url:i.href,method:o.method,headers:g(o)}})}}async function loadStackTrace(e){if(!(e instanceof Error))return;const t=await(new ve).defineSourceLoader(sourceLoader).parse(e),o=e.message+"\n"+t.frames.map(e=>function(e){if("native"===e.type)return e.raw;const t=`${e.fileName||""}:${e.lineNumber}:${e.columnNumber})`;return e.functionName?`at ${e.functionName} (${t}`:`at ${t}`}(e)).join("\n");Object.defineProperty(e,"stack",{value:o}),e.cause&&await loadStackTrace(e.cause).catch(be.error)}async function sourceLoader(e){if(!e.fileName||"fs"!==e.fileType||"native"===e.type)return;if("app"===e.type){const t=await we(`${e.fileName}.map`,"utf8").catch(()=>{});if(t){const o=(await new ke(t)).originalPositionFor({line:e.lineNumber,column:e.columnNumber});o.source&&o.line&&(e.fileName=I(N(e.fileName),o.source),e.lineNumber=o.line,e.columnNumber=o.column||0)}}const t=await we(e.fileName,"utf8").catch(()=>{});return t?{contents:t}:void 0}const Pt=[async function(e,t,{defaultHandler:o}){if(t.handled||function(e){return!hasReqHeader(e,"accept","text/html")&&(hasReqHeader(e,"accept","application/json")||hasReqHeader(e,"user-agent","curl/")||hasReqHeader(e,"user-agent","httpie/")||hasReqHeader(e,"sec-fetch-mode","cors")||e.path.startsWith("/api/")||e.path.endsWith(".json"))}(t))return;const n=await o(e,t,{json:!0});if(404===(e.statusCode||500)&&302===n.status)return h(t,n.headers),f(t,n.status,n.statusText),m(t,JSON.stringify(n.body,null,2));"string"!=typeof n.body&&Array.isArray(n.body.stack)&&(n.body.stack=n.body.stack.join("\n"));const r=n.body,a=new URL(r.url);r.url=withoutBase(a.pathname,useRuntimeConfig(t).app.baseURL)+a.search+a.hash,r.message||="Server Error",r.data||=e.data,r.statusMessage||=e.statusMessage,delete n.headers["content-type"],delete n.headers["content-security-policy"],h(t,n.headers);const s=g(t),i=t.path.startsWith("/__nuxt_error")||!!s["x-nuxt-error"]?null:await useNitroApp().localFetch(withQuery(joinURL(useRuntimeConfig(t).app.baseURL,"/__nuxt_error"),r),{headers:{...s,"x-nuxt-error":"true"},redirect:"manual"}).catch(()=>null);if(t.handled)return;if(!i){const{template:e}=await Promise.resolve().then(function(){return Eo});return r.description=r.message,y(t,"Content-Type","text/html;charset=UTF-8"),m(t,e(r))}const c=await i.text();for(const[e,o]of i.headers.entries())"set-cookie"!==e?y(t,e,o):w(t,e,o);return f(t,i.status&&200!==i.status?i.status:n.status,i.statusText||n.statusText),m(t,c)},async function(e,t){const o=await defaultHandler(e,t);return t.node?.res.headersSent||h(t,o.headers),f(t,o.status,o.statusText),m(t,"string"==typeof o.body?o.body:JSON.stringify(o.body,null,2))}];const Tt={meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{name:"description",content:"Automation and custom software that make your business faster, simpler, and smarter."},{name:"format-detection",content:"telephone=no"},{property:"og:type",content:"website"},{property:"og:site_name",content:"Earthman"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"@exitthree"}],link:[{rel:"preconnect",href:"https://earthmanweb.pythonanywhere.com"},{rel:"preconnect",href:"https://www.google-analytics.com"},{rel:"dns-prefetch",href:"https://www.google-analytics.com"},{rel:"icon",type:"image/svg+xml",href:"/favicon_e3.svg"},{rel:"apple-touch-icon",href:"/apple-touch-icon.png"}],style:[],script:[{src:"https://js.stripe.com/v3/",async:!0}],noscript:[],title:"Earthman â€¢ webshop",htmlAttrs:{lang:"en"}},Lt="div",Et={id:"teleports"},Ot="nuxt-app",Ut={VNode:e=>Pe(e)?{type:e.type,props:e.props}:void 0,URL:e=>e instanceof URL?e.toString():void 0},$t=me("nuxt-dev",{asyncContext:!0,AsyncLocalStorage:Ce}),Mt=/\/node_modules\/(?:.*\/)?(?:nuxt|nuxt-nightly|nuxt-edge|nuxt3|consola|@vue)\/|core\/runtime\/nitro/;function useI18nContext(e){if(null==e.context.nuxtI18n)throw new Error("Nuxt I18n server context has not been set up yet.");return e.context.nuxtI18n}new Headers({"x-nuxt-i18n":"internal"}).set("Cache-Control","no-cache");const It=Object.create,create=(e=null)=>It(e),Nt=Array.isArray,isFunction=e=>"function"==typeof e,isString=e=>"string"==typeof e,isObject=e=>null!==e&&"object"==typeof e,zt=Object.prototype.toString,isNotObjectOrIsArray=e=>!isObject(e)||Nt(e);function deepCopy(e,t){if(isNotObjectOrIsArray(e)||isNotObjectOrIsArray(t))throw new Error("Invalid value");const o=[{src:e,des:t}];for(;o.length;){const{src:e,des:t}=o.pop();Object.keys(e).forEach(n=>{"__proto__"!==n&&(isObject(e[n])&&!isObject(t[n])&&(t[n]=Array.isArray(e[n])?[]:create()),isNotObjectOrIsArray(t[n])||isNotObjectOrIsArray(e[n])?t[n]=e[n]:o.push({src:e[n],des:t[n]}))})}}function compareBrowserLocale(e,t){return e.score===t.score?t.code.length-e.code.length:t.score-e.score}const Ht=["en"],Ft={en:[{key:"locale_en_46json_ad7f07e0",load:()=>Promise.resolve().then(function(){return Do}),cache:!0}]},Dt=[],Bt=[{code:"en",name:"English",language:void 0}];function getFallbackLocaleCodes(e,t){if(!1===e)return[];if(Nt(e))return e;let o=[];if(isString(e))return t.every(t=>t!==e)&&o.push(e),o;const n=[...t,"default"];for(const t of n)t in e!=0&&(o=[...o,...e[t].filter(Boolean)]);return o}function isLocaleCacheable(e){return null!=Ft[e]&&Ft[e].every(e=>!1!==e.cache)}function isLocaleWithFallbacksCacheable(e,t){return isLocaleCacheable(e)&&t.every(e=>isLocaleCacheable(e))}const isSupportedLocale=e=>Ht.includes(e||""),qt={runWithContext:async e=>await e()};const isModule=e=>{return"[object Module]"===(t=e,zt.call(t));var t};async function getLocaleMessages(e,t){const o=qt;try{const n=await o.runWithContext(t.load).then(e=>(isModule(e),e.default));return isFunction(n)?await o.runWithContext(()=>n(e)):n}catch(t){throw new Error(`Failed loading locale (${e}): `+t.message)}}async function getLocaleMessagesMerged(e,t=[]){const o=qt,n={};for(const r of t)deepCopy(await o.runWithContext(async()=>await getLocaleMessages(e,r)),n);return n}const setupVueI18nOptions=async e=>{const t=await async function(e){const t=qt,o={messages:{}};for(const n of e){const e=await n().then(e=>e.default);deepCopy(isFunction(e)?await t.runWithContext(()=>e()):e,o)}return o.fallbackLocale??=!1,o}(Dt);t.locale=e||t.locale||"en-US",t.defaultLocale=e,t.fallbackLocale??=!1,t.messages??={};for(const e of Ht)t.messages[e]??={};return t};function useRuntimeI18n(e){return useRuntimeConfig().public.i18n}const Kt=Ee(0),getLocaleFromRoutePath=e=>Kt(e);function getLocaleFromRoute(e){const t=function(e){return String("object"!=typeof e?e:e?.name||e?.path||"")}(e);return"/"===t[0]?getLocaleFromRoutePath(t):t.split("___").at(1)??""}function matchDomainLocale(e,t,o){const n=e.filter(e=>{return((e="")=>e.replace(/https?:\/\//,""))(e.domain)===t||(o=e.domains,Array.isArray(o)?o:[o]).includes(t);var o});return n.length<=1?n[0]?.code:n.find(e=>e.code===o)?.code||n.find(e=>e.defaultForDomains?.includes(t)??e.domainDefault)?.code}const getHeaderLocale=e=>function(e,t){const o=function(e,t){const o=[];for(const[n,r]of t.entries()){const a=e.find(e=>e.language?.toLowerCase()===r.toLowerCase());if(a){o.push({code:a.code,score:1-n/t.length});break}}for(const[n,r]of t.entries()){const a=r.split("-")[0].toLowerCase(),s=e.find(e=>e.language?.split("-")[0].toLowerCase()===a);if(s){o.push({code:s.code,score:.999-n/t.length});break}}return o}(e.map(e=>({code:e.code,language:e.language||e.code})),t);return o.sort(compareBrowserLocale).at(0)?.code??""}(Bt,Oe(p(e,"accept-language")||"")),useDetectors=(e,t,o)=>{if(!e)throw new Error("H3Event is required for server-side locale detection");const n=useRuntimeI18n();return{cookie:()=>((e,t)=>{const o=p(e,"cookie")||"";return Ue(o)[t]})(e,t.cookieKey),header:()=>getHeaderLocale(e),navigator:()=>{},host:t=>((e,t,o)=>{const n=b(e,{xForwardedHost:!0}).host;return matchDomainLocale(Bt.map(e=>({...e,domain:o[e.code]?.domain??e.domain})),n,getLocaleFromRoutePath(t))})(e,t,n.domainLocales),route:e=>getLocaleFromRoute(e)}},Wt={"/faq":{en:"/faq"},"/cart":{en:"/cart"},"/shop":{en:"/shop"},"/about":{en:"/about"},"/":{en:"/"},"/terms":{en:"/terms"},"/contact":{en:"/contact"},"/privacy":{en:"/privacy"},"/checkout":{en:"/checkout"},"/thank-you":{en:"/thank-you"},"/size-guide":{en:"/size-guide"},"/collections":{en:"/collections"},"/collections/:slug(.*)*":{en:"/collections/:slug(.*)*"},"/payment/card":{en:"/payment/card"},"/cookie-policy":{en:"/cookie-policy"},"/privacy-policy":{en:"/privacy-policy"},"/delivery-returns":{en:"/delivery-returns"},"/terms-conditions":{en:"/terms-conditions"},"/payment/paypal/cancel":{en:"/payment/paypal/cancel"},"/payment/paypal/success":{en:"/payment/paypal/success"},"/product/:collection()/:product(.*)*":{en:"/product/:collection()/:product(.*)*"}},Qt={"/faq":"/faq","/cart":"/cart","/shop":"/shop","/about":"/about","/":"/","/terms":"/terms","/contact":"/contact","/privacy":"/privacy","/checkout":"/checkout","/thank-you":"/thank-you","/size-guide":"/size-guide","/collections":"/collections","/collections/:slug(.*)*":"/collections/:slug(.*)*","/payment/card":"/payment/card","/cookie-policy":"/cookie-policy","/privacy-policy":"/privacy-policy","/delivery-returns":"/delivery-returns","/terms-conditions":"/terms-conditions","/payment/paypal/cancel":"/payment/paypal/cancel","/payment/paypal/success":"/payment/paypal/success","/product/:collection()/:product(.*)*":"/product/:collection()/:product(.*)*"},Vt=$e([],{});for(const e of Object.keys(Qt))Vt.addRoute({path:e,component:()=>"",meta:{}});function matchLocalized(e,t,o){if(""===e)return;const n=parsePath(e),r=Vt.resolve({path:n.pathname||"/"},{path:"/",name:"",matched:[],params:{},meta:{}});if(r.matched.length>0){const e=((e,t)=>{if(!e||!t)return;const o=Qt[e],n=Wt[o];return n&&n[t]?!0===n[t]?o:n[t]:void 0})(r.matched[0].path,t),n=Vt.resolve({params:r.params},{path:e||"/",name:"",matched:[],params:{},meta:{}}),a=function(e,t){return e!==t||!1}(t,o);return withLeadingSlash(joinURL(a?t:"",n.path))}}const _ifp7RgCKY8ciEdz4Rnc0BqLtKVIcRUEzFX_Oc7e0LCU=async e=>{const t=useRuntimeI18n(),o=function(e){if(e)return{path:"/"+(isString(e)?e:e.path).replace(/^\//,""),code:!isString(e)&&e.statusCode||302}}(t.rootRedirect),n=t.defaultLocale||"";try{const e=useStorage("cache"),t=await e.getKeys("nitro:handlers:i18n");await Promise.all(t.map(t=>e.removeItem(t)))}catch{}const r=function(){const e=useRuntimeI18n().detectBrowserLanguage,t=e||{};return{...t,enabled:!!e,cookieKey:t.cookieKey||"i18n_redirected"}}(),a={path:"/",domain:r.cookieDomain||void 0,maxAge:31536e3,sameSite:"lax",secure:r.cookieSecure};const s=(!isFunction(t.baseUrl)&&t.baseUrl,isFunction(t.baseUrl)?(console.warn("[nuxt-i18n] Configuring baseUrl as a function is deprecated and will be removed in v11."),()=>""):(e,t)=>"");e.hooks.hook("request",async e=>{const i=await setupVueI18nOptions((c=(e=>b(e,{xForwardedHost:!0}).host)(e),Bt.find(e=>!!e.defaultForDomains?.includes(c))?.code||n));var c;const l=b(e),d={messages:{},slp:{},localeConfigs:{},trackMap:{},vueI18nOptions:void 0,trackKey(e,t){this.trackMap[t]??=new Set,this.trackMap[t].add(e)}};e.context.nuxtI18n=d;{const n=useDetectors(e,r),c=n.route(e.path),p=isSupportedLocale(c)&&c||void 0,h=p&&l.pathname.slice(p.length+1)||l.pathname;if(!l.pathname.includes("/_i18n/")&&!function(e){if(""===e)return;const t=Vt.resolve({path:e},{path:"/",name:"",matched:[],params:{},meta:{}});return t.matched.length>0?t:void 0}(h))return;const f=function(e,n,a,s,i){let c,l="";for(const t of function*(e,t,o){t.enabled&&(yield{locale:e.cookie(),source:"cookie"},yield{locale:e.header(),source:"header"}),yield{locale:e.route(o),source:"route"},yield{locale:t.fallbackLocale,source:"fallback"}}(i,r,e.path))if(t.locale&&isSupportedLocale(t.locale)){l=t.locale;break}l||=s;let u=302;const d=b(e);switch(o&&"/"===d.pathname?(l=r.enabled&&l||s,c=isSupportedLocale(i.route(o.path))&&o.path||matchLocalized(o.path,l,s),u=o.code):t.redirectStatusCode&&(u=t.redirectStatusCode),r.redirectOn){case"root":if("/"!==d.pathname)break;case"no prefix":if(a)break;case"all":c??=function(t){const o=matchLocalized(n||"/",t,s);if(o&&o!==e.path)return o}(l)}return d.pathname,{path:c,code:u,locale:l}}(e,h,p,i.defaultLocale,n);if(f.path&&f.path!==l.pathname)return d.detectLocale=f.locale,r.useCookie&&v(e,r.cookieKey,f.locale,a),void await u(e,joinURL(s(e,i.defaultLocale),f.path+l.search),f.code)}const p=function(e){const t={};for(const o of Ht){const n=getFallbackLocaleCodes(e,[o]),r=isLocaleWithFallbacksCacheable(o,n);t[o]={fallbacks:n,cacheable:r}}return t}(i.fallbackLocale);d.vueI18nOptions=i,d.localeConfigs=p}),e.hooks.hook("render:html",(e,{event:t})=>{!function(e){e.context.nuxtI18n}(t)})},Xt=[function(e){e.hooks.hook("render:html",e=>{e.head.push("<script>\nif (!window.__NUXT_DEVTOOLS_TIME_METRIC__) {\n  Object.defineProperty(window, '__NUXT_DEVTOOLS_TIME_METRIC__', {\n    value: {},\n    enumerable: false,\n    configurable: true,\n  })\n}\nwindow.__NUXT_DEVTOOLS_TIME_METRIC__.appInit = Date.now()\n<\/script>")})},e=>{const t=e.h3App.handler;var o;e.h3App.handler=e=>$t.callAsync({logs:[],event:e},()=>t(e)),o=e=>{const t=$t.tryUse();if(!t)return;const o=Se();if(!o||o.includes("runtime/vite-node.mjs"))return;const n=[];let r="";for(const e of Ae(o))e.source!==globalThis._importMeta_.url&&(Mt.test(e.source)||(r||=e.source.replace(withTrailingSlash("/home/kai/Projekti/webshop"),""),n.push({...e,source:e.source.startsWith("file://")?e.source.replace("file://",""):e.source})));const a={...e,filename:r,stack:n};t.logs.push(a)},_e.addReporter({log(e){o(e)}}),_e.wrapConsole(),e.hooks.hook("afterResponse",()=>{const t=$t.tryUse();if(t)return e.hooks.callHook("dev:ssr-logs",{logs:t.logs,path:t.event.path})}),e.hooks.hook("render:html",e=>{const t=$t.tryUse();if(t)try{const o=Object.assign(Object.create(null),Ut,t.event.context._payloadReducers);e.bodyAppend.unshift(`<script type="application/json" data-nuxt-logs="${Ot}">${je(t.logs,o)}<\/script>`)}catch(e){const t=e instanceof Error&&"toString"in e?` Received \`${e.toString()}\`.`:"";console.warn(`[nuxt] Failed to stringify dev server logs.${t} You can define your own reducer/reviver for rich types following the instructions in https://nuxt.com/docs/api/composables/use-nuxt-app#payload.`)}})},_ifp7RgCKY8ciEdz4Rnc0BqLtKVIcRUEzFX_Oc7e0LCU,function(e){e.hooks.hook("render:html",e=>{e.head.push('<script>"use strict";(()=>{const t=window,e=document.documentElement,c=["dark","light"],n=getStorageValue("localStorage","nuxt-color-mode")||"system";let i=n==="system"?u():n;const r=e.getAttribute("data-color-mode-forced");r&&(i=r),l(i),t["__NUXT_COLOR_MODE__"]={preference:n,value:i,getColorScheme:u,addColorScheme:l,removeColorScheme:d};function l(o){const s=""+o+"-mode",a="";e.classList?e.classList.add(s):e.className+=" "+s,a&&e.setAttribute("data-"+a,o)}function d(o){const s=""+o+"-mode",a="";e.classList?e.classList.remove(s):e.className=e.className.replace(new RegExp(s,"g"),""),a&&e.removeAttribute("data-"+a)}function f(o){return t.matchMedia("(prefers-color-scheme"+o+")")}function u(){if(t.matchMedia&&f("").media!=="not all"){for(const o of c)if(f(":"+o).matches)return o}return"light"}})();function getStorageValue(t,e){switch(t){case"localStorage":return window.localStorage.getItem(e);case"sessionStorage":return window.sessionStorage.getItem(e);case"cookie":return getCookie(e);default:return null}}function getCookie(t){const c=("; "+window.document.cookie).split("; "+t+"=");if(c.length===2)return c.pop()?.split(";").shift()}<\/script>')})}],Jt={};const Yt={"/_nuxt/builds/meta/":{maxAge:31536e3},"/_nuxt/builds/":{maxAge:1},"/_fonts/":{maxAge:31536e3}};function getAsset(e){return Jt[e]}const Gt=new Set(["HEAD","GET"]),Zt={gzip:".gz",br:".br"},eo=c(e=>{if(e.method&&!Gt.has(e.method))return;let t=decode(withLeadingSlash(withoutTrailingSlash(parseURL(e.path).pathname)).replace(dt,"%252F"));let o;const n=[...String(p(e,"accept-encoding")||"").split(",").map(e=>Zt[e.trim()]).filter(Boolean).sort(),""];n.length>1&&w(e,"Vary","Accept-Encoding");for(const e of n)for(const n of[t+e,joinURL(t,"index.html"+e)]){const e=getAsset(n);if(e){o=e,t=n;break}}if(!o){if(function(e=""){if(Jt[e])return!0;for(const t in Yt)if(e.startsWith(t))return!0;return!1}(t))throw x(e,"Cache-Control"),k({statusCode:404});return}if(p(e,"if-none-match")===o.etag)return f(e,304,"Not Modified"),"";const r=p(e,"if-modified-since"),a=new Date(o.mtime);return r&&o.mtime&&new Date(r)>=a?(f(e,304,"Not Modified"),""):(o.type&&!_(e,"Content-Type")&&y(e,"Content-Type",o.type),o.etag&&!_(e,"ETag")&&y(e,"ETag",o.etag),o.mtime&&!_(e,"Last-Modified")&&y(e,"Last-Modified",a.toUTCString()),o.encoding&&!_(e,"Content-Encoding")&&y(e,"Content-Encoding",o.encoding),o.size>0&&!_(e,"Content-Length")&&y(e,"Content-Length",o.size),function(e){const t=Ne(Ie(globalThis._importMeta_.url));return Me.readFile(ze(t,Jt[e].path))}(t))});const to={},oo={};function buildAssetsURL(...e){return joinRelativeURL(publicAssetsURL(),useRuntimeConfig().app.buildAssetsDir,...e)}function publicAssetsURL(...e){const t=useRuntimeConfig().app,o=t.cdnURL||t.baseURL;return e.length?joinRelativeURL(o,...e):o}function decryptPaymentToken(e){const t=useRuntimeConfig();if(!t.paymentEncryptionKey)throw k({statusCode:500,message:"Payment encryption not configured"});try{const o=e.split(":");if(2!==o.length)throw new Error("Invalid token format");const[n,r]=o,a=Buffer.from(t.paymentEncryptionKey,"hex"),s=Buffer.from(n,"hex"),i=B("aes-256-cbc",a,s);let c=i.update(r,"hex","utf8");c+=i.final("utf8");const l=JSON.parse(c);if(l.expiresAt<Date.now())throw new Error("Token expired");return l}catch(e){throw console.error("Token decryption failed:",e.message),k({statusCode:400,message:"Invalid or expired payment token"})}}const no=new Set,ro="https://api.iconify.design",ao=defineCachedEventHandler(async e=>{const t=b(e);if(!t)return k({status:400,message:"Invalid icon request"});const o=St.icon,n=e.context.params?.collection?.replace(/\.json$/,""),r=n?await(Be[n]?.()):null,a=o.iconifyApiEndpoint||ro,s=t.searchParams.get("icons")?.split(",");if(r){if(s?.length){const e=De(r,s);return _e.debug(`[Icon] serving ${(s||[]).map(e=>"`"+n+":"+e+"`").join(",")} from bundled collection`),e}}else n&&!no.has(n)&&a===ro&&(_e.warn([`[Icon] Collection \`${n}\` is not found locally`,`We suggest to install it via \`npm i -D @iconify-json/${n}\` to provide the best end-user experience.`].join("\n")),no.add(n));if(!0===o.fallbackToApi||"server-only"===o.fallbackToApi){const e=new URL("./"+He(t.pathname)+t.search,a);if(_e.debug(`[Icon] fetching ${(s||[]).map(e=>"`"+n+":"+e+"`").join(",")} from iconify api`),e.host!==new URL(a).host)return k({status:400,message:"Invalid icon request"});try{return await $fetch(e.href)}catch(e){return _e.error(e),404===e.status?k({status:404}):k({status:500,message:"Failed to fetch fallback icon"})}}return k({status:404})},{group:"nuxt",name:"icon",getKey(e){const t=e.context.params?.collection?.replace(/\.json$/,"")||"unknown",o=String(j(e).icons||"");return`${t}_${o.split(",")[0]}_${o.length}_${ue(o)}`},swr:!0,maxAge:604800}),so=ie(useStorage(),"i18n");function cachedFunctionI18n(e,t){t={maxAge:1,...t};const o={};return async(...n)=>{const r=[t.name,t.getKey(...n)].join(":").replace(/:\/$/,":index"),a=t.maxAge??1,s=!t.shouldBypassCache(...n)&&a>=0,i=s&&await so.getItemRaw(r);if(!i||i.ttl<Date.now()){o[r]=Promise.resolve(e(...n));const t=await async function(e,t){o[e]||(o[e]=Promise.resolve(t()));try{return await o[e]}finally{delete o[e]}}(r,()=>e(...n));return s&&await so.setItemRaw(r,{ttl:Date.now()+1e3*a,value:t,mtime:Date.now()}),t}return i.value}}const _getMessages=async e=>({[e]:await getLocaleMessagesMerged(e,Ft[e])});cachedFunctionI18n(_getMessages,{name:"messages",maxAge:-1,getKey:e=>e,shouldBypassCache:e=>!isLocaleCacheable(e)});const io=_getMessages,co=cachedFunctionI18n(async(e,t)=>{const o={};try{if(t.length>0){const e=await Promise.all(t.map(io));for(const t of e)deepCopy(t,o)}return deepCopy(await io(e),o),o}catch(e){throw new Error("Failed to merge messages: "+e.message)}},{name:"merged-single",maxAge:-1,getKey:(e,t)=>`${e}-[${[...new Set(t)].sort().join("-")}]`,shouldBypassCache:(e,t)=>!isLocaleWithFallbacksCacheable(e,t)});cachedFunctionI18n(async e=>{const t={};try{const o=await Promise.all(e.map(io));for(const e of o)deepCopy(e,t);return t}catch(e){throw new Error("Failed to merge messages: "+e.message)}},{name:"merged-all",maxAge:-1,getKey:e=>e.join("-"),shouldBypassCache:e=>!e.every(e=>isLocaleCacheable(e))});const lo=o(async e=>{const t=R(e,"locale");if(!t)throw k({status:400,message:"Locale not specified."});const o=useI18nContext(e);if(o.localeConfigs&&t in o.localeConfigs==!1)throw k({status:404,message:`Locale '${t}' not found.`});return deepCopy(await co(t,o.localeConfigs?.[t]?.fallbacks??[]),o.messages),o.messages});defineCachedEventHandler(defineCachedFunction(lo,{name:"i18n:messages-internal",maxAge:-1,getKey:e=>R(e,"locale")??"null",shouldBypassCache(e){const t=R(e,"locale");return null!=t&&!useI18nContext(e).localeConfigs?.[t]?.cacheable}}),{name:"i18n:messages",maxAge:-1,swr:!1,getKey:e=>R(e,"locale")??"null"});const uo=lo,VueResolver=(e,t)=>Le(t)?Te(t):t;function resolveUnrefHeadInput(e){return Ye(e,VueResolver)}function createHead(e={}){const t=qe({...e,propResolvers:[VueResolver]});return t.install=function(e){return{install(t){t.config.globalProperties.$unhead=e,t.config.globalProperties.$head=e,t.provide("usehead",e)}}.install}(t),t}const po={disableDefaults:!0,disableCapoSorting:!1,plugins:[Qe,Ve,Xe,Je]};function createSSRContext(e){return{url:e.path,event:e,runtimeConfig:useRuntimeConfig(e),noSSR:e.context.nuxt?.noSSR||!1,head:createHead(po),error:!1,nuxt:void 0,payload:{},_payloadReducers:Object.create(null),modules:new Set}}const ho=`<${Lt}${Ke({id:"__nuxt"})}>`,fo=`</${Lt}>`,getClientManifest=()=>import("file:///home/kai/Projekti/webshop/.nuxt//dist/server/client.manifest.mjs").then(e=>e.default||e).then(e=>"function"==typeof e?e():e),mo=lazyCachedFunction(async()=>{const t=await getClientManifest();if(!t)throw new Error("client.manifest is not available");const o=await import("file:///home/kai/Projekti/webshop/.nuxt//dist/server/server.mjs").then(e=>e.default||e);if(!o)throw new Error("Server bundle is not available");const n=V(o,{manifest:t,renderToString:async function(t,o){const r=await G(t,o);e.env.NUXT_VITE_NODE_OPTIONS&&n.rendererContext.updateManifest(await getClientManifest());return ho+r+fo},buildAssetsURL:buildAssetsURL});return n}),go=lazyCachedFunction(async()=>{const e=await getClientManifest(),t=await Promise.resolve().then(function(){return Bo}).then(e=>e.template).catch(()=>"").then(e=>ho+e+fo),o=V(()=>()=>{},{manifest:e,renderToString:()=>t,buildAssetsURL:buildAssetsURL}),n=await o.renderToString({});return{rendererContext:o.rendererContext,renderToString:e=>{const t=useRuntimeConfig(e.event);return e.modules||=new Set,e.payload.serverRendered=!1,e.config={public:t.public,app:t.app},Promise.resolve(n)}}});function lazyCachedFunction(e){let t=null;return()=>(null===t&&(t=e().catch(e=>{throw t=null,e})),t)}const yo=lazyCachedFunction(()=>Promise.resolve().then(function(){return qo}).then(e=>e.default||e));const wo=new RegExp(`^<${Lt}[^>]*>([\\s\\S]*)<\\/${Lt}>$`);function getServerComponentHTML(e){const t=e.match(wo);return t?.[1]||e}const bo=/^uid=([^;]*);slot=(.*)$/,_o=/^uid=([^;]*);client=(.*)$/,vo=/^island-slot=([^;]*);(.*)$/;function getSlotIslandResponse(e){if(!e.islandContext||!Object.keys(e.islandContext.slots).length)return;const t={};for(const[o,n]of Object.entries(e.islandContext.slots))t[o]={...n,fallback:e.teleports?.[`island-fallback=${o}`]};return t}function getClientIslandResponse(e){if(!e.islandContext||!Object.keys(e.islandContext.components).length)return;const t={};for(const[o,n]of Object.entries(e.islandContext.components)){const r=e.teleports?.[o]?.replaceAll("\x3c!--teleport start anchor--\x3e","")||"";t[o]={...n,html:r,slots:getComponentSlotTeleport(o,e.teleports??{})}}return t}function getComponentSlotTeleport(e,t){const o=Object.entries(t),n={};for(const[t,r]of o){const o=t.match(vo);if(o){const[,t,a]=o;if(!a||e!==t)continue;n[a]=r}}return n}function replaceIslandTeleports(e,t){const{teleports:o,islandContext:n}=e;if(n||!o)return t;for(const e in o){const n=e.match(_o);if(n){const[,r,a]=n;if(!r||!a)continue;t=t.replace(new RegExp(` data-island-uid="${r}" data-island-component="${a}"[^>]*>`),t=>t+o[e]);continue}const r=e.match(bo);if(r){const[,n,a]=r;if(!n||!a)continue;t=t.replace(new RegExp(` data-island-uid="${n}" data-island-slot="${a}"[^>]*>`),t=>t+o[e])}}return t}const xo=/\.json(?:\?.*)?$/,ko=o(async e=>{const t=useNitroApp();h(e,{"content-type":"application/json;charset=utf-8","x-powered-by":"Nuxt"});const o=await async function(e){let t=e.path||"";const o=t.substring(15).replace(xo,"").split("_"),n=o.length>1?o.pop():void 0,r=o.join("_"),a="GET"===e.method?j(e):await S(e);return{url:"/",...a,id:n,name:r,props:ee(a.props)||{},slots:{},components:{}}}(e),n={...createSSRContext(e),islandContext:o,noSSR:!1,url:o.url},r=await mo(),a=await r.renderToString(n).catch(async e=>{throw await(n.nuxt?.hooks.callHook("app:error",e)),e}),s=await async function(e){const t=await yo(),o=new Set;for(const n of e)if(n in t&&t[n])for(const e of await t[n]())o.add(e);return Array.from(o).map(e=>({innerHTML:e}))}(n.modules??[]);await(n.nuxt?.hooks.callHook("app:rendered",{ssrContext:n,renderResult:a})),s.length&&n.head.push({style:s});{const{styles:e}=X(n,r.rendererContext),t=[];for(const o of Object.values(e))"inline"in getQuery(o.file)||o.file.includes("scoped")&&!o.file.includes("pages/")&&t.push({rel:"stylesheet",href:r.rendererContext.buildAssetsURL(o.file),crossorigin:""});t.length&&n.head.push({link:t},{mode:"server"})}const i={};for(const e of n.head.entries.values())for(const[t,o]of Object.entries(resolveUnrefHeadInput(e.input))){const e=i[t];Array.isArray(e)&&e.push(...o),i[t]=o}i.link||=[],i.style||=[];const c={id:o.id,head:i,html:getServerComponentHTML(a.html),components:getClientIslandResponse(n),slots:getSlotIslandResponse(n)};return await t.hooks.callHook("render:island",c,{event:e,islandContext:o}),c});const _lazy_0QEeZm=()=>Promise.resolve().then(function(){return wn}),Co=[{route:"",handler:eo,lazy:!1,middleware:!0,method:void 0},{route:"/api/contact",handler:()=>Promise.resolve().then(function(){return Wo}),lazy:!0,middleware:!1,method:"post"},{route:"/api/orders/create",handler:()=>Promise.resolve().then(function(){return Vo}),lazy:!0,middleware:!1,method:"post"},{route:"/api/payment/get-client-secret",handler:()=>Promise.resolve().then(function(){return Jo}),lazy:!0,middleware:!1,method:"post"},{route:"/api/payment/initialize",handler:()=>Promise.resolve().then(function(){return Go}),lazy:!0,middleware:!1,method:"post"},{route:"/api/payment/verify",handler:()=>Promise.resolve().then(function(){return en}),lazy:!0,middleware:!1,method:"post"},{route:"/api/paypal/execute",handler:()=>Promise.resolve().then(function(){return on}),lazy:!0,middleware:!1,method:"post"},{route:"/api/private/cart/clear",handler:()=>Promise.resolve().then(function(){return rn}),lazy:!0,middleware:!1,method:"delete"},{route:"/api/private/delete/cart",handler:()=>Promise.resolve().then(function(){return sn}),lazy:!0,middleware:!1,method:"delete"},{route:"/api/private/get/cart",handler:()=>Promise.resolve().then(function(){return ln}),lazy:!0,middleware:!1,method:"get"},{route:"/api/private/put/cart",handler:()=>Promise.resolve().then(function(){return dn}),lazy:!0,middleware:!1,method:"put"},{route:"/__nuxt_error",handler:_lazy_0QEeZm,lazy:!0,middleware:!1,method:void 0},{route:"/api/_nuxt_icon/:collection",handler:ao,lazy:!1,middleware:!1,method:void 0},{route:"/_i18n/:locale/messages.json",handler:uo,lazy:!1,middleware:!1,method:void 0},{route:"/__nuxt_island/**",handler:ko,lazy:!1,middleware:!1,method:void 0},{route:"/_ipx/**",handler:A(()=>{const e=useRuntimeConfig().ipx||{},t=e?.fs?.dir?(Array.isArray(e.fs.dir)?e.fs.dir:[e.fs.dir]).map(e=>Fe(e)?e:Ie(new URL(e,globalThis._importMeta_.url))):void 0,o=e.fs?.dir?Ge({...e.fs,dir:t}):void 0,n=e.http?.domains?Ze({...e.http}):void 0;if(!o&&!n)throw new Error("IPX storage is not configured!");const r={...e,storage:o||n,httpStorage:n},a=et(r),s=tt(a);return P(e.baseURL,s)}),lazy:!1,middleware:!1,method:void 0},{route:"/_fonts/**",handler:_lazy_0QEeZm,lazy:!0,middleware:!1,method:void 0},{route:"/**",handler:_lazy_0QEeZm,lazy:!0,middleware:!1,method:void 0}];const jo=function(){const e=useRuntimeConfig(),t=te(),captureError=(e,o={})=>{const n=t.callHookParallel("error",e,o).catch(e=>{console.error("Error while capturing another error",e)});if(o.event&&i(o.event)){const t=o.event.context.nitro?.errors;t&&t.push({error:e,context:o}),o.event.waitUntil&&o.event.waitUntil(n)}},o=T({debug:Z(!0),onError:(e,t)=>(captureError(e,{event:t,tags:["request"]}),async function(e,t){for(const o of Pt)try{if(await o(e,t,{defaultHandler:defaultHandler}),t.handled)return}catch(e){console.error(e)}}(e,t)),onRequest:async e=>{e.context.nitro=e.context.nitro||{errors:[]};const t=e.node.req?.__unenv__;t?._platform&&(e.context={_platform:t?._platform,...t._platform,...e.context}),!e.context.waitUntil&&t?.waitUntil&&(e.context.waitUntil=t.waitUntil),e.fetch=(t,o)=>s(e,t,o,{fetch:localFetch}),e.$fetch=(t,o)=>s(e,t,o,{fetch:a}),e.waitUntil=t=>{e.context.nitro._waitUntilPromises||(e.context.nitro._waitUntilPromises=[]),e.context.nitro._waitUntilPromises.push(t),e.context.waitUntil&&e.context.waitUntil(t)},e.captureError=(t,o)=>{captureError(t,{event:e,...o})},await jo.hooks.callHook("request",e).catch(t=>{captureError(t,{event:e,tags:["request"]})})},onBeforeResponse:async(e,t)=>{await jo.hooks.callHook("beforeResponse",e,t).catch(t=>{captureError(t,{event:e,tags:["request","response"]})})},onAfterResponse:async(e,t)=>{await jo.hooks.callHook("afterResponse",e,t).catch(t=>{captureError(t,{event:e,tags:["request","response"]})})}}),n=L({preemptive:!0}),r=E(o),localFetch=(e,t)=>e.toString().startsWith("/")?re(r,e,t).then(e=>function(e){return e.headers.has("set-cookie")?new Response(e.body,{status:e.status,statusText:e.statusText,headers:normalizeCookieHeaders(e.headers)}):e}(e)):globalThis.fetch(e,t),a=oe({fetch:localFetch,Headers:ne,defaults:{baseURL:e.app.baseURL}});var p;globalThis.$fetch=a,o.use((p={localFetch:localFetch},c(e=>{const t=getRouteRules(e);if(t.headers&&l(e,t.headers),t.redirect){let o=t.redirect.to;if(o.endsWith("/**")){let n=e.path;const r=t.redirect._redirectStripBase;r&&(n=withoutBase(n,r)),o=joinURL(o.slice(0,-3),n)}else e.path.includes("?")&&(o=withQuery(o,getQuery(e.path)));return u(e,o,t.redirect.statusCode)}if(t.proxy){let o=t.proxy.to;if(o.endsWith("/**")){let n=e.path;const r=t.proxy._proxyStripBase;r&&(n=withoutBase(n,r)),o=joinURL(o.slice(0,-3),n)}else e.path.includes("?")&&(o=withQuery(o,getQuery(e.path)));return d(e,o,{fetch:p.localFetch,...t.proxy})}})));for(const t of Co){let r=t.lazy?A(t.handler):t.handler;if(t.middleware||!t.route){const n=(e.app.baseURL+(t.route||"/")).replace(/\/+/g,"/");o.use(n,r)}else{const e=getRouteRulesForPath(t.route.replace(/:\w+|\*\*/g,"_"));e.cache&&(r=vt(r,{group:"nitro/routes",...e.cache})),n.use(t.route,r,t.method)}}return o.use(e.app.baseURL,n.handler),{hooks:t,h3App:o,router:n,localCall:e=>ae(r,e),localFetch:localFetch,captureError:captureError}}();function useNitroApp(){return jo}!function(e){for(const t of Xt)try{t(e)}catch(t){throw e.captureError(t,{tags:["plugin"]}),t}}(jo),globalThis.crypto||(globalThis.crypto=H);const{NITRO_NO_UNIX_SOCKET:Ro,NITRO_DEV_WORKER_ID:So}=e.env;e.on("unhandledRejection",e=>_captureError(e,"unhandledRejection")),e.on("uncaughtException",e=>_captureError(e,"uncaughtException")),q?.on("message",e=>{e&&"shutdown"===e.event&&shutdown()});const Ao=useNitroApp(),Po=new M(E(Ao.h3App));let To;function listen(o=Boolean(Ro||e.versions.webcontainer||"Bun"in globalThis&&"win32"===e.platform)){return new Promise((n,r)=>{try{To=Po.listen(o?0:function(){const o=`nitro-worker-${e.pid}-${K}-${So}-${Math.round(1e4*Math.random())}.sock`;if("win32"===e.platform)return z(String.raw`\\.\pipe`,o);if("linux"===e.platform){if(Number.parseInt(e.versions.node.split(".")[0],10)>=20)return`\0${o}`}return z(t(),o)}(),()=>{const e=Po.address();q?.postMessage({event:"listen",address:"string"==typeof e?{socketPath:e}:{host:"localhost",port:e?.port}}),n()})}catch(e){r(e)}})}async function shutdown(){Po.closeAllConnections?.(),await Promise.all([new Promise(e=>To?.close(e)),Ao.hooks.callHook("close").catch(console.error)]),q?.postMessage({event:"exit"})}listen().catch(()=>listen(!0)).catch(e=>(console.error("Dev worker failed to listen:",e),shutdown())),Ao.router.get("/_nitro/tasks",o(async e=>{const t=await Promise.all(Object.entries(to).map(async([e,t])=>{const o=await(t.resolve?.());return[e,{description:o?.meta?.description}]}));return{tasks:Object.fromEntries(t),scheduledTasks:false}})),Ao.router.use("/_nitro/tasks/:name",o(async e=>{const t=R(e,"name"),o={...j(e),...await S(e).then(e=>e?.payload).catch(()=>({}))};return await async function(e,{payload:t={},context:o={}}={}){if(oo[e])return oo[e];if(!(e in to))throw k({message:`Task \`${e}\` is not available!`,statusCode:404});if(!to[e].resolve)throw k({message:`Task \`${e}\` is not implemented!`,statusCode:501});const n=await to[e].resolve(),r={name:e,payload:t,context:o};oo[e]=n.run(r);try{return await oo[e]}finally{delete oo[e]}}(t,{payload:o})}));const Lo={appName:"Nuxt",version:"",statusCode:500,statusMessage:"Server error",description:"An error occurred in the application and the page could not be served. If you are the application owner, check your server logs for details.",stack:""},Eo=Object.freeze(Object.defineProperty({__proto__:null,template:e=>(e={...Lo,...e},'<!DOCTYPE html><html lang="en"><head><title>'+W(e.statusCode)+" - "+W(e.statusMessage||"Internal Server Error")+'</title><meta charset="utf-8"><meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0" name="viewport"><style>.spotlight{background:linear-gradient(45deg,#00dc82,#36e4da 50%,#0047e1);bottom:-40vh;filter:blur(30vh);height:60vh;opacity:.8}*,:after,:before{border-color:var(--un-default-border-color,#e5e7eb);border-style:solid;border-width:0;box-sizing:border-box}:after,:before{--un-content:""}html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;-moz-tab-size:4;tab-size:4;-webkit-tap-highlight-color:transparent}body{line-height:inherit;margin:0}h1{font-size:inherit;font-weight:inherit}h1,p{margin:0}*,:after,:before{--un-rotate:0;--un-rotate-x:0;--un-rotate-y:0;--un-rotate-z:0;--un-scale-x:1;--un-scale-y:1;--un-scale-z:1;--un-skew-x:0;--un-skew-y:0;--un-translate-x:0;--un-translate-y:0;--un-translate-z:0;--un-pan-x: ;--un-pan-y: ;--un-pinch-zoom: ;--un-scroll-snap-strictness:proximity;--un-ordinal: ;--un-slashed-zero: ;--un-numeric-figure: ;--un-numeric-spacing: ;--un-numeric-fraction: ;--un-border-spacing-x:0;--un-border-spacing-y:0;--un-ring-offset-shadow:0 0 transparent;--un-ring-shadow:0 0 transparent;--un-shadow-inset: ;--un-shadow:0 0 transparent;--un-ring-inset: ;--un-ring-offset-width:0px;--un-ring-offset-color:#fff;--un-ring-width:0px;--un-ring-color:rgba(147,197,253,.5);--un-blur: ;--un-brightness: ;--un-contrast: ;--un-drop-shadow: ;--un-grayscale: ;--un-hue-rotate: ;--un-invert: ;--un-saturate: ;--un-sepia: ;--un-backdrop-blur: ;--un-backdrop-brightness: ;--un-backdrop-contrast: ;--un-backdrop-grayscale: ;--un-backdrop-hue-rotate: ;--un-backdrop-invert: ;--un-backdrop-opacity: ;--un-backdrop-saturate: ;--un-backdrop-sepia: }.pointer-events-none{pointer-events:none}.fixed{position:fixed}.left-0{left:0}.right-0{right:0}.z-10{z-index:10}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.h-auto{height:auto}.min-h-screen{min-height:100vh}.flex{display:flex}.flex-1{flex:1 1 0%}.flex-col{flex-direction:column}.overflow-y-auto{overflow-y:auto}.rounded-t-md{border-top-left-radius:.375rem;border-top-right-radius:.375rem}.bg-black\\/5{background-color:#0000000d}.bg-white{--un-bg-opacity:1;background-color:rgb(255 255 255/var(--un-bg-opacity))}.p-8{padding:2rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.pt-14{padding-top:3.5rem}.text-6xl{font-size:3.75rem;line-height:1}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-black{--un-text-opacity:1;color:rgb(0 0 0/var(--un-text-opacity))}.font-light{font-weight:300}.font-medium{font-weight:500}.leading-tight{line-height:1.25}.font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@media (prefers-color-scheme:dark){.dark\\:bg-black{--un-bg-opacity:1;background-color:rgb(0 0 0/var(--un-bg-opacity))}.dark\\:bg-white\\/10{background-color:#ffffff1a}.dark\\:text-white{--un-text-opacity:1;color:rgb(255 255 255/var(--un-text-opacity))}}@media (min-width:640px){.sm\\:text-2xl{font-size:1.5rem;line-height:2rem}.sm\\:text-8xl{font-size:6rem;line-height:1}}</style><script>!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll(\'link[rel="modulepreload"]\'))r(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&r(e)})).observe(document,{childList:!0,subtree:!0})}function r(e){if(e.ep)return;e.ep=!0;const r=function(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?r.credentials="include":"anonymous"===e.crossOrigin?r.credentials="omit":r.credentials="same-origin",r}(e);fetch(e.href,r)}}();<\/script></head><body class="antialiased bg-white dark:bg-black dark:text-white flex flex-col font-sans min-h-screen pt-14 px-10 text-black"><div class="fixed left-0 pointer-events-none right-0 spotlight"></div><h1 class="font-medium mb-6 sm:text-8xl text-6xl">'+W(e.statusCode)+'</h1><p class="font-light leading-tight mb-8 sm:text-2xl text-xl">'+W(e.description)+'</p><div class="bg-black/5 bg-white dark:bg-white/10 flex-1 h-auto overflow-y-auto rounded-t-md"><div class="font-light leading-tight p-8 text-xl z-10">'+W(e.stack)+"</div></div></body></html>")},Symbol.toStringTag,{value:"Module"}));var Oo="Welcome to Our Shop",Uo="Explore our latest collection with immersive video background.",$o="See Shop",Mo="View Story",Io="View Story",No="View Story",zo="View Story",Ho="View Story";const Fo={welcome_title:Oo,welcome_subtitle:Uo,shop_button:$o,story_button:Mo,about_title:Io,about_subtitle:No,about_paragraf_one:zo,about_paragraf_two:Ho},Do=Object.freeze(Object.defineProperty({__proto__:null,about_paragraf_one:zo,about_paragraf_two:Ho,about_subtitle:No,about_title:Io,default:Fo,shop_button:$o,story_button:Mo,welcome_subtitle:Uo,welcome_title:Oo},Symbol.toStringTag,{value:"Module"})),Bo=Object.freeze(Object.defineProperty({__proto__:null,template:""},Symbol.toStringTag,{value:"Module"})),qo=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})),Ko=o(async e=>{const{sendMail:t}=(()=>{const{nodemailer:e}=useRuntimeConfig(),t=Q(e);return{nodemailer:e,sendMail:o=>t.sendMail({from:e.from,...o}),transport:t}})(),o=useRuntimeConfig();console.log("ðŸ” Runtime Config:",{contactEmailRecipient:o.contactEmailRecipient,hasRecipient:!!o.contactEmailRecipient});const n=await S(e),{name:r,email:a,subject:s,message:i}=n;if(!(r&&a&&s&&i))throw k({statusCode:400,statusMessage:"All fields are required"});const c=o.contactEmailRecipient;if(console.log("ðŸ“§ Recipient email:",c),!c)throw console.error("âŒ CRITICAL: No recipient email configured!"),k({statusCode:500,statusMessage:"Server configuration error: No recipient email"});try{return console.log("ðŸ“¨ Attempting to send to:",c),await t({from:'"Earthman Contact" <noreply@earthman.com>',to:c,replyTo:a,subject:`[Earthman Contact] ${s}`,text:`From: ${r}\nEmail: ${a}\n\n${i}`}),console.log("âœ… Email sent successfully"),{success:!0}}catch(e){throw console.error("âŒ Contact form error:",e.message),k({statusCode:500,statusMessage:e.message})}}),Wo=Object.freeze(Object.defineProperty({__proto__:null,default:Ko},Symbol.toStringTag,{value:"Module"})),Qo=o(async e=>{var t;const o=useRuntimeConfig(),n=await S(e),r=["email","country","address","city","postal_code","phone_number","delivery_address","delivery_city","delivery_postal_code","payment_method","shipping_cost"];for(const e of r)if(!n[e])throw k({statusCode:400,message:`Missing required field: ${e}`});if(!["card","paypal"].includes(n.payment_method))throw k({statusCode:400,message:'Invalid payment method. Must be "card" or "paypal"'});if("number"!=typeof n.shipping_cost||n.shipping_cost<0)throw k({statusCode:400,message:"Invalid shipping cost"});const a={email:n.email.trim().toLowerCase(),country:n.country.trim(),address:n.address.trim(),city:n.city.trim(),postal_code:n.postal_code.trim(),phone_number:n.phone_number.trim(),delivery_address:n.delivery_address.trim(),delivery_city:n.delivery_city.trim(),delivery_postal_code:n.delivery_postal_code.trim(),payment_method:n.payment_method,shipping_cost:n.shipping_cost,session_id:n.session_id};try{const t=O(e,"cookie"),n=await $fetch(`${o.apiBase}/api/orders/create/`,{method:"POST",headers:{"Content-Type":"application/json",...t&&{Cookie:t}},body:a}),r=function(e){const t=useRuntimeConfig();if(!t.paymentEncryptionKey)throw new Error("PAYMENT_ENCRYPTION_KEY not configured");const o=Buffer.from(t.paymentEncryptionKey,"hex"),n=F(16),r=D("aes-256-cbc",o,n),a=JSON.stringify(e);let s=r.update(a,"utf8","hex");return s+=r.final("hex"),`${n.toString("hex")}:${s}`}({clientSecret:n.client_secret,paypalApprovalUrl:n.paypal_approval_url,orderReference:n.order_reference,amount:parseFloat(n.total_price),currency:"EUR",paymentMethod:n.payment_method,expiresAt:Date.now()+36e5});return{payment_id:r,order_reference:n.order_reference,total_price:n.total_price,payment_method:n.payment_method}}catch(e){throw console.error("Order creation failed:",e),k({statusCode:e.statusCode||500,message:(null==(t=e.data)?void 0:t.detail)||"Failed to create order"})}}),Vo=Object.freeze(Object.defineProperty({__proto__:null,default:Qo},Symbol.toStringTag,{value:"Module"})),Xo=o(async e=>{const t=await S(e);if(!t.payment_id)throw k({statusCode:400,message:"Payment ID is required"});const o=decryptPaymentToken(t.payment_id);if("card"!==o.paymentMethod)throw k({statusCode:400,message:"This endpoint is only for card payments"});if(!o.clientSecret)throw k({statusCode:500,message:"Client secret not found in payment data"});return{client_secret:o.clientSecret,amount:o.amount,currency:o.currency}}),Jo=Object.freeze(Object.defineProperty({__proto__:null,default:Xo},Symbol.toStringTag,{value:"Module"})),Yo=o(async e=>{const t=await S(e);if(!t.payment_id)throw k({statusCode:400,message:"Payment ID is required"});const o=decryptPaymentToken(t.payment_id);if("card"===o.paymentMethod)return{type:"card",order_reference:o.orderReference,amount:o.amount,currency:o.currency};if("paypal"===o.paymentMethod){if(!o.paypalApprovalUrl)throw k({statusCode:500,message:"PayPal approval URL not found"});return{type:"paypal",approval_url:o.paypalApprovalUrl,order_reference:o.orderReference,amount:o.amount,currency:o.currency}}throw k({statusCode:400,message:"Invalid payment method"})}),Go=Object.freeze(Object.defineProperty({__proto__:null,default:Yo},Symbol.toStringTag,{value:"Module"})),Zo=o(async e=>{var t;const o=useRuntimeConfig(),n=await S(e);if(!n.payment_intent_id||!n.order_reference)throw k({statusCode:400,message:"Payment intent ID and order reference are required"});if(n.payment_id)try{if(decryptPaymentToken(n.payment_id).orderReference!==n.order_reference)throw k({statusCode:400,message:"Order reference mismatch"})}catch(e){console.warn("Payment token validation failed, proceeding with server verification")}try{return await $fetch(`${o.apiBase}/api/stripe/verify-payment/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{payment_intent_id:n.payment_intent_id,order_reference:n.order_reference}})}catch(e){throw console.error("Payment verification failed:",e),k({statusCode:e.statusCode||500,message:(null==(t=e.data)?void 0:t.detail)||"Payment verification failed"})}}),en=Object.freeze(Object.defineProperty({__proto__:null,default:Zo},Symbol.toStringTag,{value:"Module"})),tn=o(async e=>{var t;const o=useRuntimeConfig(),n=await S(e);if(!n.payment_id||!n.payer_id||!n.order_reference)throw k({statusCode:400,message:"Payment ID, Payer ID, and order reference are required"});if(!/^[A-Z0-9-]+$/.test(n.order_reference))throw k({statusCode:400,message:"Invalid order reference format"});if(n.payment_session_id)try{const e=decryptPaymentToken(n.payment_session_id);if(e.orderReference!==n.order_reference)throw k({statusCode:400,message:"Order reference mismatch"});if("paypal"!==e.paymentMethod)throw k({statusCode:400,message:"Invalid payment method for this endpoint"})}catch(e){console.warn("Payment token validation failed, proceeding with server verification")}try{return await $fetch(`${o.apiBase}/api/paypal/execute/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{payment_id:n.payment_id,payer_id:n.payer_id,order_reference:n.order_reference}})}catch(e){throw console.error("PayPal execution failed:",e),k({statusCode:e.statusCode||500,message:(null==(t=e.data)?void 0:t.detail)||"PayPal payment execution failed"})}}),on=Object.freeze(Object.defineProperty({__proto__:null,default:tn},Symbol.toStringTag,{value:"Module"})),nn=o(async e=>{const{apiBase:t,cartSessionCookie:o}=useRuntimeConfig().public,n=o||"cart_session_id";let r=U(e,n)||"none";const a=`${n}=${encodeURIComponent(r)}`;try{return await $fetch(`${t}/public/cart/clear/`,{method:"DELETE",headers:{"Content-Type":"application/json",cookie:a}})}catch(e){throw console.error("âŒ DELETE /cart/clear - Django error:",e),k({statusCode:(null==e?void 0:e.status)||500,statusMessage:(null==e?void 0:e.statusText)||"Clear cart failed",data:(null==e?void 0:e.data)||null})}}),rn=Object.freeze(Object.defineProperty({__proto__:null,default:nn},Symbol.toStringTag,{value:"Module"})),an=o(async e=>{const{apiBase:t,cartSessionCookie:o}=useRuntimeConfig().public,n=o||"cart_session_id";let r=U(e,n)||"none";const a=`${n}=${encodeURIComponent(r)}`;let s=j(e).product_slug;if(!s)try{const t=await S(e);s=null==t?void 0:t.product_slug}catch(e){}if(!s)throw k({statusCode:400,statusMessage:"Missing product_slug"});try{return await $fetch(`${t}/public/cart/item/delete/`,{method:"DELETE",headers:{"Content-Type":"application/json",cookie:a},body:{product_variant_slug:s}})}catch(e){throw console.error("âŒ DELETE /cart - Django error:",e),k({statusCode:(null==e?void 0:e.status)||500,statusMessage:(null==e?void 0:e.statusText)||"Delete failed",data:(null==e?void 0:e.data)||null})}}),sn=Object.freeze(Object.defineProperty({__proto__:null,default:an},Symbol.toStringTag,{value:"Module"})),cn=o(async e=>{const{apiBase:t,cartSessionCookie:o}=useRuntimeConfig().public,n=o||"cart_session_id",r=U(e,n)||"none",a=`${n}=${encodeURIComponent(r)}`;return await $fetch(`${t}/public/cart/`,{method:"GET",headers:{cookie:a}})}),ln=Object.freeze(Object.defineProperty({__proto__:null,default:cn},Symbol.toStringTag,{value:"Module"})),un=o(async e=>{const{apiBase:t,cartSessionCookie:o}=useRuntimeConfig().public,n=o||"cart_session_id";let r=U(e,n)||"none";const a=`${n}=${encodeURIComponent(r)}`,s=await S(e);if(!(null==s?void 0:s.product_slug))throw k({statusCode:400,statusMessage:"Missing product_slug"});if(!(null==s?void 0:s.quantity)||s.quantity<1)throw k({statusCode:400,statusMessage:"Quantity must be 1 or more"});try{return await $fetch(`${t}/public/cart/item/`,{method:"PUT",headers:{"Content-Type":"application/json",cookie:a},body:{product_variant_slug:s.product_slug,quantity:s.quantity}})}catch(e){throw console.error("âŒ PUT /cart - Django error:",e),k({statusCode:(null==e?void 0:e.status)||500,statusMessage:(null==e?void 0:e.statusText)||"Add to cart failed",data:(null==e?void 0:e.data)||null})}}),dn=Object.freeze(Object.defineProperty({__proto__:null,default:un},Symbol.toStringTag,{value:"Module"}));function renderPayloadJsonScript(e){const t={type:"application/json",innerHTML:e.data?je(e.data,e.ssrContext._payloadReducers):"","data-nuxt-data":Ot,"data-ssr":!e.ssrContext.noSSR,id:"__NUXT_DATA__"};e.src&&(t["data-src"]=e.src);return[t,{innerHTML:`window.__NUXT__={};window.__NUXT__.config=${Re(e.ssrContext.config)}`}]}function splitPayload(e){const{data:t,prerenderedAt:o,...n}=e.payload;return{initial:{...n,prerenderedAt:o},payload:{data:t,prerenderedAt:o}}}const pn={omitLineBreaks:!1};globalThis.__buildAssetsURL=buildAssetsURL,globalThis.__publicAssetsURL=publicAssetsURL;const hn=!!Et.id,fn=hn?`<div${Ke(Et)}>`:"",mn=hn?"</div>":"",gn=/^[^?]*\/_payload.json(?:\?.*)?$/,yn=function(e){const t=useRuntimeConfig();return c(async o=>{const n=useNitroApp(),r={event:o,render:e,response:void 0};if(await n.hooks.callHook("render:before",r),!r.response){if(o.path===`${t.app.baseURL}favicon.ico`)return y(o,"Content-Type","image/x-icon"),m(o,"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");if(r.response=await r.render(o),!r.response){const e=C(o);return f(o,200===e?500:e),m(o,"No response returned from render handler: "+o.path)}}return await n.hooks.callHook("render:response",r.response,r),r.response.headers&&h(o,r.response.headers),(r.response.statusCode||r.response.statusMessage)&&f(o,r.response.statusCode,r.response.statusMessage),r.response.body})}(async e=>{const t=useNitroApp(),o=e.path.startsWith("/__nuxt_error")?j(e):null;if(o&&!("__unenv__"in e.node.req))throw k({statusCode:404,statusMessage:"Page Not Found: /__nuxt_error"});const n=createSSRContext(e),r={mode:"server"};n.head.push(Tt,r),o&&(o.statusCode&&=Number.parseInt(o.statusCode),function(e,t){e.error=!0,e.payload={error:t},e.url=t.url}(n,o));const a=gn.test(n.url);if(a){const t=n.url.substring(0,n.url.lastIndexOf("/"))||"/";n.url=t,e._path=e.node.req.url=t}const s=getRouteRules(e);!1===s.ssr&&(n.noSSR=!0);const i=await function(e){return e.noSSR?go():mo()}(n),c=await i.renderToString(n).catch(async e=>{if(n._renderResponse&&"skipping render"===e.message)return{};const t=!o&&n.payload?.error||e;throw await(n.nuxt?.hooks.callHook("app:error",t)),t}),l=[];if(await(n.nuxt?.hooks.callHook("app:rendered",{ssrContext:n,renderResult:c})),n._renderResponse)return n._renderResponse;if(n.payload?.error&&!o)throw n.payload.error;if(a){const e=function(e){return{body:je(splitPayload(e).payload,e._payloadReducers),statusCode:C(e.event),statusMessage:$(e.event),headers:{"content-type":"application/json;charset=utf-8","x-powered-by":"Nuxt"}}}(n);return e}const u=s.noScripts,{styles:d,scripts:p}=X(n,i.rendererContext);n._preloadManifest&&!u&&n.head.push({link:[{rel:"preload",as:"fetch",fetchpriority:"low",crossorigin:"anonymous",href:buildAssetsURL(`builds/meta/${n.runtimeConfig.app.buildId}.json`)}]},{...r,tagPriority:"low"}),l.length&&n.head.push({style:l});const h=[];for(const e of Object.values(d))"inline"in getQuery(e.file)||h.push({rel:"stylesheet",href:i.rendererContext.buildAssetsURL(e.file),crossorigin:""});if(h.length&&n.head.push({link:h},r),u||(n.head.push({link:J(n,i.rendererContext)},r),n.head.push({link:Y(n,i.rendererContext)},r),n.head.push({script:renderPayloadJsonScript({ssrContext:n,data:n.payload})},{...r,tagPosition:"bodyClose",tagPriority:"high"})),!s.noScripts){const e="head";n.head.push({script:Object.values(p).map(t=>({type:t.module?"module":null,src:i.rendererContext.buildAssetsURL(t.file),defer:!t.module||null,tagPosition:e,crossorigin:""}))},r)}const{headTags:f,bodyTags:m,bodyTagsOpen:g,htmlAttrs:y,bodyAttrs:w}=await We(n.head,pn),b={htmlAttrs:y?[y]:[],head:normalizeChunks([f]),bodyAttrs:w?[w]:[],bodyPrepend:normalizeChunks([g,n.teleports?.body]),body:[replaceIslandTeleports(n,c.html),fn+(hn?joinTags([n.teleports?.[`#${Et.id}`]]):"")+mn],bodyAppend:[m]};return await t.hooks.callHook("render:html",b,{event:e}),{body:(_=b,`<!DOCTYPE html><html${joinAttrs(_.htmlAttrs)}><head>${joinTags(_.head)}</head><body${joinAttrs(_.bodyAttrs)}>${joinTags(_.bodyPrepend)}${joinTags(_.body)}${joinTags(_.bodyAppend)}</body></html>`),statusCode:C(e),statusMessage:$(e),headers:{"content-type":"text/html;charset=utf-8","x-powered-by":"Nuxt"}};var _});function normalizeChunks(e){const t=[];for(const o of e){const e=o?.trim();e&&t.push(e)}return t}function joinTags(e){return e.join("")}function joinAttrs(e){return 0===e.length?"":" "+e.join(" ")}const wn=Object.freeze(Object.defineProperty({__proto__:null,default:yn},Symbol.toStringTag,{value:"Module"}));
//# sourceMappingURL=index.mjs.map
