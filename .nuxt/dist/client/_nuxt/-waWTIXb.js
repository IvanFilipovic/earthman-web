import{_ as Y}from"./a9qNeQMv.js";import{u as G,H as z,y as l,U as s,a0 as t,I as v,a3 as _,a4 as $,a5 as E,G as b,b as P,A as F,D as K,v as Z,o as J,L as B,a1 as A,V as X,Q as D,a6 as R,a7 as U,aa as W}from"./Y--I0j7T.js";import{_ as ee}from"./D-AL0EpN.js";import{z as te,u as H}from"./BRCu1utf.js";/* empty css        */import oe from"./DgM-im28.js";import{g as q}from"./DKtf60Sy.js";import{S as Q}from"./Duwiz9RP.js";import{b as O,c as se,f as le,_ as ne}from"#entry";import"./m-EGHGAn.js";const re={class:"pt-8 mt-2 md:mt-6 px-4 md:px-8"},ae={class:"collection-content"},ce={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 min-h-screen"},ie={class:"absolute bottom-0 left-0 right-0 p-4 md:p-6 bg-background_color/80 w-full"},ue={class:"space-y-3"},de={class:"flex items-center gap-2"},ge={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8"},pe={class:"pt-3 md:pt-4 text-left space-y-2"},ve={class:"flex items-center gap-2"},_e={key:2},he={class:"group col-span-2 md:col-span-1",role:"status","aria-busy":"true","aria-label":"Loading product"},ye={class:"pt-3 md:pt-4 text-left space-y-2"},me={class:"flex items-center gap-2"},fe={class:"col-span-2 md:col-span-2 flex flex-col justify-center"},be={class:"flex flex-col space-y-3"},xe={key:3,class:"flex justify-center py-4 md:py-6"},we=G({__name:"CollectionShopListingSkeleton",props:{animate:{type:Boolean,default:!0},sections:{default:()=>[{type:"standard",textLines:3,showSeparator:!0},{type:"reversed",textLines:3,showSeparator:!0},{type:"standard",textLines:3,showSeparator:!1},{type:"hero",showSeparator:!1},{type:"reversed",textLines:3,showSeparator:!0},{type:"standard",textLines:3,showSeparator:!1},{type:"triple",count:3,showSeparator:!1}]}},setup(S){const i=S,C=z(()=>i.sections);return(u,n)=>(s(),l("section",re,[t("div",ae,[(s(!0),l(v,null,_(b(C),(f,h)=>(s(),l("div",{key:h,class:$(["pb-8 md:pb-12",{"animate-pulse":S.animate}])},[f.type==="hero"?(s(),l("div",ce,[(s(),l(v,null,_(2,c=>t("article",{key:c,class:"relative min-h-[50vh] md:min-h-full overflow-hidden w-full",role:"status","aria-busy":"true","aria-label":"Loading product"},[n[3]||(n[3]=t("div",{class:"absolute inset-0 bg-gray-300"},null,-1)),t("div",ie,[t("div",ue,[n[0]||(n[0]=t("div",{class:"h-3 w-24 bg-gray-300 rounded"},null,-1)),n[1]||(n[1]=t("div",{class:"h-8 md:h-10 lg:h-12 w-3/4 bg-gray-300 rounded"},null,-1)),t("div",de,[(s(),l(v,null,_(4,d=>t("div",{key:d,class:"w-8 h-8 md:w-10 md:h-10 bg-gray-300 border-2 border-background_color"})),64))]),n[2]||(n[2]=t("div",{class:"h-10 w-32 bg-gray-300 rounded"},null,-1))])])])),64))])):f.type==="triple"?(s(),l("div",ge,[(s(!0),l(v,null,_(f.count,c=>(s(),l("article",{key:c,class:"group",role:"status","aria-busy":"true","aria-label":"Loading product"},[n[6]||(n[6]=t("div",{class:"relative w-full overflow-hidden"},[t("div",{class:"w-full aspect-[3/4] bg-gray-300 border border-gray-300"})],-1)),t("div",pe,[n[4]||(n[4]=t("div",{class:"h-3 w-20 bg-gray-300 rounded"},null,-1)),n[5]||(n[5]=t("div",{class:"h-4 w-3/4 bg-gray-300 rounded"},null,-1)),t("div",ve,[(s(),l(v,null,_(3,d=>t("div",{key:d,class:"w-7 h-7 md:w-8 md:h-8 bg-gray-300 border border-gray-300"})),64))])])]))),128))])):(s(),l("div",_e,[t("div",{class:$(["grid grid-cols-2 md:grid-cols-3 gap-x-4 md:gap-x-8 lg:gap-x-24 gap-y-8",f.type==="reversed"?"md:flex md:flex-row-reverse":""])},[t("article",he,[n[9]||(n[9]=t("div",{class:"relative w-full overflow-hidden"},[t("div",{class:"w-full aspect-[3/4] bg-gray-300 border border-gray-300"})],-1)),t("div",ye,[n[7]||(n[7]=t("div",{class:"h-3 w-20 bg-gray-300 rounded"},null,-1)),n[8]||(n[8]=t("div",{class:"h-4 w-3/4 bg-gray-300 rounded"},null,-1)),t("div",me,[(s(),l(v,null,_(3,c=>t("div",{key:c,class:"w-7 h-7 md:w-8 md:h-8 bg-gray-300 border border-gray-300"})),64))])])]),t("div",fe,[n[10]||(n[10]=t("div",{class:"h-4 w-32 bg-gray-300 rounded mb-3 px-4"},null,-1)),t("div",be,[(s(!0),l(v,null,_(f.textLines,c=>(s(),l("div",{key:c,class:$(["h-4 bg-gray-300 rounded px-4",{"w-full":c===1,"w-11/12":c===2,"w-10/12":c===3,"w-9/12":c>3}])},null,2))),128))])])],2)])),f.showSeparator&&h<b(C).length-1?(s(),l("div",xe,[...n[11]||(n[11]=[t("div",{class:"w-64 h-px bg-gray-300"},null,-1)])])):E("",!0)],2))),128))])]))}}),ke={key:0,class:"block md:hidden"},$e=["src","alt","onClick"],Ce=G({__name:"MobileColorSlider",props:{colors:{}},emits:["go"],setup(S,{emit:i}){const C=S,u=i,n=P(0),[f,h]=te({loop:!0,initial:0,slideChanged(d){n.value=d.track.details.rel}});F(()=>C.colors?.length,async()=>{await K(),h.value&&(h.value.update(),h.value.moveToIdx(0),n.value=0)});function c(d){d.variant_slug&&u("go",d.variant_slug)}return(d,M)=>S.colors&&S.colors.length>0?(s(),l("div",ke,[t("div",{ref_key:"sliderRef",ref:f,class:"keen-slider"},[(s(!0),l(v,null,_(S.colors,(k,p)=>(s(),l("div",{key:p,class:"keen-slider__slide"},[t("img",{src:k.avatar_image,alt:k.color,class:"w-full h-auto object-cover border border-text_color/30",loading:"lazy",onClick:T=>c(k)},null,8,$e)]))),128))],512)])):E("",!0)}}),Se={class:"pt-8 mt-2 md:mt-6 px-4 md:px-8"},Me={class:"collection-content"},Le={key:0,class:"pb-8 md:pb-12"},Ae={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 min-h-screen"},je=["src","alt","onMouseenter"],ze={class:"absolute bottom-0 left-0 right-0 p-4 md:p-6 text-text_color bg-background_color/80 w-full"},qe={class:"hero-content"},Ee={class:"text-xs tracking-widest uppercase mb-1 opacity-80"},Te={class:"hero-title text-2xl md:text-3xl lg:text-4xl font-bold mb-3 uppercase tracking-tight"},Ie={class:"flex items-center gap-2 mb-4"},Be=["onMouseenter","onMouseleave"],Pe=["src","alt","onClick"],De={key:1,class:"pb-8 md:pb-12"},Ge={class:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8"},Ne={class:"relative overflow-hidden"},Ve=["src","alt","onMouseenter","onClick"],Re={key:1,class:"block md:hidden"},Ue=["src","alt","onClick"],We=["onClick"],He={class:"pt-3 md:pt-4 text-left"},Qe={class:"text-xs tracking-wider font-extralight"},Fe={class:"uppercase tracking-wider text-sm font-normal truncate py-1"},Ke={key:0,class:"mt-1 flex items-center gap-2"},Oe=["onMouseenter","onMouseleave"],Ye=["src","alt","onClick"],Ze={key:2,class:"pb-8 md:pb-12"},Je={class:"relative overflow-hidden"},Xe=["src","alt","onMouseenter","onClick"],et={key:1,class:"block md:hidden"},tt=["src","alt","onClick"],ot=["onClick"],st={class:"pt-3 md:pt-4 text-left"},lt={class:"text-xs tracking-wider font-extralight"},nt={class:"uppercase tracking-wider text-sm font-normal truncate py-1"},rt={key:0,class:"mt-1 flex items-center gap-2"},at=["onMouseenter","onMouseleave"],ct=["src","alt","onClick"],it={class:"col-span-2 md:col-span-2 flex flex-col justify-center section-trigger-line"},ut={class:"section-heading uppercase tracking-wider text-xs md:text-sm mb-3 px-4"},dt={class:"flex flex-col"},gt={key:3,class:"flex justify-center py-4 md:py-6"},pt=G({__name:"CollectionShopListing",props:{products:{},collection:{}},setup(S){q.registerPlugin(Q);const i=S,C=O(),u=P(null),n=P({});let f=null;const h=z(()=>{const o=i.collection||{};return[o.element_one,o.element_two,o.element_three,o.element_four,o.element_five].filter(Boolean)}),c=z(()=>{const o=[...i.products],a=[];let g=0;o.length>=1&&(a.push({layout:"standard",items:[o[0]],text:h.value[0]||"",heading:i.collection?.name||"Collection"}),g=1),o.length>=2&&(a.push({layout:"reversed",items:[o[1]],text:h.value[1]||"",heading:i.collection?.name||"Collection"}),g=2),o.length>=3&&(a.push({layout:"standard",items:[o[2]],text:h.value[2]||"",heading:i.collection?.name||"Collection"}),g=3),o.length>=5&&(a.push({layout:"hero",items:[o[3],o[4]],text:"",heading:""}),g=5),o.length>=6&&(a.push({layout:"reversed",items:[o[5]],text:h.value[3]||"",heading:i.collection?.name||"Collection"}),g=6),o.length>=7&&(a.push({layout:"standard",items:[o[6]],text:h.value[4]||"",heading:i.collection?.name||"Collection"}),g=7);let L=0;for(;g<o.length;){const j=o.length-g;if(L>0&&L%3===0&&j>=2)a.push({layout:"hero",items:[o[g],o[g+1]],text:"",heading:""}),g+=2,L++;else{const x=Math.min(3,j);a.push({layout:"triple",items:o.slice(g,g+x),text:"",heading:""}),g+=x,L++}}return a});function d(o,a){return n.value[o.slug]===a}function M(o,a,g){u.value=o.slug,o.currentImage=a.avatar_image,n.value[o.slug]=g}function k(o){o.currentImage=o.colors?.[0]?.avatar_image,n.value[o.slug]=null,u.value=null}function p(o,a){!o||!a||C.push(`/product/${o}/${a}`)}function T(o=""){return o.split(new RegExp("(?<=[.!?])\\s+|\\n+")).filter(Boolean)}function I(o){return c.value[o].layout!=="hero"}function N(){f=q.context(()=>{document.querySelectorAll(".hero-title").forEach(o=>{q.from(o,{scrollTrigger:{trigger:o,start:"top 80%"},y:80,opacity:0,duration:.9,ease:"power4.out"})}),document.querySelectorAll(".hero-content").forEach(o=>{q.from(o.querySelectorAll("p, .btn"),{scrollTrigger:{trigger:o,start:"top 80%"},y:40,opacity:0,duration:1.2,ease:"power4.out",stagger:.1})}),document.querySelectorAll(".section-heading").forEach(o=>{q.from(o,{scrollTrigger:{trigger:o,start:"top 80%"},y:40,opacity:0,duration:1.2,ease:"power4.out"})}),document.querySelectorAll(".section-text-line").forEach((o,a)=>{q.from(o,{scrollTrigger:{trigger:".section-trigger-line",start:"top 90%"},y:30,opacity:0,duration:1,ease:"power4.out",delay:a*.5})})})}return Z(()=>{K(()=>{N()})}),J(()=>{f?.revert(),f=null,Q.getAll().forEach(o=>o.kill())}),(o,a)=>{const g=ee,L=Ce,j=oe;return s(),l("section",Se,[t("div",Me,[(s(!0),l(v,null,_(b(c),(x,y)=>(s(),l("div",{key:y},[x.layout==="hero"?(s(),l("div",Le,[t("div",Ae,[(s(!0),l(v,null,_(x.items,e=>(s(),l("article",{key:e.slug,class:"group cursor-pointer relative min-h-[50vh] md:min-h-full overflow-hidden w-full"},[t("img",{src:e.currentImage||e.colors?.[0]?.avatar_image,alt:e.alt_text||e.name,class:"absolute inset-0 max-w-full h-full object-contain mx-auto transition-transform duration-700 group-hover:scale-105",loading:"lazy",onMouseenter:r=>u.value=e.slug,onMouseleave:a[0]||(a[0]=r=>u.value=null)},null,40,je),a[4]||(a[4]=t("div",{class:"absolute inset-0"},null,-1)),t("div",ze,[t("div",qe,[t("p",Ee,A(e.category),1),t("h2",Te,A(e.name),1),t("div",Ie,[(s(!0),l(v,null,_(e.colors?.slice(0,4),(r,m)=>(s(),l("div",{key:m,class:"relative",onMouseenter:w=>M(e,r,m),onMouseleave:w=>k(e)},[t("img",{src:r.avatar_image,alt:r.color,class:"w-8 h-8 md:w-10 md:h-10 object-cover border-2 border-background_color cursor-pointer transition-transform hover:scale-110",onClick:w=>p(e.slug,r.variant_slug)},null,8,Pe)],40,Be))),128))]),B(g,{to:`/product/${e.slug}/${e.colors?.[0]?.variant_slug}`,class:"btn btn--secondary inline-flex text-sm"},{default:X(()=>[...a[3]||(a[3]=[t("span",{class:"btn__text"},"Discover",-1),t("span",{class:"btn__fill"},null,-1)])]),_:1},8,["to"])])])]))),128))])])):x.layout==="triple"?(s(),l("div",De,[t("div",Ge,[(s(!0),l(v,null,_(x.items,e=>(s(),l("article",{key:e.slug,class:"group cursor-pointer"},[t("div",Ne,[t("img",{src:e.currentImage||e.colors?.[0]?.avatar_image,alt:e.alt_text||e.name,class:"hidden md:block w-full h-full object-cover border border-text_color/30 transition-transform duration-500 group-hover:scale-105",loading:"lazy",onMouseenter:r=>u.value=e.slug,onMouseleave:a[1]||(a[1]=r=>u.value=null),onClick:r=>p(e.slug,e.colors?.[0]?.variant_slug)},null,40,Ve),e.colors&&e.colors.length>0?(s(),D(L,{key:0,colors:e.colors,onGo:r=>p(e.slug,r)},null,8,["colors","onGo"])):(s(),l("div",Re,[t("img",{src:e.currentImage,alt:e.alt_text||e.name,class:"w-full h-auto object-cover border border-text_color/30",loading:"lazy",onClick:r=>p(e.slug,e.colors?.[0]?.variant_slug)},null,8,Ue)])),R(t("button",{type:"button",class:$(["absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light px-2 transition-opacity duration-200",{"opacity-100":b(u)===e.slug,"opacity-0":b(u)!==e.slug}]),onClick:r=>p(e.slug,e.colors?.[0]?.variant_slug)}," VIEW ",10,We),[[U,b(u)===e.slug]])]),t("div",He,[t("p",Qe,A(e.category),1),t("h3",Fe,A(e.name),1),e.colors&&e.colors.length>0?(s(),l("div",Ke,[(s(!0),l(v,null,_(e.colors,(r,m)=>(s(),l("div",{key:m,class:"relative",onMouseenter:w=>M(e,r,m),onMouseleave:w=>k(e)},[t("img",{src:r.avatar_image,alt:r.color,class:"w-7 h-7 md:h-8 md:w-8 object-cover border border-project_text_color/40 cursor-pointer",loading:"lazy",onClick:w=>p(e.slug,r.variant_slug)},null,8,Ye),t("div",{class:$(["absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color",d(e,m)?"opacity-100":"opacity-0"])},[B(j,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 text-background_color m-auto"})],2)],40,Oe))),128))])):E("",!0)])]))),128))])])):(s(),l("div",Ze,[t("div",{class:$(["grid grid-cols-2 md:grid-cols-3 gap-x-4 md:gap-x-8 lg:gap-x-24 gap-y-8",x.layout==="reversed"?"md:flex md:flex-row-reverse":""])},[(s(!0),l(v,null,_(x.items,e=>(s(),l("article",{key:e.slug,class:"group cursor-pointer col-span-2 md:col-span-1"},[t("div",Je,[t("img",{src:e.currentImage||e.colors?.[0]?.avatar_image,alt:e.alt_text||e.name,class:"hidden md:block w-full h-full object-cover border border-text_color/30 transition-transform duration-500 group-hover:scale-105",loading:"lazy",onMouseenter:r=>u.value=e.slug,onMouseleave:a[2]||(a[2]=r=>u.value=null),onClick:r=>p(e.slug,e.colors?.[0]?.variant_slug)},null,40,Xe),e.colors&&e.colors.length>0?(s(),D(L,{key:0,colors:e.colors,onGo:r=>p(e.slug,r)},null,8,["colors","onGo"])):(s(),l("div",et,[t("img",{src:e.currentImage,alt:e.alt_text||e.name,class:"w-full h-auto object-cover border border-text_color/30",loading:"lazy",onClick:r=>p(e.slug,e.colors?.[0]?.variant_slug)},null,8,tt)])),R(t("button",{type:"button",class:$(["absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light px-2 transition-opacity duration-200",{"opacity-100":b(u)===e.slug,"opacity-0":b(u)!==e.slug}]),onClick:r=>p(e.slug,e.colors?.[0]?.variant_slug)}," VIEW ",10,ot),[[U,b(u)===e.slug]])]),t("div",st,[t("p",lt,A(e.category),1),t("h3",nt,A(e.name),1),e.colors&&e.colors.length>0?(s(),l("div",rt,[(s(!0),l(v,null,_(e.colors,(r,m)=>(s(),l("div",{key:m,class:"relative",onMouseenter:w=>M(e,r,m),onMouseleave:w=>k(e)},[t("img",{src:r.avatar_image,alt:r.color,class:"w-7 h-7 md:h-8 md:w-8 object-cover border border-project_text_color/40 cursor-pointer",loading:"lazy",onClick:w=>p(e.slug,r.variant_slug)},null,8,ct),t("div",{class:$(["absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color",d(e,m)?"opacity-100":"opacity-0"])},[B(j,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 text-background_color m-auto"})],2)],40,at))),128))])):E("",!0)])]))),128)),t("div",it,[t("h4",ut,A(x.heading),1),t("div",dt,[(s(!0),l(v,null,_(T(x.text),(e,r)=>(s(),l("span",{key:r,class:"section-text-line px-4 py-1 md:py-2 my-1 md:my-3 text-sm md:text-base leading-relaxed tracking-wide text-text_color"},A(e),1))),128))])])],2)])),y<b(c).length-1&&I(y)?(s(),l("div",gt,[...a[5]||(a[5]=[t("div",{class:"w-64 h-px bg-text_color/30"},null,-1)])])):E("",!0)]))),128))])])}}}),vt={class:"collection-page"},_t={class:"w-full z-50"},ht={class:"relative z-10"},yt={class:"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 pt-4 gap-6"},mt={class:"flex justify-start w-full"},ft={class:"flex items-center gap-1"},bt=10,xt=G({__name:"[...slug]",async setup(S){let i,C;const u=le(),n=se(),f=O(),h=["all","woman","man","kids"],c=z(()=>String(n.params.slug)),d=P(n.query.type&&h.includes(String(n.query.type))?String(n.query.type):"all"),M=z(()=>d.value==="man"?"male":d.value==="woman"?"female":d.value==="kids"?"kids":"all");F(()=>n.query.type,y=>{const e=y&&h.includes(String(y))?String(y):"all";d.value!==e&&(d.value=e)},{immediate:!0});function k(y){d.value=y;const e={...n.query};"gender"in e&&delete e.gender,e.type=y,f.replace({query:e})}function p(y){const e="pr-8 py-1 text-sm text-text_color cursor-pointer hover:opacity-70 transition-opacity duration-200",r=d.value===y?"font-bold":"bg-background_color";return`${e} ${r}`}const{data:T,pending:I}=([i,C]=W(async()=>H(`collection:${c.value}`,async()=>await $fetch(`${u.public.apiBase}/public/collections/${c.value}/`))),i=await i,C(),i),{data:N,pending:o}=([i,C]=W(async()=>H(`products-all:${c.value}:${M.value}`,async()=>{const y=`${u.public.apiBase}/public/products-all/`,e=new URLSearchParams({page:"1",page_size:String(bt),collection:c.value});M.value!=="all"&&e.append("gender",M.value);let r=`${y}?${e.toString()}`;const m=[],w=await $fetch(r);return Array.isArray(w?.results)&&m.push(...w.results),m},{watch:[c,M]})),i=await i,C(),i),a=I.value,g=o.value;console.log(I.value,o.value);const L=z(()=>T.value||{}),j=z(()=>N.value||[]);function x(){window.scrollTo({top:0,behavior:"smooth"})}return(y,e)=>{const r=Y,m=we,w=pt;return s(),l("section",vt,[t("div",_t,[B(r,{dark:!1})]),t("div",ht,[t("div",yt,[t("div",mt,[t("div",ft,[t("button",{type:"button",class:$(p("all")),onClick:e[0]||(e[0]=V=>k("all"))}," ALL ",2),t("button",{type:"button",class:$(p("woman")),onClick:e[1]||(e[1]=V=>k("woman"))}," WOMAN ",2),t("button",{type:"button",class:$(p("man")),onClick:e[2]||(e[2]=V=>k("man"))}," MAN ",2),t("button",{type:"button",class:$(p("kids")),onClick:e[3]||(e[3]=V=>k("kids"))}," KIDS ",2)])])]),b(a)&&b(g)?(s(),D(m,{key:0,animate:!0})):(s(),D(w,{key:1,products:b(j),collection:b(L),onCtaClick:x},null,8,["products","collection"]))])])}}}),qt=ne(xt,[["__scopeId","data-v-36b59ec3"]]);export{qt as default};
