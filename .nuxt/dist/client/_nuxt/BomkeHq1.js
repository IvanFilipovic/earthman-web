import{_ as ue}from"./DeTpEGno.js";import{_ as de}from"./BEOIw1i4.js";import pe from"./Bgd9iGY4.js";import{s as N,z as y,A as X,W as Y,r as $,Z as ve,Y as Z,X as J,c,a as e,F as A,h as O,o as n,b as D,w as I,m as o,e as V,j as z,t as x,a7 as fe,a8 as _e,y as me,a6 as ge,l as ye,x as xe,C as be,d as L,q as he,n as W}from"#entry";import{s as ke,o as T,A as U,l as we,m as F,N as H,i as G,n as Se,d as Q,a as E}from"./oMAzNrXO.js";import{u as Ce}from"./U8DCnPig.js";import{u as $e}from"./CRqZwjru.js";var De=(r=>(r[r.Open=0]="Open",r[r.Closed=1]="Closed",r))(De||{});let ee=Symbol("DisclosureContext");function M(r){let v=J(ee,null);if(v===null){let b=new Error(`<${r} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(b,M),b}return v}let te=Symbol("DisclosurePanelContext");function ze(){return J(te,null)}let Pe=N({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(r,{slots:v,attrs:b}){let p=$(r.defaultOpen?0:1),t=$(null),_=$(null),i={buttonId:$(`headlessui-disclosure-button-${G()}`),panelId:$(`headlessui-disclosure-panel-${G()}`),disclosureState:p,panel:t,button:_,toggleDisclosure(){p.value=Q(p.value,{0:1,1:0})},closeDisclosure(){p.value!==1&&(p.value=1)},close(d){i.closeDisclosure();let h=d?d instanceof HTMLElement?d:d.value instanceof HTMLElement?T(d):T(i.button):T(i.button);h?.focus()}};return Z(ee,i),Se(y(()=>Q(p.value,{0:F.Open,1:F.Closed}))),()=>{let{defaultOpen:d,...h}=r,m={open:p.value===0,close:i.close};return U({theirProps:h,ourProps:{},slot:m,slots:v,attrs:b,name:"Disclosure"})}}}),Be=N({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(r,{attrs:v,slots:b,expose:p}){let t=M("DisclosureButton"),_=ze(),i=y(()=>_===null?!1:_.value===t.panelId.value);X(()=>{i.value||r.id!==null&&(t.buttonId.value=r.id)}),Y(()=>{i.value||(t.buttonId.value=null)});let d=$(null);p({el:d,$el:d}),i.value||ve(()=>{t.button.value=d.value});let h=ke(y(()=>({as:r.as,type:v.type})),d);function m(){var l;r.disabled||(i.value?(t.toggleDisclosure(),(l=T(t.button))==null||l.focus()):t.toggleDisclosure())}function f(l){var S;if(!r.disabled)if(i.value)switch(l.key){case E.Space:case E.Enter:l.preventDefault(),l.stopPropagation(),t.toggleDisclosure(),(S=T(t.button))==null||S.focus();break}else switch(l.key){case E.Space:case E.Enter:l.preventDefault(),l.stopPropagation(),t.toggleDisclosure();break}}function j(l){switch(l.key){case E.Space:l.preventDefault();break}}return()=>{var l;let S={open:t.disclosureState.value===0},{id:R,...C}=r,P=i.value?{ref:d,type:h.value,onClick:m,onKeydown:f}:{id:(l=t.buttonId.value)!=null?l:R,ref:d,type:h.value,"aria-expanded":t.disclosureState.value===0,"aria-controls":t.disclosureState.value===0||T(t.panel)?t.panelId.value:void 0,disabled:r.disabled?!0:void 0,onClick:m,onKeydown:f,onKeyup:j};return U({ourProps:P,theirProps:C,slot:S,attrs:v,slots:b,name:"DisclosureButton"})}}}),Ie=N({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(r,{attrs:v,slots:b,expose:p}){let t=M("DisclosurePanel");X(()=>{r.id!==null&&(t.panelId.value=r.id)}),Y(()=>{t.panelId.value=null}),p({el:t.panel,$el:t.panel}),Z(te,t.panelId);let _=we(),i=y(()=>_!==null?(_.value&F.Open)===F.Open:t.disclosureState.value===0);return()=>{var d;let h={open:t.disclosureState.value===0,close:t.close},{id:m,...f}=r,j={id:(d=t.panelId.value)!=null?d:m,ref:t.panel};return U({ourProps:j,theirProps:f,slot:h,attrs:v,slots:b,features:H.RenderStrategy|H.Static,visible:i.value,name:"DisclosurePanel"})}}});const Te={class:"bg-inherit text-text_color max-w-2xl mx-auto py-[150px]"},je={class:"divide-y divide-text_color/30"},Ee={class:"text-lg font-semibold"},Ae={class:"pt-4 text-sm leading-6 text-text_color/90 space-y-4"},Oe={key:0},Ne={key:2,class:"pt-1"},Ve=["href"],Fe=N({__name:"ProductAccordion",props:{items:{}},setup(r){return(v,b)=>{const p=pe;return n(),c("div",Te,[e("ul",je,[(n(!0),c(A,null,O(r.items,(t,_)=>(n(),c("li",{key:_,class:"py-4"},[D(o(Pe),{as:"div"},{default:I(({open:i})=>[D(o(Be),{class:"w-full flex items-center justify-between gap-4 text-left"},{default:I(()=>[e("h3",Ee,x(t.title),1),i?z("",!0):(n(),V(p,{key:0,name:"lucide:plus",class:"h-4 w-4 transition-transform duration-200 ease-out",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"})),i?(n(),V(p,{key:1,name:"lucide:minus",class:"h-4 w-4 transition-transform duration-200 ease-out",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"})):z("",!0)]),_:2},1024),D(fe,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 -translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition duration-200 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-1"},{default:I(()=>[i?(n(),V(o(Ie),{key:0},{default:I(()=>[e("div",Ae,[typeof t.content=="string"?(n(),c("p",Oe,x(t.content),1)):(n(),V(_e(t.content),{key:1})),t.link?(n(),c("div",Ne,[e("a",{href:t.link.href,class:"underline underline-offset-2 hover:opacity-80"},x(t.link.label),9,Ve)])):z("",!0)])]),_:2},1024)):z("",!0)]),_:2},1024)]),_:2},1024)]))),128))])])}}}),Re={class:"flex flex-col md:flex-row items-start md:items-center justify-between px-8 py-6 gap-6 border-b border-text_color/30"},Ue={class:"w-full md:w-1/2 flex flex-col"},Me={class:"text-xs uppercase tracking-widest mb-6 text-text_color space-x-2 pt-8 md:pl-8"},qe={class:"text-text_color"},Ke={class:"relative grid grid-cols-12 gap-8 pt-8 md:px-8 product-grid"},Le={class:"col-span-12 lg:col-span-8"},We={key:0,class:"grid grid-cols-2 gap-y-7 pr-2 place-content-between"},He=["src","alt"],Ge={key:1},Qe={class:"col-span-12 lg:col-span-4 product-sticky"},Xe={class:"bg-background_color border border-text_color/30 p-5 align-self:start"},Ye={class:"flex items-start justify-between"},Ze={class:"text-sm font-light leading-tight text-text_color"},Je={class:"text-xl font-medium leading-tight text-text_color"},et={key:0,class:"mt-1 text-sm text-text_color"},tt={class:"text-right"},st={key:0,class:"space-x-2"},at={class:"text-lg font-semibold text-text_color"},lt={class:"line-through text-text_color"},ot={key:1,class:"text-lg font-semibold text-text_color"},nt={key:0,class:"mt-4"},rt={class:"flex gap-3"},it=["onClick","title"],ct={class:"sr-only"},ut={key:1,class:"mt-6"},dt={class:"flex items-center justify-between"},pt={class:"text-xs text-text_color/70"},vt={key:0},ft={key:1},_t={class:"mt-2 grid grid-cols-5 gap-2"},mt=["onClick","disabled"],gt={class:"mt-6 space-y-3"},yt=["disabled"],Dt=N({__name:"[...product]",async setup(r){let v,b;const p=be(),t=me(),_=y(()=>String(t.params.collection??"")),i=y(()=>String(t.params.product??"")),{success:d,error:h}=Ce(),m=$(0),f=$(""),{data:j}=([v,b]=ge(async()=>$e(()=>`product:${_.value}:${i.value}`,async()=>{const s=`${p.public.apiBase}/public/products/${_.value}/${i.value}/`;return await $fetch(s)},{watch:[_,i]})),v=await v,b(),v),l=y(()=>j.value??null),S=y(()=>l.value?.name??""),R=y(()=>l.value?.category??""),C=y(()=>l.value?.variant_groups??[]),P=y(()=>C.value[m.value]?.sizes??[]),se=y(()=>P.value.some(s=>s?.available)),q=y(()=>C.value[m.value]?.color?.name??""),K=y(()=>{const s=(l.value?.selected_variant?.images??[]).filter(Boolean);return s.length?s:C.value.map(a=>a?.avatar_image).filter(Boolean)});ye(()=>l.value,s=>{if(!s)return;const a=s.variant_groups?.findIndex(u=>(u?.sizes??[]).some(w=>w?.slug===i.value))??-1;m.value=a>=0?a:0;const k=(s.variant_groups?.[m.value]?.sizes??[]).find(u=>u?.slug===i.value&&u?.available);if(k)f.value=k.slug;else{const u=(s.variant_groups?.[m.value]?.sizes??[]).find(w=>w?.available);f.value=u?.slug??""}},{immediate:!0});const ae=xe();function le(s,a){const k=C.value?.[s]?.sizes??[];let u=k.find(w=>w.size?.name===a&&w.available);return u||(u=k.find(w=>w.size?.name===a)),u||(u=k.find(w=>w.available)),u||(u=k[0]),u?.slug}function oe(s){!s||s===i.value||ae.replace({params:{collection:_.value,product:s},query:t.query})}function ne(s){const a=P.value.find(u=>u.slug===f.value)?.size?.name;m.value=s;const k=le(s,a);f.value=k??"",oe(k)}function re(s){s?.available&&(f.value=s.slug)}async function ie(){if(!f.value){h("Please select a size");return}try{await $fetch(`${p.public.apiBase}/public/cart/item/`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:{product_variant_slug:f.value,quantity:1}}),typeof window<"u"&&window.dispatchEvent(new CustomEvent("cart:updated",{detail:{source:"product",variant:f.value}})),d("Added to cart")}catch(s){const a=s?.data?.detail||"Could not add to cart";h(a),console.error("Add to cart failed",s)}}function ce(s){return s?`#${s}`:"#e5e7eb"}return(s,a)=>{const k=ue,u=de,w=Fe;return n(),c("section",null,[e("div",Re,[a[1]||(a[1]=e("div",{class:"w-full md:w-1/2"},[e("div",{class:"image bg-cover bg-center bg-transparent h-40 flex justify-center max-w-[100%]"})],-1)),e("div",Ue,[D(k,{dark:!1}),a[0]||(a[0]=e("div",{class:"flex gap-3 justify-end w-full"},[e("div",{class:"flex items-center gap-3"},[e("nav",{class:"text-sm uppercase tracking-widest space-x-2 text-background_color px-4"},[e("p",null,"=")])])],-1))])]),e("nav",Me,[D(u,{to:"/shop",class:"hover:underline"},{default:I(()=>[...a[2]||(a[2]=[L("Shop",-1)])]),_:1}),a[3]||(a[3]=e("span",null,"›",-1)),D(u,{to:`/collections/${o(l)?.collection_slug}`,class:"hover:underline"},{default:I(()=>[L(x(o(l)?.collection_slug),1)]),_:1},8,["to"]),a[4]||(a[4]=e("span",null,"›",-1)),e("span",qe,x(o(S)),1)]),e("div",Ke,[e("div",Le,[o(K).length>0?(n(),c("div",We,[(n(!0),c(A,null,O(o(K),(g,B)=>(n(),c("img",{key:B,src:g,class:"h-auto object-none bg-background_color mx-auto max-w-auto border border-text_color/30",alt:o(S),loading:"lazy"},null,8,He))),128))])):(n(),c("div",Ge,[(n(),c(A,null,O(2,g=>e("div",{key:g,class:"w-full aspect-[4/3] bg-background_color animate-pulse"})),64))]))]),e("aside",Qe,[e("div",Xe,[e("div",Ye,[e("div",null,[e("h1",Ze,x(o(R)),1),e("h1",Je,x(o(S)),1),o(q)?(n(),c("p",et,"Color: "+x(o(q)),1)):z("",!0)]),e("div",tt,[o(l)?.discount?(n(),c("div",st,[e("span",at,"€"+x(o(l)?.discount_price),1),e("span",lt,"€"+x(o(l)?.price),1)])):(n(),c("div",ot,"€"+x(o(l)?.price),1))])]),o(C).length?(n(),c("div",nt,[a[5]||(a[5]=e("div",{class:"text-xs uppercase tracking-widest mb-2"},"Color",-1)),e("div",rt,[(n(!0),c(A,null,O(o(C),(g,B)=>(n(),c("button",{key:B,onClick:xt=>ne(B),class:W(["w-8 h-8 border relative",o(m)===B?"ring-2 ring-text_color":""]),title:g.color?.name,style:he({backgroundColor:ce(g.color?.image)})},[e("span",ct,x(g.color?.name),1)],14,it))),128))])])):z("",!0),o(P).length?(n(),c("div",ut,[e("div",dt,[a[6]||(a[6]=e("div",{class:"text-xs uppercase tracking-widest"},"Size",-1)),e("div",pt,[o(se)?(n(),c("span",vt,"In Stock")):(n(),c("span",ft,"Unavailable"))])]),e("div",_t,[(n(!0),c(A,null,O(o(P),g=>(n(),c("button",{key:g.slug,onClick:B=>re(g),class:W(["border px-2 py-2 text-sm text-text_color",[g.available?"cursor-pointer":"opacity-40 cursor-not-allowed",o(f)===g.slug?"border-text_color":"border-project_gray/50"]]),disabled:!g.available},x(g.size?.name),11,mt))),128))])])):z("",!0),e("div",gt,[e("button",{class:"primary-btn sweep group w-full py-3 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!o(f),onClick:ie},[...a[7]||(a[7]=[e("span",{class:"btn-label"},"ADD TO CART",-1),e("span",{class:"sweep-overlay","aria-hidden":"true"},null,-1)])],8,yt)]),a[8]||(a[8]=e("ul",{class:"mt-5 space-y-2 text-sm text-text_color/80"},[e("li",null,"✓ Free delivery over €250,-"),e("li",null,"✓ Easy returns within 14 days")],-1))])])]),D(w,{items:[{title:"Size & Fit",content:"Coming soon – sizing guidance for this product."},{title:"Shipping & Returns",content:`We offer UPS Standard, Express Saver, and Express shipping options. Final prices are calculated at checkout and exclude import duties which will be charged by UPS after clearing customs.

    We accept returns within 14 days. We kindly remind you that sale items can only be refunded as store credit.`,link:{href:"#",label:"More info"}},{title:"Description",content:o(l)?.description||"No additional description."}]},null,8,["items"])])}}});export{Dt as default};
