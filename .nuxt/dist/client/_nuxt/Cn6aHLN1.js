import{_ as J}from"./C1kAkoeJ.js";import{C as F,k as L,F as n,X as o,a3 as e,L as _,a6 as v,a8 as w,a7 as G,J as M,b as I,D as K,n as O,q as Q,N as q,a4 as m,Y as z,w as X,ad as U,W as R}from"./S8-AOUyP.js";import{_ as Z}from"./RyNHXVQh.js";import{g as A}from"./DKtf60Sy.js";import{S as V}from"./Duwiz9RP.js";import{c as Y,d as H,f as ee,_ as te}from"#entry";import{u as W}from"./ygJ3uxTx.js";import"./Coo3-VcT.js";import"./CyZbsNYg.js";const se={class:"pt-8 mt-2 md:mt-6 px-4 md:px-8"},oe={class:"collection-content"},le={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 min-h-screen"},ne={class:"absolute bottom-0 left-0 right-0 p-4 md:p-6 bg-background_color/80 w-full"},re={class:"space-y-3"},ae={class:"flex items-center gap-2"},ie={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8"},ce={class:"pt-3 md:pt-4 text-left space-y-2"},de={class:"flex items-center gap-2"},ue={key:2},pe={class:"group col-span-2 md:col-span-1",role:"status","aria-busy":"true","aria-label":"Loading product"},ge={class:"pt-3 md:pt-4 text-left space-y-2"},me={class:"flex items-center gap-2"},_e={class:"col-span-2 md:col-span-2 flex flex-col justify-center"},ve={class:"flex flex-col space-y-3"},he={key:3,class:"flex justify-center py-4 md:py-6"},fe=F({__name:"CollectionShopListingSkeleton",props:{animate:{type:Boolean,default:!0},sections:{default:()=>[{type:"standard",textLines:3,showSeparator:!0},{type:"reversed",textLines:3,showSeparator:!0},{type:"standard",textLines:3,showSeparator:!1},{type:"hero",showSeparator:!1},{type:"reversed",textLines:3,showSeparator:!0},{type:"standard",textLines:3,showSeparator:!1},{type:"triple",count:3,showSeparator:!1}]}},setup(D){const g=D,b=L(()=>g.sections);return(h,r)=>(o(),n("section",se,[e("div",oe,[(o(!0),n(_,null,v(M(b),(f,y)=>(o(),n("div",{key:y,class:w(["pb-8 md:pb-12",{"animate-pulse":D.animate}])},[f.type==="hero"?(o(),n("div",le,[(o(),n(_,null,v(2,u=>e("article",{key:u,class:"relative min-h-[50vh] md:min-h-full overflow-hidden w-full",role:"status","aria-busy":"true","aria-label":"Loading product"},[r[3]||(r[3]=e("div",{class:"absolute inset-0 bg-gray-300"},null,-1)),e("div",ne,[e("div",re,[r[0]||(r[0]=e("div",{class:"h-3 w-24 bg-gray-300 rounded"},null,-1)),r[1]||(r[1]=e("div",{class:"h-8 md:h-10 lg:h-12 w-3/4 bg-gray-300 rounded"},null,-1)),e("div",ae,[(o(),n(_,null,v(4,p=>e("div",{key:p,class:"w-8 h-8 md:w-10 md:h-10 bg-gray-300 border-2 border-background_color"})),64))]),r[2]||(r[2]=e("div",{class:"h-10 w-32 bg-gray-300 rounded"},null,-1))])])])),64))])):f.type==="triple"?(o(),n("div",ie,[(o(!0),n(_,null,v(f.count,u=>(o(),n("article",{key:u,class:"group",role:"status","aria-busy":"true","aria-label":"Loading product"},[r[6]||(r[6]=e("div",{class:"relative w-full overflow-hidden"},[e("div",{class:"w-full aspect-[3/4] bg-gray-300 border border-gray-300"})],-1)),e("div",ce,[r[4]||(r[4]=e("div",{class:"h-3 w-20 bg-gray-300 rounded"},null,-1)),r[5]||(r[5]=e("div",{class:"h-4 w-3/4 bg-gray-300 rounded"},null,-1)),e("div",de,[(o(),n(_,null,v(3,p=>e("div",{key:p,class:"w-7 h-7 md:w-8 md:h-8 bg-gray-300 border border-gray-300"})),64))])])]))),128))])):(o(),n("div",ue,[e("div",{class:w(["grid grid-cols-2 md:grid-cols-3 gap-x-4 md:gap-x-8 lg:gap-x-24 gap-y-8",f.type==="reversed"?"md:flex md:flex-row-reverse":""])},[e("article",pe,[r[9]||(r[9]=e("div",{class:"relative w-full overflow-hidden"},[e("div",{class:"w-full aspect-[3/4] bg-gray-300 border border-gray-300"})],-1)),e("div",ge,[r[7]||(r[7]=e("div",{class:"h-3 w-20 bg-gray-300 rounded"},null,-1)),r[8]||(r[8]=e("div",{class:"h-4 w-3/4 bg-gray-300 rounded"},null,-1)),e("div",me,[(o(),n(_,null,v(3,u=>e("div",{key:u,class:"w-7 h-7 md:w-8 md:h-8 bg-gray-300 border border-gray-300"})),64))])])]),e("div",_e,[r[10]||(r[10]=e("div",{class:"h-4 w-32 bg-gray-300 rounded mb-3 px-4"},null,-1)),e("div",ve,[(o(!0),n(_,null,v(f.textLines,u=>(o(),n("div",{key:u,class:w(["h-4 bg-gray-300 rounded px-4",{"w-full":u===1,"w-11/12":u===2,"w-10/12":u===3,"w-9/12":u>3}])},null,2))),128))])])],2)])),f.showSeparator&&y<M(b).length-1?(o(),n("div",he,[...r[11]||(r[11]=[e("div",{class:"w-64 h-px bg-gray-300"},null,-1)])])):G("",!0)],2))),128))])]))}}),ye={class:"pt-8 mt-2 md:mt-6 px-4 md:px-8"},xe={class:"collection-content"},be={key:0,class:"pb-8 md:pb-12"},we={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8"},ke=["src","alt","onMouseenter"],$e={class:"absolute bottom-0 left-0 right-0 p-4 md:p-6 text-text_color bg-background_color/85 w-full"},Se={class:"hero-content"},Ce={class:"text-xs tracking-widest uppercase mb-1 opacity-80"},Me={class:"hero-title text-xl md:text-2xl font-bold mb-1 uppercase tracking-tight"},Le={class:"flex items-center gap-3 mb-2"},Ae={key:0,class:"flex items-center gap-2"},De={class:"text-sm md:text-base font-semibold"},Ne={class:"text-sm md:text-base line-through opacity-70"},Te={key:1,class:"text-sm md:text-base"},je={class:"flex items-center gap-2 mb-2"},qe=["onMouseenter","onMouseleave"],Pe=["src","alt","onClick"],Be={key:1,class:"pb-8 md:pb-12"},Ee={class:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-10"},ze=["src","alt","onMouseenter"],Ie={class:"absolute bottom-0 left-0 right-0 p-4 md:p-6 text-text_color bg-background_color/85 w-full"},Fe={class:"hero-content"},Ue={class:"text-xs tracking-widest uppercase mb-1 opacity-80"},Re={class:"hero-title text-lg md:text-2xl font-bold mb-1 uppercase tracking-tight"},Ve={class:"flex items-center gap-3 mb-2"},We={key:0,class:"flex items-center gap-2"},Ge={class:"text-sm md:text-base font-semibold"},Ye={class:"text-sm md:text-base line-through opacity-70"},Je={key:1,class:"text-sm md:text-base font-semibold"},Ke={class:"flex items-center gap-2 mb-2"},Oe=["onMouseenter","onMouseleave"],Qe=["src","alt","onClick"],Xe={key:2,class:"pb-8 md:pb-12"},Ze={class:"grid grid-cols-1 md:grid-cols-3 gap-x-4 md:gap-x-8 lg:gap-x-24 gap-y-8"},He=["src","alt","onMouseenter"],et={class:"absolute bottom-0 left-0 right-0 p-4 md:p-6 text-text_color bg-background_color/85 w-full"},tt={class:"hero-content"},st={class:"text-xs tracking-widest uppercase mb-1 opacity-80"},ot={class:"hero-title text-xl md:text-2xl font-bold mb-1 uppercase tracking-tight"},lt={class:"flex items-center gap-3 mb-2"},nt={key:0,class:"flex items-center gap-2"},rt={class:"text-sm md:text-base font-semibold"},at={class:"text-sm md:text-base line-through opacity-70"},it={key:1,class:"text-sm md:text-base font-semibold"},ct={class:"flex items-center gap-2 mb-2"},dt=["onMouseenter","onMouseleave"],ut=["src","alt","onClick"],pt={class:"section-heading uppercase tracking-wider text-xs md:text-sm mb-3 px-4"},gt={class:"flex flex-col"},mt={key:3,class:"flex justify-center py-4 md:py-6"},_t=F({__name:"testCollectionListing",props:{products:{},collection:{}},setup(D){A.registerPlugin(V);const g=D,b=Y(),h=I(null),r=I({});let f=null;const y=L(()=>{const t=g.collection||{};return[t.element_one,t.element_two,t.element_three,t.element_four,t.element_five].filter(Boolean)}),u=L(()=>{const t=[...g.products],l=[];let d=0;t.length>=1&&(l.push({layout:"standard",items:[t[0]],text:y.value[0]||"",heading:g.collection?.name||"Collection"}),d=1),t.length>=2&&(l.push({layout:"reversed",items:[t[1]],text:y.value[1]||"",heading:g.collection?.name||"Collection"}),d=2),t.length>=3&&(l.push({layout:"standard",items:[t[2]],text:y.value[2]||"",heading:g.collection?.name||"Collection"}),d=3),t.length>=5&&(l.push({layout:"hero",items:[t[3],t[4]],text:"",heading:""}),d=5),t.length>=6&&(l.push({layout:"reversed",items:[t[5]],text:y.value[3]||"",heading:g.collection?.name||"Collection"}),d=6),t.length>=7&&(l.push({layout:"standard",items:[t[6]],text:y.value[4]||"",heading:g.collection?.name||"Collection"}),d=7);let a=0;for(;d<t.length;){const C=t.length-d;if(a>0&&a%3===0&&C>=2)l.push({layout:"hero",items:[t[d],t[d+1]],text:"",heading:""}),d+=2,a++;else{const s=Math.min(3,C);l.push({layout:"triple",items:t.slice(d,d+s),text:"",heading:""}),d+=s,a++}}return l});function p(t){if(!t)return"N/A";const l=typeof t=="string"?parseFloat(t):t;return isNaN(l)?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(l)}function k(t,l,d){h.value=t.slug,t.currentImage=l.avatar_image,r.value[t.slug]=d}function $(t){t.currentImage=t.colors?.[0]?.avatar_image,r.value[t.slug]=null,h.value=null}function S(t,l){!t||!l||b.push(`/product/${t}/${l}`)}function P(t=""){return t.split(new RegExp("(?<=[.!?])\\s+|\\n+")).filter(Boolean)}function N(t){return u.value[t].layout!=="hero"}function B(){f=A.context(()=>{document.querySelectorAll(".hero-title").forEach(t=>{A.from(t,{scrollTrigger:{trigger:t,start:"top 80%"},y:80,opacity:0,duration:.9,ease:"power4.out"})}),document.querySelectorAll(".hero-content").forEach(t=>{A.from(t.querySelectorAll("p, .btn"),{scrollTrigger:{trigger:t,start:"top 80%"},y:40,opacity:0,duration:1.2,ease:"power4.out",stagger:.1})}),document.querySelectorAll(".section-heading").forEach(t=>{A.from(t,{scrollTrigger:{trigger:t,start:"top 80%"},y:40,opacity:0,duration:1.2,ease:"power4.out"})}),document.querySelectorAll(".section-text-line").forEach((t,l)=>{A.from(t,{scrollTrigger:{trigger:".section-trigger-line",start:"top 90%"},y:30,opacity:0,duration:1,ease:"power4.out",delay:l*.5})})})}return K(()=>{O(()=>{B()})}),Q(()=>{f?.revert(),f=null,V.getAll().forEach(t=>t.kill())}),(t,l)=>{const d=Z;return o(),n("section",ye,[e("div",xe,[(o(!0),n(_,null,v(M(u),(a,C)=>(o(),n("div",{key:C},[a.layout==="hero"?(o(),n("div",be,[e("div",we,[(o(!0),n(_,null,v(a.items,s=>(o(),n("article",{key:s.slug,class:"group cursor-pointer relative h-[100vh] overflow-hidden w-full md:w-2/3 mx-auto"},[e("img",{src:s.currentImage||s.colors?.[0]?.avatar_image,alt:s.alt_text||s.name,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",loading:"lazy",onMouseenter:i=>h.value=s.slug,onMouseleave:l[0]||(l[0]=i=>h.value=null)},null,40,ke),l[4]||(l[4]=e("div",{class:"absolute inset-0"},null,-1)),e("div",$e,[e("div",Se,[e("p",Ce,m(s.category),1),e("h2",Me,m(s.name),1),e("div",Le,[s.discount&&s.discount_price?(o(),n("div",Ae,[e("span",De,m(p(s.discount_price)),1),e("span",Ne,m(p(s.price)),1)])):(o(),n("span",Te,m(p(s.price)),1))]),e("div",je,[(o(!0),n(_,null,v(s.colors?.slice(0,4),(i,c)=>(o(),n("div",{key:c,class:"relative",onMouseenter:x=>k(s,i,c),onMouseleave:x=>$(s)},[e("img",{src:i.avatar_image,alt:i.color,class:"w-8 h-8 md:w-10 md:h-10 object-cover border border-text_color/30 cursor-pointer transition-transform hover:scale-110",onClick:x=>S(s.slug,i.variant_slug)},null,8,Pe)],40,qe))),128))]),q(d,{to:`/product/${s.slug}/${s.colors?.[0]?.variant_slug}`,class:"btn btn--secondary inline-flex text-sm"},{default:z(()=>[...l[3]||(l[3]=[e("span",{class:"btn__text"},"Discover",-1),e("span",{class:"btn__fill"},null,-1)])]),_:1},8,["to"])])])]))),128))])])):a.layout==="triple"?(o(),n("div",Be,[e("div",Ee,[(o(!0),n(_,null,v(a.items,s=>(o(),n("article",{key:s.slug,class:"group cursor-pointer relative h-[100vh] overflow-hidden w-full"},[e("img",{src:s.currentImage||s.colors?.[0]?.avatar_image,alt:s.alt_text||s.name,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",loading:"lazy",onMouseenter:i=>h.value=s.slug,onMouseleave:l[1]||(l[1]=i=>h.value=null)},null,40,ze),l[6]||(l[6]=e("div",{class:"absolute inset-0"},null,-1)),e("div",Ie,[e("div",Fe,[e("p",Ue,m(s.category),1),e("h2",Re,m(s.name),1),e("div",Ve,[s.discount&&s.discount_price?(o(),n("div",We,[e("span",Ge,m(p(s.discount_price)),1),e("span",Ye,m(p(s.price)),1)])):(o(),n("span",Je,m(p(s.price)),1))]),e("div",Ke,[(o(!0),n(_,null,v(s.colors?.slice(0,4),(i,c)=>(o(),n("div",{key:c,class:"relative",onMouseenter:x=>k(s,i,c),onMouseleave:x=>$(s)},[e("img",{src:i.avatar_image,alt:i.color,class:"w-8 h-8 object-cover border border-text_color/30 cursor-pointer transition-transform hover:scale-110",onClick:x=>S(s.slug,i.variant_slug)},null,8,Qe)],40,Oe))),128))]),q(d,{to:`/product/${s.slug}/${s.colors?.[0]?.variant_slug}`,class:"btn btn--secondary inline-flex text-sm"},{default:z(()=>[...l[5]||(l[5]=[e("span",{class:"btn__text"},"Discover",-1),e("span",{class:"btn__fill"},null,-1)])]),_:1},8,["to"])])])]))),128))])])):(o(),n("div",Xe,[e("div",Ze,[e("article",{class:w(["group cursor-pointer relative h-[60vh] md:h-[800px] overflow-hidden w-full md:col-span-1",a.layout==="reversed"?"md:order-2":"md:order-1"])},[e("img",{src:a.items[0].currentImage||a.items[0].colors?.[0]?.avatar_image,alt:a.items[0].alt_text||a.items[0].name,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",loading:"lazy",onMouseenter:s=>h.value=a.items[0].slug,onMouseleave:l[2]||(l[2]=s=>h.value=null)},null,40,He),l[8]||(l[8]=e("div",{class:"absolute inset-0"},null,-1)),e("div",et,[e("div",tt,[e("p",st,m(a.items[0].category),1),e("h2",ot,m(a.items[0].name),1),e("div",lt,[a.items[0].discount&&a.items[0].discount_price?(o(),n("div",nt,[e("span",rt,m(p(a.items[0].discount_price)),1),e("span",at,m(p(a.items[0].price)),1)])):(o(),n("span",it,m(p(a.items[0].price)),1))]),e("div",ct,[(o(!0),n(_,null,v(a.items[0].colors?.slice(0,4),(s,i)=>(o(),n("div",{key:i,class:"relative",onMouseenter:c=>k(a.items[0],s,i),onMouseleave:c=>$(a.items[0])},[e("img",{src:s.avatar_image,alt:s.color,class:"w-8 h-8 md:w-10 md:h-10 object-cover border border-text_color/30 cursor-pointer transition-transform hover:scale-110",onClick:c=>S(a.items[0].slug,s.variant_slug)},null,8,ut)],40,dt))),128))]),q(d,{to:`/product/${a.items[0].slug}/${a.items[0].colors?.[0]?.variant_slug}`,class:"btn btn--secondary inline-flex text-sm"},{default:z(()=>[...l[7]||(l[7]=[e("span",{class:"btn__text"},"Discover",-1),e("span",{class:"btn__fill"},null,-1)])]),_:1},8,["to"])])])],2),e("div",{class:w(["flex flex-col justify-center section-trigger-line md:col-span-2",a.layout==="reversed"?"md:order-1":"md:order-2"])},[e("h4",pt,m(a.heading),1),e("div",gt,[(o(!0),n(_,null,v(P(a.text),(s,i)=>(o(),n("span",{key:i,class:"section-text-line px-4 py-1 md:py-2 my-1 md:my-3 text-sm md:text-base leading-relaxed tracking-wide text-text_color"},m(s),1))),128))])],2)])])),C<M(u).length-1&&N(C)?(o(),n("div",mt,[...l[9]||(l[9]=[e("div",{class:"w-64 h-px bg-text_color/30"},null,-1)])])):G("",!0)]))),128))])])}}}),vt={class:"collection-page"},ht={class:"w-full z-50"},ft={class:"relative z-10"},yt={class:"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 pt-4 gap-6"},xt={class:"flex justify-start w-full"},bt={class:"flex items-center gap-1"},wt=10,kt=F({__name:"[...slug]",async setup(D){let g,b;const h=ee(),r=H(),f=Y(),y=["all","woman","man","kids"],u=L(()=>String(r.params.slug)),p=I(r.query.type&&y.includes(String(r.query.type))?String(r.query.type):"all"),k=L(()=>p.value==="man"?"male":p.value==="woman"?"female":p.value==="kids"?"kids":"all");X(()=>r.query.type,i=>{const c=i&&y.includes(String(i))?String(i):"all";p.value!==c&&(p.value=c)},{immediate:!0});function $(i){p.value=i;const c={...r.query};"gender"in c&&delete c.gender,c.type=i,f.replace({query:c})}function S(i){const c="pr-8 py-1 text-sm text-text_color cursor-pointer hover:opacity-70 transition-opacity duration-200",x=p.value===i?"font-bold":"bg-background_color";return`${c} ${x}`}const{data:P,pending:N}=([g,b]=U(async()=>W(`collection:${u.value}`,async()=>await $fetch(`${h.public.apiBase}/public/collections/${u.value}/`))),g=await g,b(),g),{data:B,pending:t}=([g,b]=U(async()=>W(`products-all:${u.value}:${k.value}`,async()=>{const i=`${h.public.apiBase}/public/products-all/`,c=new URLSearchParams({page:"1",page_size:String(wt),collection:u.value});k.value!=="all"&&c.append("gender",k.value);let x=`${i}?${c.toString()}`;const T=[],j=await $fetch(x);return Array.isArray(j?.results)&&T.push(...j.results),T},{watch:[u,k]})),g=await g,b(),g),l=N.value,d=t.value;console.log(N.value,t.value);const a=L(()=>P.value||{}),C=L(()=>B.value||[]);function s(){window.scrollTo({top:0,behavior:"smooth"})}return(i,c)=>{const x=J,T=fe,j=_t;return o(),n("section",vt,[e("div",ht,[q(x,{dark:!1})]),e("div",ft,[e("div",yt,[e("div",xt,[e("div",bt,[e("button",{type:"button",class:w(S("all")),onClick:c[0]||(c[0]=E=>$("all"))}," ALL ",2),e("button",{type:"button",class:w(S("woman")),onClick:c[1]||(c[1]=E=>$("woman"))}," WOMAN ",2),e("button",{type:"button",class:w(S("man")),onClick:c[2]||(c[2]=E=>$("man"))}," MAN ",2),e("button",{type:"button",class:w(S("kids")),onClick:c[3]||(c[3]=E=>$("kids"))}," KIDS ",2)])])]),M(l)&&M(d)?(o(),R(T,{key:0,animate:!0})):(o(),R(j,{key:1,products:M(C),collection:M(a),onCtaClick:s},null,8,["products","collection"]))])])}}}),jt=te(kt,[["__scopeId","data-v-76ec7697"]]);export{jt as default};
