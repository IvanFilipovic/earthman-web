import{_ as O}from"./Dk5NpKYN.js";import{h as N,j as D,l as H,c as r,x as T,o as n,a as o,F as k,r as w,n as J,G as E,H as R,i as K,J as q,k as Q,m as Y,q as y,b as P,t as S,w as Z,e as X,f as G,p as V,v as W,s as $,y as ee,I as te,D as U,M as oe}from"#entry";import{z as le,u as F}from"./Cc-idNvQ.js";/* empty css        */const se={key:0,class:"block md:hidden"},ne=["src","alt","onClick"],re=N({__name:"MobileColorSlider",props:{colors:{}},emits:["go"],setup(A,{emit:d}){const C=A,u=d,_=D(0),[j,h]=le({loop:!0,initial:0,slideChanged(p){_.value=p.track.details.rel}});H(()=>C.colors?.length,async()=>{await J(),h.value&&(h.value.update(),h.value.moveToIdx(0),_.value=0)});function f(p){p.variant_slug&&u("go",p.variant_slug)}return(p,b)=>A.colors&&A.colors.length>0?(n(),r("div",se,[o("div",{ref_key:"sliderRef",ref:j,class:"keen-slider"},[(n(!0),r(k,null,w(A.colors,(m,g)=>(n(),r("div",{key:g,class:"keen-slider__slide"},[o("img",{src:m.avatar_image,alt:m.color,class:"w-full h-auto object-cover border border-text_color/30",loading:"lazy",onClick:B=>f(m)},null,8,ne)]))),128))],512)])):T("",!0)}}),ae={class:"pt-8 mt-2 md:mt-6 px-4 md:px-8"},ce={class:"collection-content"},ie={key:0,class:"pb-8 md:pb-12"},ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 min-h-screen"},de=["src","alt","onMouseenter"],ge={class:"absolute bottom-0 left-0 right-0 p-4 md:p-6 text-background_color bg-text_color w-[50%]"},pe={class:"hero-content"},_e={class:"text-xs tracking-widest uppercase mb-1 opacity-80"},ve={class:"hero-title text-2xl md:text-3xl lg:text-4xl font-bold mb-3 uppercase tracking-tight"},he={class:"flex items-center gap-2 mb-4"},me=["onMouseenter","onMouseleave"],ye=["src","alt","onClick"],fe={key:1,class:"pb-8 md:pb-12"},xe={class:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8"},be={class:"relative overflow-hidden"},ke=["src","alt","onMouseenter","onClick"],we={key:1,class:"block md:hidden"},$e=["src","alt","onClick"],Ce=["onClick"],Me={class:"pt-3 md:pt-4 text-left"},Se={class:"text-xs tracking-wider font-extralight"},Ae={class:"uppercase tracking-wider text-sm font-normal truncate py-1"},je={key:0,class:"mt-1 flex items-center gap-2"},ze=["onMouseenter","onMouseleave"],qe=["src","alt","onClick"],Ee={key:2,class:"pb-8 md:pb-12"},Te={class:"relative overflow-hidden"},Be=["src","alt","onMouseenter","onClick"],Pe={key:1,class:"block md:hidden"},De=["src","alt","onClick"],Ie=["onClick"],Le={class:"pt-3 md:pt-4 text-left"},Ge={class:"text-xs tracking-wider font-extralight"},Ne={class:"uppercase tracking-wider text-sm font-normal truncate py-1"},Re={key:0,class:"mt-1 flex items-center gap-2"},Ve=["onMouseenter","onMouseleave"],We=["src","alt","onClick"],Ue={class:"col-span-2 md:col-span-2 flex flex-col justify-center"},Fe={class:"section-heading uppercase tracking-wider text-xs md:text-sm mb-3 px-4"},He={class:"flex flex-col"},Je={key:3,class:"flex justify-center py-4 md:py-6"},Ke=N({__name:"testCollectionListing",props:{products:{},collection:{}},setup(A){E.registerPlugin(R);const d=A,C=K(),u=D(null),_=D({});let j=null;const h=q(()=>{const t=d.collection||{};return[t.element_one,t.element_two,t.element_three,t.element_four,t.element_five].filter(Boolean)}),f=q(()=>{const t=[...d.products],s=[];let i=0;t.length>=1&&(s.push({layout:"standard",items:[t[0]],text:h.value[0]||"",heading:d.collection?.name||"Collection"}),i=1),t.length>=2&&(s.push({layout:"reversed",items:[t[1]],text:h.value[1]||"",heading:d.collection?.name||"Collection"}),i=2),t.length>=3&&(s.push({layout:"standard",items:[t[2]],text:h.value[2]||"",heading:d.collection?.name||"Collection"}),i=3),t.length>=5&&(s.push({layout:"hero",items:[t[3],t[4]],text:"",heading:""}),i=5),t.length>=6&&(s.push({layout:"reversed",items:[t[5]],text:h.value[3]||"",heading:d.collection?.name||"Collection"}),i=6),t.length>=7&&(s.push({layout:"standard",items:[t[6]],text:h.value[4]||"",heading:d.collection?.name||"Collection"}),i=7);let x=0;for(;i<t.length;){const z=t.length-i;if(x>0&&x%3===0&&z>=2)s.push({layout:"hero",items:[t[i],t[i+1]],text:"",heading:""}),i+=2,x++;else{const c=Math.min(3,z);s.push({layout:"triple",items:t.slice(i,i+c),text:"",heading:""}),i+=c,x++}}return s});function p(t,s){return _.value[t.slug]===s}function b(t,s,i){u.value=t.slug,t.currentImage=s.avatar_image,_.value[t.slug]=i}function m(t){t.currentImage=t.colors?.[0]?.avatar_image||t.link_image,_.value[t.slug]=null,u.value=null}function g(t,s){!t||!s||C.push(`/product/${t}/${s}`)}function B(t=""){return t.split(new RegExp("(?<=[.!?])\\s+|\\n+")).filter(Boolean)}function I(t){return f.value[t].layout!=="hero"}function L(){j=E.context(()=>{document.querySelectorAll(".hero-title").forEach(t=>{E.from(t,{scrollTrigger:{trigger:t,start:"top 80%"},y:80,opacity:0,duration:1.4,ease:"power4.out"})}),document.querySelectorAll(".hero-content").forEach(t=>{E.from(t.querySelectorAll("p, .btn"),{scrollTrigger:{trigger:t,start:"top 80%"},y:40,opacity:0,duration:1.2,ease:"power4.out",stagger:.1})}),document.querySelectorAll(".section-heading").forEach(t=>{E.from(t,{scrollTrigger:{trigger:t,start:"top 80%"},y:60,opacity:0,duration:1.2,ease:"power4.out"})}),document.querySelectorAll(".section-text-line").forEach((t,s)=>{E.from(t,{scrollTrigger:{trigger:t,start:"top 85%"},y:40,opacity:0,duration:1,ease:"power4.out",delay:s*.1})})})}return Q(()=>{J(()=>{L()})}),Y(()=>{j?.revert(),j=null,R.getAll().forEach(t=>t.kill())}),(t,s)=>{const i=X,x=re,z=ee;return n(),r("section",ae,[o("div",ce,[(n(!0),r(k,null,w(y(f),(c,a)=>(n(),r("div",{key:a},[c.layout==="hero"?(n(),r("div",ie,[o("div",ue,[(n(!0),r(k,null,w(c.items,e=>(n(),r("article",{key:e.slug,class:"group cursor-pointer relative min-h-[50vh] md:min-h-full overflow-hidden w-full"},[o("img",{src:e.currentImage||e.colors?.[0]?.avatar_image||e.link_image,alt:e.alt_text||e.name,class:"absolute inset-0 max-w-full h-full object-contain mx-auto transition-transform duration-700 group-hover:scale-105",loading:"lazy",onMouseenter:l=>u.value=e.slug,onMouseleave:s[0]||(s[0]=l=>u.value=null)},null,40,de),s[4]||(s[4]=o("div",{class:"absolute inset-0"},null,-1)),o("div",ge,[o("div",pe,[o("p",_e,S(e.category),1),o("h2",ve,S(e.name),1),o("div",he,[(n(!0),r(k,null,w(e.colors?.slice(0,4),(l,v)=>(n(),r("div",{key:v,class:"relative",onMouseenter:M=>b(e,l,v),onMouseleave:M=>m(e)},[o("img",{src:l.avatar_image,alt:l.color,class:"w-8 h-8 md:w-10 md:h-10 object-cover border-2 border-background_color cursor-pointer transition-transform hover:scale-110",onClick:M=>g(e.slug,l.variant_slug)},null,8,ye)],40,me))),128))]),P(i,{to:`/product/${e.slug}/${e.colors?.[0]?.variant_slug}`,class:"btn btn--secondary inline-flex text-sm"},{default:Z(()=>[...s[3]||(s[3]=[o("span",{class:"btn__text"},"Discover",-1),o("span",{class:"btn__fill"},null,-1)])]),_:1},8,["to"])])])]))),128))])])):c.layout==="triple"?(n(),r("div",fe,[o("div",xe,[(n(!0),r(k,null,w(c.items,e=>(n(),r("article",{key:e.slug,class:"group cursor-pointer"},[o("div",be,[o("img",{src:e.currentImage||e.colors?.[0]?.avatar_image||e.link_image,alt:e.alt_text||e.name,class:"hidden md:block w-full h-full object-cover border border-text_color/30 transition-transform duration-500 group-hover:scale-105",loading:"lazy",onMouseenter:l=>u.value=e.slug,onMouseleave:s[1]||(s[1]=l=>u.value=null),onClick:l=>g(e.slug,e.colors?.[0]?.variant_slug)},null,40,ke),e.colors&&e.colors.length>0?(n(),G(x,{key:0,colors:e.colors,onGo:l=>g(e.slug,l)},null,8,["colors","onGo"])):(n(),r("div",we,[o("img",{src:e.link_image,alt:e.alt_text||e.name,class:"w-full h-auto object-cover border border-text_color/30",loading:"lazy",onClick:l=>g(e.slug,e.colors?.[0]?.variant_slug)},null,8,$e)])),V(o("button",{type:"button",class:$(["absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light px-2 transition-opacity duration-200",{"opacity-100":y(u)===e.slug,"opacity-0":y(u)!==e.slug}]),onClick:l=>g(e.slug,e.colors?.[0]?.variant_slug)}," VIEW ",10,Ce),[[W,y(u)===e.slug]])]),o("div",Me,[o("p",Se,S(e.category),1),o("h3",Ae,S(e.name),1),e.colors&&e.colors.length>0?(n(),r("div",je,[(n(!0),r(k,null,w(e.colors,(l,v)=>(n(),r("div",{key:v,class:"relative",onMouseenter:M=>b(e,l,v),onMouseleave:M=>m(e)},[o("img",{src:l.avatar_image,alt:l.color,class:"w-7 h-7 md:h-8 md:w-8 object-cover border border-project_text_color/40 cursor-pointer",loading:"lazy",onClick:M=>g(e.slug,l.variant_slug)},null,8,qe),o("div",{class:$(["absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color",p(e,v)?"opacity-100":"opacity-0"])},[P(z,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 text-background_color m-auto"})],2)],40,ze))),128))])):T("",!0)])]))),128))])])):(n(),r("div",Ee,[o("div",{class:$(["grid grid-cols-2 md:grid-cols-3 gap-x-4 md:gap-x-8 lg:gap-x-24 gap-y-8",c.layout==="reversed"?"md:flex md:flex-row-reverse":""])},[(n(!0),r(k,null,w(c.items,e=>(n(),r("article",{key:e.slug,class:"group cursor-pointer col-span-2 md:col-span-1"},[o("div",Te,[o("img",{src:e.currentImage||e.colors?.[0]?.avatar_image||e.link_image,alt:e.alt_text||e.name,class:"hidden md:block w-full h-full object-cover border border-text_color/30 transition-transform duration-500 group-hover:scale-105",loading:"lazy",onMouseenter:l=>u.value=e.slug,onMouseleave:s[2]||(s[2]=l=>u.value=null),onClick:l=>g(e.slug,e.colors?.[0]?.variant_slug)},null,40,Be),e.colors&&e.colors.length>0?(n(),G(x,{key:0,colors:e.colors,onGo:l=>g(e.slug,l)},null,8,["colors","onGo"])):(n(),r("div",Pe,[o("img",{src:e.link_image,alt:e.alt_text||e.name,class:"w-full h-auto object-cover border border-text_color/30",loading:"lazy",onClick:l=>g(e.slug,e.colors?.[0]?.variant_slug)},null,8,De)])),V(o("button",{type:"button",class:$(["absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light px-2 transition-opacity duration-200",{"opacity-100":y(u)===e.slug,"opacity-0":y(u)!==e.slug}]),onClick:l=>g(e.slug,e.colors?.[0]?.variant_slug)}," VIEW ",10,Ie),[[W,y(u)===e.slug]])]),o("div",Le,[o("p",Ge,S(e.category),1),o("h3",Ne,S(e.name),1),e.colors&&e.colors.length>0?(n(),r("div",Re,[(n(!0),r(k,null,w(e.colors,(l,v)=>(n(),r("div",{key:v,class:"relative",onMouseenter:M=>b(e,l,v),onMouseleave:M=>m(e)},[o("img",{src:l.avatar_image,alt:l.color,class:"w-7 h-7 md:h-8 md:w-8 object-cover border border-project_text_color/40 cursor-pointer",loading:"lazy",onClick:M=>g(e.slug,l.variant_slug)},null,8,We),o("div",{class:$(["absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color",p(e,v)?"opacity-100":"opacity-0"])},[P(z,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 text-background_color m-auto"})],2)],40,Ve))),128))])):T("",!0)])]))),128)),o("div",Ue,[o("h4",Fe,S(c.heading),1),o("div",He,[(n(!0),r(k,null,w(B(c.text),(e,l)=>(n(),r("span",{key:l,class:"section-text-line -mx-4 px-4 md:-mx-0 py-1 md:py-2 my-1 md:my-3 text-sm md:text-base leading-relaxed tracking-wide bg-text_color text-background_color"},S(e),1))),128))])])],2)])),a<y(f).length-1&&I(a)?(n(),r("div",Je,[...s[5]||(s[5]=[o("div",{class:"w-64 h-px bg-text_color/30"},null,-1)])])):T("",!0)]))),128))])])}}}),Oe={class:"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 pt-4 gap-6"},Qe={class:"flex justify-start w-full"},Ye={class:"flex items-center"},Ze=10,lt=N({__name:"[...slug]",async setup(A){let d,C;const u=oe(),_=te(),j=K(),h=["all","woman","man","kids"],f=q(()=>String(_.params.slug)),p=D(_.query.type&&h.includes(String(_.query.type))?String(_.query.type):"all"),b=q(()=>p.value==="man"?"male":p.value==="woman"?"female":p.value==="kids"?"kids":"all");H(()=>_.query.type,c=>{const a=c&&h.includes(String(c))?String(c):"all";p.value!==a&&(p.value=a)},{immediate:!0});function m(c){p.value=c;const a={..._.query};"gender"in a&&delete a.gender,a.type=c,j.replace({query:a})}function g(c){const a="pr-8 py-1 text-sm text-text_color",e=p.value===c?"font-bold":"bg-background_color";return`${a} ${e}`}const{data:B,pending:I}=([d,C]=U(async()=>F(`collection:${f.value}`,async()=>await $fetch(`${u.public.apiBase}/public/collections/${f.value}/`))),d=await d,C(),d),{data:L,pending:t}=([d,C]=U(async()=>F(`products-all:${f.value}:${b.value}`,async()=>{const c=`${u.public.apiBase}/public/products-all/`,a=new URLSearchParams({page:"1",page_size:String(Ze),collection:f.value});b.value!=="all"&&a.append("gender",b.value);let e=`${c}?${a.toString()}`;const l=[],v=await $fetch(e);return Array.isArray(v?.results)&&l.push(...v.results),l},{watch:[f,b]})),d=await d,C(),d),s=q(()=>I.value||t.value),i=q(()=>B.value||{}),x=q(()=>L.value||[]);function z(){window.scrollTo({top:0,behavior:"smooth"})}return(c,a)=>{const e=O;return n(),r("section",null,[o("div",null,[P(e,{dark:!1}),o("div",Oe,[o("div",Qe,[o("div",Ye,[o("button",{type:"button",class:$(g("all")),onClick:a[0]||(a[0]=l=>m("all"))}," ALL ",2),o("button",{type:"button",class:$(g("woman")),onClick:a[1]||(a[1]=l=>m("woman"))}," WOMAN ",2),o("button",{type:"button",class:$(g("man")),onClick:a[2]||(a[2]=l=>m("man"))}," MAN ",2),o("button",{type:"button",class:$(g("kids")),onClick:a[3]||(a[3]=l=>m("kids"))}," KIDS ",2)])])]),!y(s)&&y(x).length?(n(),G(Ke,{key:0,products:y(x),collection:y(i),onCtaClick:z},null,8,["products","collection"])):T("",!0)])])}}});export{lt as default};
