import{h as $,D as q,E as A,G as s,H as b,P,j as u,k as B,n as N,m as z,c as n,a as o,b as g,q as d,F as I,r as V,M as D,o as l,s as L,C as F,x as R,t as W,w as j,e as G,y as M,_ as O}from"#entry";import{_ as U}from"./Dk5NpKYN.js";const H={key:0,class:"fixed inset-0 flex items-center justify-center bg-background_color"},Y={key:1,id:"smooth-wrapper"},J={id:"smooth-content",class:"stage"},K={class:"slide__content"},Q={class:"slide__content-inner"},X={class:"slide__title"},Z={class:"slide__title-line"},ee={class:"line__inner"},te={class:"slide__cta"},oe=["onClick"],se=$({__name:"index",async setup(ne){let a,y,r=null;try{r=([a,y]=q(()=>A(()=>import("./PsBzYxbv.js"),[],import.meta.url)),a=await a,y(),a).ScrollSmoother}catch{}s.registerPlugin(b,P),r&&s.registerPlugin(r);const x=D(),k=u(null),m=u(!1),p=u(!0),c=u([]);let h=null,f=null;function S(e){const t=document.querySelector(`.slide:nth-child(${e+1})`);t&&s.to(window,{duration:1.2,scrollTo:{y:t,offsetY:0},ease:"power2.inOut"})}async function w(){try{p.value=!0;const e=await $fetch(`${x.public.apiBase}/public/collections/`);c.value=e||[]}catch(e){console.error("Failed to fetch collections:",e),c.value=[]}finally{p.value=!1}}function C(){f=s.context(()=>{r&&(h=r.create({smooth:1.5,effects:!0,normalizeScroll:!0,smoothTouch:.2,wrapper:"#smooth-wrapper",content:"#smooth-content"})),document.querySelectorAll(".slide").forEach((e,t)=>{s.timeline({scrollTrigger:{trigger:e,start:"top 60%",end:"bottom 40%",onEnter:()=>{m.value=t%2===0},onEnterBack:()=>{m.value=t%2===0}}}).from(e.querySelector(".line__inner"),{y:120,duration:1.4,ease:"power4.out"}).from(e.querySelector(".btn"),{y:80,opacity:0,duration:1.2,ease:"power4.out"},.2).from(e.querySelector(".slide__scroll-btn"),{y:40,opacity:0,duration:1,ease:"power4.out"},.3)}),document.querySelectorAll(".slide").forEach(e=>{const t=e.querySelector(".slide__bg");s.fromTo(t,{y:"-20vh",scale:1.2},{y:"20vh",scale:1,ease:"none",scrollTrigger:{trigger:e,scrub:!0,start:"top bottom",end:"bottom top"}})}),s.set(".stage",{autoAlpha:1})})}return B(async()=>{await w(),N(()=>{C()})}),z(()=>{f?.revert(),f=null,h?.kill?.(),b.getAll().forEach(e=>e.kill())}),(e,t)=>{const v=U,T=G,E=M;return l(),n("div",null,[o("div",{ref_key:"navWrap",ref:k,class:"fixed top-0 left-0 w-full z-50"},[g(v,{dark:d(m)},null,8,["dark"])],512),d(p)?(l(),n("div",H,[...t[0]||(t[0]=[o("p",{class:"text-text_color text-xl"},"Loading collections...",-1)])])):(l(),n("div",Y,[o("div",J,[(l(!0),n(I,null,V(d(c),(i,_)=>(l(),n("section",{key:i.id||_,class:L(["slide",`slide--${_%2+1}`])},[o("div",{class:"slide__bg",style:F({backgroundImage:`url(${i.element_one_image})`})},[...t[1]||(t[1]=[o("div",{class:"slide__overlay"},null,-1)])],4),o("div",K,[o("div",Q,[o("h2",X,[o("span",Z,[o("span",ee,W(i.name),1)])]),o("div",te,[g(T,{to:`/collections/${encodeURIComponent(i.slug)}`,class:"btn btn--secondary"},{default:j(()=>[...t[2]||(t[2]=[o("span",{class:"btn__text"},"View Story",-1),o("span",{class:"btn__fill"},null,-1)])]),_:1},8,["to"])])]),_<d(c).length-1?(l(),n("button",{key:0,type:"button",class:"slide__scroll-btn",onClick:le=>S(_+1)},[t[3]||(t[3]=o("span",{class:"slide__scroll-line"},null,-1)),g(E,{name:"lucide:chevron-down",class:"slide__scroll-icon"})],8,oe)):R("",!0)])],2))),128))])]))])}}}),ce=O(se,[["__scopeId","data-v-eabb96bd"]]);export{ce as default};
