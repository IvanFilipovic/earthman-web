import{h as T,c as u,o as c,F as w,r as C,a as e,i as Q,j as k,k as W,n as N,l as L,m as H,p as K,v as ne,q as y,s as E,x as ae,t as A,b as F,y as Y,_ as re,z as ce,f as R,w as I,A as ie,B as ue,C as de,S as pe,D as ge,E as fe,G,H as D,I as me,J as ve,K as _e,L as ye,M as xe}from"#entry";import{Y as he,G as be,_ as ke}from"./Dk5NpKYN.js";import{y as we}from"./DpJYeJpL.js";/* empty css        */const Ce={class:"grid grid-cols-2 md:grid-cols-4 overflow-y-auto pt-8 gap-x-4 md:gap-x-8 lg:gap-x-24"},$e=T({__name:"ShopListingskeleton",props:{count:{default:12},animate:{type:Boolean,default:!0}},setup(x){const f={backgroundColor:"#c6c5c5",borderColor:"#c6c5c5"};return(j,i)=>(c(),u("div",Ce,[(c(!0),u(w,null,C(x.count,d=>(c(),u("div",{key:d,class:"col-span-1 pb-10 animate-pulse"},[e("div",{class:"overflow-hidden"},[e("div",{class:"w-full border",style:f},[e("div",{class:"w-full h-[275.73] md:h-[407.35px] lg:h-[568.723px] aspect-[3/4]",style:f})])]),e("div",{class:"py-3"},[e("div",{class:"h-3 w-24",style:f}),e("div",{class:"mt-2 h-4 w-3/4",style:f}),e("div",{class:"mt-3 flex items-center gap-2"},[e("div",{class:"w-7 h-7 md:w-8 md:h-8 rounded",style:f}),e("div",{class:"w-7 h-7 md:w-8 md:h-8 rounded",style:f})]),e("div",{class:"mt-3 h-4 w-16",style:f})])]))),128))]))}}),ze={class:"grid grid-cols-2 md:grid-cols-4 overflow-y-auto pt-8 gap-x-4 md:gap-x-8 lg:gap-x-24"},Se={class:"bg-background_color overflow-hidden object-fill"},Ae={class:"w-full"},je=["onMouseenter"],Ve=["src","alt","onClick"],Ee={key:0,class:"block md:hidden"},Fe=["src","alt","onClick"],Pe={key:1,class:"block md:hidden"},Me=["src","alt","onClick"],Oe=["onClick"],Be={class:"py-3 text-left"},Ie={class:"text-xs tracking-wider font-extralight"},Le={class:"uppercase tracking-wider text-[13px] md:text-sm font-normal truncate py-1"},Ge={key:0,class:"mt-1 flex items-center gap-2"},Ne=["onMouseenter","onMouseleave"],Re=["src","alt","onClick"],Te={class:"mt-1 text-xs font-light"},qe=T({__name:"ShopListing",props:{products:{}},setup(x){const f=x,j=Q(),i=k(null),d=k({}),a=k({}),$=k({}),V=k({});function B(l,g){l&&(a.value[g]=l)}W(()=>{N(()=>{v()})}),L(()=>f.products,()=>{N(()=>{P(),v()})},{deep:!0}),H(()=>{P()});function P(){Object.values($.value).forEach(l=>{l&&typeof l.destroy=="function"&&l.destroy()}),$.value={}}function v(){f.products.forEach(l=>{if(!l.colors||l.colors.length===0)return;const g=a.value[l.slug];if(!g)return;$.value[l.slug]&&$.value[l.slug].destroy();const b=new we(g,{loop:!0,initial:0,slideChanged(s){V.value[l.slug]=s.track.details.rel}});$.value[l.slug]=b,V.value[l.slug]=0})}function M(l,g){return d.value[l.slug]===g}function r(l,g,b){i.value=l.slug,l.currentImage=g.avatar_image,d.value[l.slug]=b}function _(l){l.currentImage=l.colors?.[0]?.avatar_image||l.link_image,d.value[l.slug]=null,i.value=null}function h(l,g){!l||!g||j.push(`/product/${l}/${g}`)}return(l,g)=>{const b=Y;return c(),u("div",ze,[(c(!0),u(w,null,C(x.products,s=>(c(),u("div",{key:s.slug,class:"col-span-1 cursor-pointer pb-10"},[e("div",Se,[e("div",Ae,[e("div",{class:"relative bg-background_color",onMouseenter:o=>i.value=s.slug,onMouseleave:g[0]||(g[0]=o=>i.value=null)},[e("img",{src:s.currentImage||s.colors?.[0]?.avatar_image||s.link_image,alt:s.alt_text||s.name,class:"hidden md:block max-w-[100%] h-auto object-cover transition-opacity duration-200 border border-text_color/30",loading:"lazy",onClick:o=>h(s.slug,s.colors?.[0]?.variant_slug)},null,8,Ve),s.colors&&s.colors.length>0?(c(),u("div",Ee,[e("div",{ref_for:!0,ref:o=>B(o,s.slug),class:"keen-slider"},[(c(!0),u(w,null,C(s.colors,(o,m)=>(c(),u("div",{key:m,class:"keen-slider__slide"},[e("img",{src:o.avatar_image,alt:o.color,class:"w-full h-auto object-cover border border-text_color/30",loading:"lazy",onClick:n=>h(s.slug,o.variant_slug)},null,8,Fe)]))),128))],512)])):(c(),u("div",Pe,[e("img",{src:s.link_image,alt:s.alt_text||s.name,class:"w-full h-auto object-cover border border-text_color/30",loading:"lazy",onClick:o=>h(s.slug,s.colors?.[0]?.variant_slug)},null,8,Me)])),K(e("button",{type:"button",class:E(["absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light w-auto px-2 mx-auto opacity-0 transition-opacity duration-200",{"opacity-100":y(i)===s.slug}]),onClick:o=>h(s.slug,s.colors?.[0]?.variant_slug)}," VIEW ",10,Oe),[[ne,y(i)===s.slug]])],40,je),e("div",Be,[e("p",Ie,A(s.category),1),e("h3",Le,A(s.name),1),s.colors&&s.colors.length>0?(c(),u("div",Ge,[(c(!0),u(w,null,C(s.colors,(o,m)=>(c(),u("div",{key:m,class:"relative group",onMouseenter:n=>r(s,o,m),onMouseleave:n=>_(s)},[e("img",{src:o.avatar_image,alt:o.color,class:"w-7 h-7 md:h-8 md:w-8 object-cover border border-project_black/40 cursor-pointer",loading:"lazy",onClick:n=>h(s.slug,o.variant_slug)},null,8,Re),e("div",{class:E(["absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color",M(s,m)?"opacity-100":"opacity-0"])},[F(b,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 text-background_color m-auto"})],2)],40,Ne))),128))])):ae("",!0),e("p",Te,"â‚¬"+A(parseFloat(s.price).toFixed(2)),1)])])])]))),128))])}}}),De=re(qe,[["__scopeId","data-v-e220a92d"]]),Ue={"data-aos":"fade-left","data-aos-duration":"400","data-aos-easing":"ease-in-out",class:"fixed inset-y-0 right-0 flex max-w-full"},Qe={class:"flex items-center justify-between px-6 py-4 border-b border-text_color/30"},We={class:"flex-1 overflow-auto px-6 py-6 space-y-8"},He={class:"pt-2"},Ke={class:"mt-3 flex flex-wrap gap-2 justify-end"},Ye=["onClick"],Je={class:"pt-2"},Ze={class:"mt-3 flex flex-wrap gap-2 justify-end"},Xe=["onClick"],et={class:"mt-3 flex flex-wrap gap-2 justify-end"},tt=["onClick"],st={class:"mt-3 flex flex-wrap gap-2 justify-end"},ot=["onClick"],lt={class:"mt-3 flex flex-col gap-2"},nt=["value"],at={class:"flex flex-row my-auto justify-end"},rt={class:"my-auto text-sm text-text_color px-8"},ct=["title"],it={__name:"FilterPanel",props:{open:{type:Boolean,default:!1},facets:{type:Object,default:()=>({collections:[],categories:[],sizes:[],colors:[]})},modelValue:{type:Object,default:()=>({gender:[],collections:[],categories:[],sizes:[],colors:[]})}},emits:["update:open","update:modelValue"],setup(x,{emit:f}){const j=x,i=f;function d(s={}){return{gender:Array.isArray(s.gender)?[...s.gender]:[],collections:Array.isArray(s.collections)?[...s.collections]:[],categories:Array.isArray(s.categories)?[...s.categories]:[],sizes:Array.isArray(s.sizes)?[...s.sizes]:[],colors:Array.isArray(s.colors)?[...s.colors]:[]}}const a=ce(d(j.modelValue));L(()=>j.modelValue,s=>{Object.assign(a,d(s))},{deep:!0});const $=[{label:"WOMAN",value:"female"},{label:"MAN",value:"male"},{label:"KIDS",value:"kids"},{label:"ALL",value:""}];function V(s){a.gender=s?[s]:[],i("update:modelValue",d(a))}function B(s){return s?a.gender[0]===s:a.gender.length===0}function P(){a.gender=[],i("update:modelValue",d(a))}function v(){i("update:modelValue",d(a)),i("update:open",!1)}function M(){Object.assign(a,{gender:[],collections:[],categories:[],sizes:[],colors:[]}),i("update:modelValue",d(a)),i("update:open",!1)}function r(){Object.assign(a,{collections:[]}),i("update:modelValue",d(a))}function _(){Object.assign(a,{categories:[]}),i("update:modelValue",d(a))}function h(){Object.assign(a,{sizes:[]}),i("update:modelValue",d(a))}function l(){Object.assign(a,{colors:[]}),i("update:modelValue",d(a))}function g(s,o){const m=new Set(a[s]);m.has(o)?m.delete(o):m.add(o),a[s]=[...m]}function b(s){return["px-3 py-1 text-sm text-text_color",s?"font-bold":"bg-background_color"].join(" ")}return(s,o)=>{const m=Y;return c(),R(y(pe),{show:x.open},{default:I(()=>[F(y(he),{class:"relative z-50",onClose:o[2]||(o[2]=n=>s.$emit("update:open",!1))},{default:I(()=>[o[10]||(o[10]=e("div",{class:"fixed inset-0 bg-text_color/30","aria-hidden":"true"},null,-1)),e("div",Ue,[F(y(ie),{leave:"transform transition ease-in duration-150","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:I(()=>[F(y(be),{class:"w-screen max-w-md bg-background_color h-full shadow-xl flex flex-col"},{default:I(()=>[e("div",Qe,[o[3]||(o[3]=e("h2",{class:"uppercase tracking-wider text-md"},"Filters",-1)),e("button",{class:"ml-2 p-1 inline-flex items-center justify-center hover:bg-text_color/10 shrink-0","aria-label":"Close cart",onClick:o[0]||(o[0]=n=>i("update:open",!1))},[F(m,{name:"lucide:x",class:"w-4 h-4"})])]),e("div",We,[e("section",He,[e("div",{class:"flex items-center justify-between"},[o[4]||(o[4]=e("h3",{class:"uppercase text-xs tracking-widest"},"Gender",-1)),e("button",{class:"text-xs underline",onClick:P},"Clear")]),e("div",Ke,[(c(),u(w,null,C($,n=>e("button",{key:n.value||"all",onClick:O=>V(n.value),class:E(b(B(n.value)))},A(n.label),11,Ye)),64))])]),e("section",Je,[e("div",{class:"flex items-center justify-between"},[o[5]||(o[5]=e("h3",{class:"uppercase text-xs tracking-widest"},"Collection",-1)),e("button",{class:"text-xs underline",onClick:r},"Clear")]),e("div",Ze,[(c(!0),u(w,null,C(x.facets.collections,n=>(c(),u("button",{key:`col-${n.slug}`,onClick:O=>g("collections",n.slug),class:E(b(a.collections.includes(n.slug)))},A(n.name),11,Xe))),128))])]),e("section",null,[e("div",{class:"flex items-center justify-between"},[o[6]||(o[6]=e("h3",{class:"uppercase text-xs tracking-widest"},"Category",-1)),e("button",{class:"text-xs underline",onClick:_},"Clear")]),e("div",et,[(c(!0),u(w,null,C(x.facets.categories,n=>(c(),u("button",{key:n.id,onClick:O=>g("categories",n.id),class:E(b(a.categories.includes(n.id)))},A(n.name),11,tt))),128))])]),e("section",null,[e("div",{class:"flex items-center justify-between"},[o[7]||(o[7]=e("h3",{class:"uppercase text-xs tracking-widest"},"Size",-1)),e("button",{class:"text-xs underline",onClick:h},"Clear")]),e("div",st,[(c(!0),u(w,null,C(x.facets.sizes,n=>(c(),u("button",{key:n,onClick:O=>g("sizes",n.name),class:E(b(a.sizes.includes(n.name)))},A(n.name),11,ot))),128))])]),e("section",null,[e("div",{class:"flex items-center justify-between"},[o[8]||(o[8]=e("h3",{class:"uppercase text-xs tracking-widest"},"Colour",-1)),e("button",{class:"text-xs underline",onClick:l},"Clear")]),e("div",lt,[(c(!0),u(w,null,C(x.facets.colors,n=>(c(),u("div",{key:n.name,class:"relative"},[K(e("input",{type:"checkbox",value:n.name,"onUpdate:modelValue":o[1]||(o[1]=O=>a.colors=O),class:"absolute inset-0 opacity-0 cursor-pointer"},null,8,nt),[[ue,a.colors]]),e("div",at,[e("p",rt,A(n.name),1),e("div",{class:E(["w-6 h-6 border cursor-pointer m-1",a.colors.includes(n.name)?"ring-2 ring-text_color":"border-gray-300"]),style:de({backgroundColor:`#${n.image}`}),title:n.name},null,14,ct)])]))),128))])])]),e("div",{class:"px-6 py-4 border-t border-text_color/30 flex items-center justify-between"},[e("button",{class:"text-sm underline",onClick:M},"Clean filters"),e("button",{class:"secondary-btn sweep-secondary px-4 py-2",onClick:v},[...o[9]||(o[9]=[e("span",{class:"btn-label"},"View results",-1),e("span",{class:"sweep-overlay bg-secondary_button_color","aria-hidden":"true"},null,-1)])])])]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"])}}},ut={id:"smooth-wrapper"},dt={id:"smooth-content"},pt={class:"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 pt-4 gap-6"},gt={class:"flex justify-between w-full"},ft={class:"flex gap-3 justify-end w-full"},mt={class:"flex items-center gap-3"},vt=["onClick"],U=12,kt=T({__name:"index",async setup(x){let f,j,i=null;try{i=([f,j]=ge(()=>fe(()=>import("./PsBzYxbv.js"),[],import.meta.url)),f=await f,j(),f).ScrollSmoother}catch{}G.registerPlugin(D),i&&G.registerPlugin(i);const d=xe(),a=me(),$=Q(),V=k(!0),B=k([]),P=k(0),v=k(1),M=k(!1),r=k({gender:[],collections:[],categories:[],sizes:[],colors:[]}),_=k({collections:[],categories:[],sizes:[],colors:[]});let h=null,l=null;const g=ve(()=>Math.max(1,Math.ceil(P.value/U)));function b(){const t=a.query;t.page&&(v.value=Number(t.page)||1),t.gender&&(r.value.gender=[String(t.gender)]),t.collection&&(r.value.collections=Array.isArray(t.collection)?t.collection.map(String):[String(t.collection)]),t.category&&(r.value.categories=Array.isArray(t.category)?t.category.map(Number):[Number(t.category)]),t.size&&(r.value.sizes=Array.isArray(t.size)?t.size.map(String):[String(t.size)]),t.color&&(r.value.colors=Array.isArray(t.color)?t.color.map(String):[String(t.color)])}function s(){const t=new URLSearchParams;t.set("page",String(v.value)),t.set("page_size",String(U)),r.value.collections.forEach(z=>t.append("collection",z)),r.value.categories.forEach(z=>t.append("category",String(z))),r.value.sizes.forEach(z=>t.append("size",z)),r.value.colors.forEach(z=>t.append("color",z));const p=r.value.gender[0];return p&&t.set("gender",p),t}function o(){return s().toString().replace(/\+/g,"%20")}function m(){const t={};v.value>1&&(t.page=String(v.value)),r.value.gender.length>0&&(t.gender=r.value.gender[0]),r.value.collections.length>0&&(t.collection=r.value.collections),r.value.categories.length>0&&(t.category=r.value.categories.map(String)),r.value.sizes.length>0&&(t.size=r.value.sizes),r.value.colors.length>0&&(t.color=r.value.colors),$.replace({query:t})}function n(t){v.value=t,m(),h?h.scrollTo(0,!0,"top top"):window.scrollTo({top:0,behavior:"smooth"})}async function O(){try{const t=await $fetch(`${d.public.apiBase}/public/categories/`);_.value.categories=Array.isArray(t)?t:[]}catch(t){console.error("Failed to fetch categories:",t),_.value.categories=[]}}async function J(){try{const t=await $fetch(`${d.public.apiBase}/public/sizes/`);_.value.sizes=Array.isArray(t)?t:[]}catch(t){console.error("Failed to fetch sizes:",t),_.value.sizes=[]}}async function Z(){try{const t=await $fetch(`${d.public.apiBase}/public/colors/`);_.value.colors=Array.isArray(t)?t.map(p=>({name:p.name,image:p.image})):[]}catch(t){console.error("Failed to fetch colors:",t),_.value.colors=[]}}async function X(){try{const t=await $fetch(`${d.public.apiBase}/public/collections/`);_.value.collections=Array.isArray(t)?t.map(p=>({name:p.name,slug:p.slug})):[]}catch(t){console.error("Failed to fetch collections:",t),_.value.collections=[]}}async function q(){try{V.value=!0;const t=await $fetch(`${d.public.apiBase}/public/products-all/?${o()}`);P.value=t.count,B.value=t.results.map(p=>({...p,defaultImage:p.link_image,currentImage:p.link_image}))}catch(t){console.error("Failed to fetch products:",t)}finally{V.value=!1}}function ee(){l=G.context(()=>{i&&(h=i.create({smooth:1.5,effects:!0,normalizeScroll:!0,smoothTouch:.2,wrapper:"#smooth-wrapper",content:"#smooth-content"}))})}return L(r,()=>{v.value!==1&&(v.value=1),m()},{deep:!0}),L(()=>a.query,()=>{q()}),W(async()=>{b(),await Promise.all([O(),Z(),J(),X()]),await q(),N(()=>{ee()})}),H(()=>{l?.revert(),l=null,h?.kill?.(),D.getAll().forEach(t=>t.kill())}),(t,p)=>{const z=ke,te=$e,se=De,oe=it,le=ye;return c(),u("section",null,[F(z,{dark:!1}),e("div",ut,[e("div",dt,[e("div",pt,[e("div",gt,[e("div",ft,[e("div",mt,[p[3]||(p[3]=e("span",{class:"uppercase text-xs tracking-widest ml-4"},"Page",-1)),(c(!0),u(w,null,C(y(g),S=>(c(),u("button",{key:S,type:"button",class:E([S===y(v)?"underline":"opacity-60","text-sm uppercase tracking-widest"]),onClick:_t=>n(S)},A(S),11,vt))),128)),e("button",{type:"button",class:"text-md uppercase tracking-widest",onClick:p[0]||(p[0]=S=>M.value=!0)}," Filters ")])])])]),y(V)?(c(),R(te,{key:0,class:"mt-2 md:mt-6 px-4 md:px-8",count:8})):(c(),R(se,{key:1,class:"mt-2 md:mt-6 px-4 md:px-8",products:y(B)},null,8,["products"])),F(le,null,{default:I(()=>[F(oe,{open:y(M),modelValue:y(r),"onUpdate:modelValue":p[1]||(p[1]=S=>_e(r)?r.value=S:null),facets:y(_),"onUpdate:open":p[2]||(p[2]=S=>M.value=S)},null,8,["open","modelValue","facets"])]),_:1})])])])}}});export{kt as default};
