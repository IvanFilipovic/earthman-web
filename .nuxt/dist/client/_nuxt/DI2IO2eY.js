/*!
 * VelocityTracker: 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var T,j,O,D,N,A,G,tt,et=function(){return T||typeof window<"u"&&(T=window.gsap)},U={},dt=function(t){return Math.round(t*1e4)/1e4},R=function(t){return tt(t).id},b=function(t){return U[R(typeof t=="string"?O(t)[0]:t)]},K=function(t){var e=N,i;if(t-G>=.05)for(G=t;e;)i=e.g(e.t,e.p),(i!==e.v1||t-e.t1>.2)&&(e.v2=e.v1,e.v1=i,e.t2=e.t1,e.t1=t),e=e._next},vt={deg:360,rad:Math.PI*2},B=function(){T=et(),T&&(O=T.utils.toArray,D=T.utils.getUnit,tt=T.core.getCache,A=T.ticker,j=1)},kt=function(t,e,i,n){this.t=t,this.p=e,this.g=t._gsap.get,this.rCap=vt[i||D(this.g(t,e))],this.v1=this.v2=0,this.t1=this.t2=A.time,n&&(this._next=n,n._prev=this)},x=(function(){function a(e,i){j||B(),this.target=O(e)[0],U[R(this.target)]=this,this._props={},i&&this.add(i)}a.register=function(i){T=i,B()};var t=a.prototype;return t.get=function(i,n){var r=this._props[i]||console.warn("Not tracking "+i+" velocity."),l,o,c;return l=parseFloat(n?r.v1:r.g(r.t,r.p)),o=l-parseFloat(r.v2),c=r.rCap,c&&(o=o%c,o!==o%(c/2)&&(o=o<0?o+c:o-c)),dt(o/((n?r.t1:A.time)-r.t2))},t.getAll=function(){var i={},n=this._props,r;for(r in n)i[r]=this.get(r);return i},t.isTracking=function(i){return i in this._props},t.add=function(i,n){i in this._props||(N||(A.add(K),G=A.time),N=this._props[i]=new kt(this.target,i,n,N))},t.remove=function(i){var n=this._props[i],r,l;n&&(r=n._prev,l=n._next,r&&(r._next=l),l?l._prev=r:N===n&&(A.remove(K),N=0),delete this._props[i])},t.kill=function(i){for(var n in this._props)this.remove(n);i||delete U[R(this.target)]},a.track=function(i,n,r){j||B();for(var l=[],o=O(i),c=n.split(","),s=(r||"").split(","),_=o.length,p,g;_--;){for(p=b(o[_])||new a(o[_]),g=c.length;g--;)p.add(c[g],s[g]||s[0]);l.push(p)}return l},a.untrack=function(i,n){var r=(n||"").split(",");O(i).forEach(function(l){var o=b(l);o&&(r.length?r.forEach(function(c){return o.remove(c)}):o.kill(1))})},a.isTracking=function(i,n){var r=b(i);return r&&r.isTracking(n)},a.getVelocity=function(i,n){var r=b(i);return!r||!r.isTracking(n)?console.warn("Not tracking velocity of "+n):r.get(n)},a})();x.getByTarget=b;et()&&T.registerPlugin(x);/*!
 * InertiaPlugin 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var d,it,Q,nt,L,V,rt,st,ot,H,ct,E,q,at,M=x.getByTarget,ft=function(){return d||typeof window<"u"&&(d=window.gsap)&&d.registerPlugin&&d},yt=function(t){return typeof t=="string"},S=function(t){return typeof t=="number"},P=function(t){return typeof t=="object"},z=function(t){return typeof t=="function"},wt=1,ut=Array.isArray,Tt=function(t){return t},F=1e10,W=1/F,lt=.05,mt=function(t){return Math.round(t*1e4)/1e4},Pt=function(t,e,i){for(var n in e)!(n in t)&&n!==i&&(t[n]=e[n]);return t},Ct=function a(t){var e={},i,n;for(i in t)e[i]=P(n=t[i])&&!ut(n)?a(n):n;return e},X=function(t,e,i,n,r){var l=e.length,o=0,c=F,s,_,p,g;if(P(t)){for(;l--;){s=e[l],_=0;for(p in t)g=s[p]-t[p],_+=g*g;_<c&&(o=l,c=_)}if((r||F)<F&&r<Math.sqrt(c))return t}else for(;l--;)s=e[l],_=s-t,_<0&&(_=-_),_<c&&s>=n&&s<=i&&(o=l,c=_);return e[o]},_t=function(t,e,i,n,r,l,o){if(t.end==="auto")return t;var c=t.end,s,_;if(i=isNaN(i)?F:i,n=isNaN(n)?-F:n,P(e)){if(s=e.calculated?e:(z(c)?c(e,o):X(e,c,i,n,l))||e,!e.calculated){for(_ in s)e[_]=s[_];e.calculated=!0}s=s[r]}else s=z(c)?c(e,o):ut(c)?X(e,c,i,n,l):parseFloat(c);return s>i?s=i:s<n&&(s=n),{max:s,min:s,unitFactor:t.unitFactor}},$=function(t,e,i){return isNaN(t[e])?i:+t[e]},J=function(t,e){return e*lt*t/H},Y=function(t,e,i){return Math.abs((e-t)*H/i/lt)},gt={resistance:1,checkpoint:1,preventOvershoot:1,linkedProps:1,radius:1,duration:1},pt=function(t,e,i,n){if(e.linkedProps){var r=e.linkedProps.split(","),l={},o,c,s,_,p,g;for(o=0;o<r.length;o++)c=r[o],s=e[c],s&&(S(s.velocity)?_=s.velocity:(p=p||M(t),_=p&&p.isTracking(c)?p.get(c):0),g=Math.abs(_/$(s,"resistance",n)),l[c]=parseFloat(i(t,c))+J(_,g));return l}},Ft=function(t,e,i,n,r,l){if(i===void 0&&(i=10),n===void 0&&(n=.2),r===void 0&&(r=1),yt(t)&&(t=nt(t)[0]),!t)return 0;var o=0,c=F,s=e.inertia||e,_=ot(t).get,p=$(s,"resistance",V.resistance),g,u,h,f,k,C,y,v,w,m;m=pt(t,s,_,p);for(g in s)gt[g]||(u=s[g],P(u)||(v=v||M(t),v&&v.isTracking(g)?u=S(u)?{velocity:u}:{velocity:v.get(g)}:(f=+u||0,h=Math.abs(f/p))),P(u)&&(S(u.velocity)?f=u.velocity:(v=v||M(t),f=v&&v.isTracking(g)?v.get(g):0),h=ct(n,i,Math.abs(f/$(u,"resistance",p))),k=parseFloat(_(t,g))||0,C=k+J(f,h),"end"in u&&(u=_t(u,m&&g in m?m:C,u.max,u.min,g,s.radius,f),E===e&&(E=s=Ct(e)),s[g]=Pt(u,s[g],"end")),"max"in u&&C>+u.max+W?(w=u.unitFactor||V.unitFactors[g]||1,y=k>u.max&&u.min!==u.max||f*w>-15&&f*w<45?n+(i-n)*.1:Y(k,u.max,f),y+r<c&&(c=y+r)):"min"in u&&C<+u.min-W&&(w=u.unitFactor||V.unitFactors[g]||1,y=k<u.min&&u.min!==u.max||f*w>-45&&f*w<15?n+(i-n)*.1:Y(k,u.min,f),y+r<c&&(c=y+r)),y>o&&(o=y)),h>o&&(o=h));return o>c&&(o=c),o>i?i:o<n?n:o},Z=function(){d=ft(),d&&(Q=d.parseEase,nt=d.utils.toArray,rt=d.utils.getUnit,ot=d.core.getCache,ct=d.utils.clamp,q=d.core.getStyleSaver,at=d.core.reverting||function(){},L=Q("power3"),H=L(.05),st=d.core.PropTween,d.config({resistance:100,unitFactors:{time:1e3,totalTime:1e3,progress:1e3,totalProgress:1e3}}),V=d.config(),d.registerPlugin(x),it=1)},ht={version:"3.13.0",name:"inertia",register:function(t){d=t,Z()},init:function(t,e,i,n,r){it||Z();var l=M(t);if(e==="auto"){if(!l){console.warn("No inertia tracking on "+t+". InertiaPlugin.track(target) first.");return}e=l.getAll()}this.styles=q&&typeof t.style=="object"&&q(t),this.target=t,this.tween=i,E=e;var o=t._gsap,c=o.get,s=e.duration,_=P(s),p=e.preventOvershoot||_&&s.overshoot===0,g=$(e,"resistance",V.resistance),u=S(s)?s:Ft(t,e,_&&s.max||10,_&&s.min||.2,_&&"overshoot"in s?+s.overshoot:p?0:1),h,f,k,C,y,v,w,m,I;e=E,E=0,I=pt(t,e,c,g);for(h in e)gt[h]||(f=e[h],z(f)&&(f=f(n,t,r)),S(f)?y=f:P(f)&&!isNaN(f.velocity)?y=+f.velocity:l&&l.isTracking(h)?y=l.get(h):console.warn("ERROR: No velocity was defined for "+t+" property: "+h),v=J(y,u),m=0,k=c(t,h),C=rt(k),k=parseFloat(k),P(f)&&(w=k+v,"end"in f&&(f=_t(f,I&&h in I?I:w,f.max,f.min,h,e.radius,y)),"max"in f&&+f.max<w?p||f.preventOvershoot?v=f.max-k:m=f.max-k-v:"min"in f&&+f.min>w&&(p||f.preventOvershoot?v=f.min-k:m=f.min-k-v)),this._props.push(h),this.styles&&this.styles.save(h),this._pt=new st(this._pt,t,h,k,0,Tt,0,o.set(t,h,this)),this._pt.u=C||0,this._pt.c1=v,this._pt.c2=m);return i.duration(u),wt},render:function(t,e){var i=e._pt;if(t=L(e.tween._time/e.tween._dur),t||!at())for(;i;)i.set(i.t,i.p,mt(i.s+i.c1*t+i.c2*t*t)+i.u,i.d,t),i=i._next;else e.styles.revert()}};"track,untrack,isTracking,getVelocity,getByTarget".split(",").forEach(function(a){return ht[a]=x[a]});ft()&&d.registerPlugin(ht);export{ht as InertiaPlugin,x as VelocityTracker,ht as default};
