import{_ as E}from"./-mVdr0JC.js";import{_ as H}from"./3oa5Ejrv.js";import{_ as W,j as L,i as q,C,c,o as a,F as w,r as $,l as S,a as s,b as I,k as P,v as T,n as M,t as f,m as R,B as F,A as O,q as J,as as D,f as K,G as Q}from"#entry";import{u as V}from"./B4iePnAF.js";import"./Dc_dsoGv.js";import"./B1F9U_gR.js";/* empty css        */const U={class:"overflow-y-auto pt-8"},X={key:0,class:"pb-10"},Y={class:"grid grid-cols-2 md:grid-cols-4 gap-x-4 md:gap-x-8 lg:gap-x-24 gap-y-8"},Z={class:"relative overflow-hidden"},ee=["onMouseenter","onClick","src","alt"],te=["onClick"],oe={class:"pt-3 md:pt-4 text-left"},se={class:"text-xs tracking-wider font-extralight"},le={class:"uppercase tracking-wider text-sm font-normal truncate py-1"},ne={class:"mt-1 flex items-center gap-2"},ae=["onMouseenter","onMouseleave"],re=["src","alt","onClick"],ce={key:0,class:"text-[10px] md:text-xs"},ue={class:"col-span-2 flex flex-col justify-center"},ie={class:"uppercase tracking-wider text-xs md:text-sm mb-3"},de={class:"flex flex-col"},ge={key:1,class:"pb-10"},_e={class:"grid grid-cols-1 md:grid-cols-2 gap-x-4 md:gap-x-8 lg:gap-x-24 gap-y-8"},pe={class:"relative overflow-hidden"},ve=["onMouseenter","onClick","src","alt"],xe=["onClick"],he={class:"pt-3 md:pt-4 text-left"},fe={class:"text-xs tracking-wider font-extralight"},me={class:"uppercase tracking-wider text-sm font-normal truncate py-1"},ye={class:"mt-1 flex items-center gap-2"},be=["onMouseenter","onMouseleave"],ke=["onMouseenter","src","alt","onClick"],we={key:0,class:"text-[10px] md:text-xs"},$e={__name:"CollectionShopListing",props:{products:{type:Array,default:()=>[]},collection:{type:Object,default:()=>({})}},setup(G){const i=G,b=L(),u=q(null),p=q({});function j(o,l){return p.value[o.slug]===l.variant_slug}function v(o,l){u.value=o.slug,o.currentImage=l.avatar_image,p.value[o.slug]=l.variant_slug}function d(o){o.currentImage=o.defaultImage||o.link_image,p.value[o.slug]=null,u.value=null}function g(o,l){!o||!l||b.push(`/product/${o}/${l}`)}function m(o=[]){return o.slice(0,2)}function k(o=[]){return Math.max(0,o.length-2)}const B=C(()=>{const o=i.collection||{},l=[o.element_one,o.element_two,o.element_three,o.element_four].filter(Boolean);return l.length?l:[""]}),z=C(()=>{const o=[...i.products],l=o.filter(t=>t.hot===!0),x=o.filter(t=>!t.hot),h=[];let n=0,r=0,e=0;for(;r<x.length||e<l.length;){const t=x.slice(r,r+2);t.length>0&&(h.push({type:"gridWithText",items:t,text:B.value[n%B.value.length],heading:N(n)}),r+=t.length,n++);const _=l.slice(e,e+2);_.length>0&&(h.push({type:"gridHot",items:_}),e+=_.length)}return h});function A(o=""){return o.split(new RegExp("(?<=[.!?])\\s+|\\n+")).filter(Boolean)}function N(o){const l=i.collection?.name||"Collection";return o===0?l:`${l} â€” ${o+1}`}return(o,l)=>{const x=H,h=R;return a(),c("section",U,[(a(!0),c(w,null,$(z.value,(n,r)=>(a(),c("div",{key:r},[n.type==="gridWithText"?(a(),c("div",X,[s("div",Y,[(a(!0),c(w,null,$(n.items,e=>(a(),c("article",{key:e.slug,class:"group cursor-pointer md:col-span-1"},[s("div",Z,[s("img",{onMouseenter:t=>u.value=e.slug,onMouseleave:l[0]||(l[0]=t=>u.value=null),onClick:t=>g(e.slug,e.colors?.[0]?.variant_slug),src:e.currentImage||e.link_image,alt:e.alt_text||e.name,class:"hidden md:block w-full h-full object-cover border border-text_color/30",loading:"lazy"},null,40,ee),I(x,{colors:m(e.colors),onGo:t=>g(e.slug,t)},null,8,["colors","onGo"]),P(s("button",{class:M(["absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light w-auto px-2 mx-auto opacity-0 transition-opacity duration-200",{"opacity-100":u.value===e.slug}]),onClick:t=>g(e.slug,e.colors?.[0]?.variant_slug)}," VIEW ",10,te),[[T,u.value===e.slug]])]),s("div",oe,[s("p",se,f(e.category),1),s("h3",le,f(e.name),1),s("div",ne,[(a(!0),c(w,null,$(m(e.colors),(t,_)=>(a(),c("div",{key:t.variant_slug||_,class:"relative",onMouseenter:y=>v(e,t),onMouseleave:y=>d(e)},[s("img",{src:t.avatar_image,alt:t.color,class:"w-7 h-7 md:h-8 md:w-8 object-cover border border-project_black/40",loading:"lazy",onClick:y=>g(e.slug,t.variant_slug)},null,8,re),s("div",{class:M(["absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color",j(e,t)?"opacity-100":"opacity-0"])},[I(h,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 text-background_color m-auto"})],2)],40,ae))),128)),k(e.colors)>0?(a(),c("span",ce,"+"+f(k(e.colors)),1)):S("",!0)])])]))),128)),s("div",ue,[s("h4",ie,f(n.heading),1),s("div",de,[(a(!0),c(w,null,$(A(n.text),(e,t)=>(a(),c("span",{key:t,class:"px-3 py-1 my-1 text-sm md:text-base leading-relaxed tracking-wide max-w-4xl bg-text_color text-background_color"},f(e),1))),128))])])])])):n.type==="gridHot"?(a(),c("div",ge,[s("div",_e,[(a(!0),c(w,null,$(n.items,e=>(a(),c("article",{key:e.slug,class:"group cursor-pointer"},[s("div",pe,[s("img",{onMouseenter:t=>u.value=e.slug,onMouseleave:l[1]||(l[1]=t=>u.value=null),onClick:t=>g(e.slug,e.colors?.[0]?.variant_slug),src:e.currentImage||e.link_image,alt:e.alt_text||e.name,class:"hidden md:block w-full h-full object-cover border border-text_color/30",loading:"lazy"},null,40,ve),I(x,{colors:m(e.colors),onGo:t=>g(e.slug,t)},null,8,["colors","onGo"]),P(s("button",{class:M(["absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light w-auto px-2 mx-auto opacity-0 transition-opacity duration-200",{"opacity-100":u.value===e.slug}]),onClick:t=>g(e.slug,e.colors?.[0]?.variant_slug)}," VIEW ",10,xe),[[T,u.value===e.slug]])]),s("div",he,[s("p",fe,f(e.category),1),s("h3",me,f(e.name),1),s("div",ye,[(a(!0),c(w,null,$(m(e.colors),(t,_)=>(a(),c("div",{key:t.variant_slug||_,class:"relative",onMouseenter:y=>v(e,t),onMouseleave:y=>d(e)},[s("img",{onMouseenter:y=>u.value=e.slug,onMouseleave:l[2]||(l[2]=y=>u.value=null),src:t.avatar_image,alt:t.color,class:"w-7 h-7 md:h-8 md:w-8 object-cover border border-project_black/40",loading:"lazy",onClick:y=>g(e.slug,t.variant_slug)},null,40,ke),s("div",{class:M(["absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color",j(e,t)?"opacity-100":"opacity-0"])},[I(h,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 text-background_color m-auto"})],2)],40,be))),128)),k(e.colors)>0?(a(),c("span",we,"+"+f(k(e.colors)),1)):S("",!0)])])]))),128))])])):S("",!0)]))),128))])}}},Ce=W($e,[["__scopeId","data-v-dee95c24"]]),Me={class:"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 pt-4 gap-6"},Ie={class:"flex justify-start w-full"},je={class:"flex items-center"},Be=48,Se={__name:"[...slug]",async setup(G){let i,b;const u=Q(),p=F(),j=O(),v=C(()=>String(p.params.slug)),d=q(p.query.gender==="male"?"male":"female");J(()=>p.query.gender,n=>{const r=n==="male"?"male":"female";d.value!==r&&(d.value=r)},{immediate:!0});function g(n){d.value!==n&&(d.value=n,j.replace({query:{...p.query,gender:n}}))}function m(n){return["pr-8 py-1 text-sm text-text_color",d.value===n?"font-bold":"bg-background_color"].join(" ")}const{data:k,pending:B}=([i,b]=D(()=>V(()=>`collection:${v.value}`,()=>$fetch(`${u.public.apiBase}/public/collections/${v.value}/`),"$TvI3f2lA28")),i=await i,b(),i),{data:z,pending:A,refresh:N}=([i,b]=D(async()=>V(()=>`products-all:${v.value}:${d.value}`,async()=>{let n=`${u.public.apiBase}/public/products-all/?page=1&page_size=${Be}&collection=${v.value}&gender=${d.value}`;const r=[];for(;n;){const e=await $fetch(n);Array.isArray(e?.results)&&r.push(...e.results),n=e?.next||null}return r},{watch:[v,d]})),i=await i,b(),i),o=C(()=>B.value||A.value),l=C(()=>k.value||{}),x=C(()=>z.value||[]);function h(){window.scrollTo({top:0,behavior:"smooth"})}return(n,r)=>{const e=E,t=Ce;return a(),c("section",null,[I(e,{dark:!1}),s("div",Me,[s("div",Ie,[s("div",je,[s("button",{class:M(m("female")),onClick:r[0]||(r[0]=_=>g("female"))},"WOMAN",2),s("button",{class:M(m("male")),onClick:r[1]||(r[1]=_=>g("male"))},"MAN",2)])])]),!o.value&&x.value.length?(a(),K(t,{key:0,class:"mt-2 md:mt-6 px-4 md:px-8",products:x.value,collection:l.value,onCtaClick:h},null,8,["products","collection"])):S("",!0)])}}},De=W(Se,[["__scopeId","data-v-b28a0b9c"]]);export{De as default};
