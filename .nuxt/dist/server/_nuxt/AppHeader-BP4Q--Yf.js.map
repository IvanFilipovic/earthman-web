{"version":3,"file":"AppHeader-BP4Q--Yf.js","sources":["../../../../virtual:public?%2Flogo%2Fearth-man920.png","../../../../components/AppHeader.vue"],"sourcesContent":["import { publicAssetsURL } from '#internal/nuxt/paths';export default publicAssetsURL(\"/logo/earth-man920.png\")","<template>\n    <section class=\"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 py-6 gap-6\">\n      <div class=\"hidden md:flex flex-col w-full\">\n        <div class=\"w-full\">\n          <NuxtLink\n            to=\"/\"\n            class=\"bg-transparent flex justify-center\"\n          >\n            <img src=\"/logo/earth-man920.png\" alt=\"Logo\" class=\"max-w-[100%]\" />\n          </NuxtLink>\n        </div>\n        <div v-if=\"navigation\" class=\"flex w-full\">\n          <div class=\"flex flex-row justify-start w-full mx-auto gap-x-4 py-4\">\n            <NuxtLink\n                to=\"/shop\"\n                :class=\"[linkColorClass, navWeight('/shop'), 'text-sm my-auto pr-4']\"\n              >\n                SHOP\n            </NuxtLink>  \n            <NuxtLink\n              to=\"/collections\"\n              :class=\"[linkColorClass, navWeight('/collections'), 'text-sm my-auto pr-4']\"\n            >PROJECTS</NuxtLink>\n            <NuxtLink\n              to=\"/about\"\n              :class=\"[linkColorClass, navWeight('/about'), 'text-sm my-auto px-4']\"\n            >ABOUT</NuxtLink>\n            <ClientOnly>\n              <NuxtLink\n                class=\"relative my-auto pr-4\"\n                :class=\"[linkColorClass, navWeight('/cart')]\"\n                @click=\"cartOpen = true\"\n              >\n                <Icon name=\"lucide:shopping-cart\" class=\"w-6 h-6\" :class=\"linkColorClass\" />\n                <span\n                  v-if=\"itemCount > 0\"\n                  class=\"absolute -top-1 -right-1 text-[8px] md:text-[12px] w-4 h-4 flex items-center justify-center\"\n                  :class=\"backgroundColor\"\n                >\n                  {{ itemCount }}\n                </span>\n              </NuxtLink>\n            </ClientOnly>\n            <NuxtLink\n              to=\"/\"\n              :class=\"[linkColorClass, , navWeight('/profile'), 'my-auto font-light pr-4']\"\n            >\n              <Icon\n                name=\"lucide:circle-user-round\"\n                class=\"w-6 h-6\"\n                :class=\"linkColorClass\"\n              />\n            </NuxtLink>\n          </div>\n          <ClientOnly>\n            <CartPanel\n              v-model:open=\"cartOpen\"\n              :dark=\"false\"\n            />\n            <MobileMenu v-model:open=\"mobileMenuOpen\" :dark=\"false\" />\n          </ClientOnly>\n        </div>\n      </div>\n      <div class=\"flex md:hidden items-center justify-between w-full px-2\">\n      <!-- Logo -->\n      <div class=\"w-[60%]\">\n        <NuxtLink to=\"/\" class=\"image bg-cover bg-center bg-transparent h-12 flex justify-start max-w-[100%]\"></NuxtLink>\n      </div>\n\n      <!-- Icons -->\n      <div class=\"flex items-center gap-4\">\n        <!-- Cart -->\n        <ClientOnly>\n          <NuxtLink\n            class=\"relative cursor-pointer\"\n            :class=\"linkColorClass\"\n            @click=\"cartOpen = true\"\n          >\n            <Icon name=\"lucide:shopping-cart\" class=\"w-6 h-6\" :class=\"linkColorClass\" />\n            <span\n              v-if=\"itemCount > 0\"\n              class=\"absolute -top-1 -right-1 bg-text_color text-background_color text-[10px] w-[14px] h-[14px] md:text-[12px] md:w-4 md:h-4 flex items-center justify-center\"\n            >\n              {{ itemCount }}\n            </span>\n          </NuxtLink>\n        </ClientOnly>\n\n        <!-- Hamburger -->\n        <button @click=\"mobileMenuOpen = true\">\n          <Icon name=\"lucide:menu\" class=\"w-7 h-7\" :class=\"linkColorClass\" />\n        </button>\n      </div>\n      </div>\n    </section>\n  </template>\n  \n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\nconst route = useRoute()\nconst cartOpen = ref(false)\nconst itemCount = ref(0)\nconst mobileMenuOpen = ref(false)\n// path helpers\nconst isPathActive = (path: string) =>\n  route.path === path || route.path.startsWith(path + '/')\n\nconst navWeight = (path: string) => (isPathActive(path) ? 'font-bold' : 'font-light')\n\n// query helper for the SHOP submenu\nconst isShopGender = (g: 'male' | 'female') =>\n  isPathActive('/shop') && route.query.gender === g\n\nconst props = defineProps({\n  dark: {\n    type: Boolean,\n    default: false\n  },\n  navigation: {\n    type: Boolean,\n    default: true\n  }\n})\n\n// compute a single Tailwind class you can re-use\nconst linkColorClass = computed(() =>\nprops.dark ? 'text-background_color' : 'text-text_color'\n)\nconst backgroundColor = computed(() =>\nprops.dark ? 'bg-background_color text-text_color' : 'bg-text_color text-background_color'\n)\n\ninterface CartResponse { items: unknown[] }\n\nlet inflight: AbortController | null = null\n\nasync function fetchCart() {\n  // cancel any previous request\n  if (inflight) inflight.abort()\n  inflight = new AbortController()\n\n  try {\n    const res = await $fetch<CartResponse>('/api/private/get/cart', { signal: inflight.signal })\n    itemCount.value = Array.isArray(res?.items) ? res.items.length : 0\n  } catch (err) {\n    console.warn('Cart fetch failed', err)\n  } finally {\n    inflight = null\n  }\n}\n\nconst onCartUpdated = () => fetchCart()\n\nonMounted(() => {\n  fetchCart()\n  window.addEventListener('cart:updated', onCartUpdated)\n})\n\nonBeforeUnmount(() => {\n  window.removeEventListener('cart:updated', onCartUpdated)\n})\n</script>\n\n<style scoped>\n.image {\nbackground-image: url(\"public/logo/earth-man920.png\");\n}\n</style>\n"],"names":["_ssrRenderAttrs","_mergeProps","_push","_parent","_ssrRenderAttr","_createVNode"],"mappings":";;;;AAAuD,MAAA,aAAe,gBAAgB,wBAAwB;;;;;;;;;;;;;;;ACoG9G,UAAM,QAAQ,SAAA;AACG,QAAI,KAAK;AACR,QAAI,CAAC;AACA,QAAI,KAAK;AAEhC,UAAM,eAAe,CAAC,SACpB,MAAM,SAAS,QAAQ,MAAM,KAAK,WAAW,OAAO,GAAG;AAEzD,UAAM,YAAY,CAAC,SAAkB,aAAa,IAAI,IAAI,cAAc;AAMxE,UAAM,QAAQ;AAYd,UAAM,iBAAiB;AAAA,MAAS,MAChC,MAAM,OAAO,0BAA0B;AAAA,IAAA;AAEf;AAAA,MAAS,MACjC,MAAM,OAAO,wCAAwC;AAAA,IAAA;;;;;AAjIxC,YAAA,WAAAA,eAAAC,WAAA,EAAA,OAAM,mGAA+F,MAAA,CAAA,CAAA,mHAAA;;QAItG,IAAG;AAAA,QACH,OAAM;AAAA,MAAA;yBAFR,CAKW,GAAAC,QAAAC,UAAA,aAAA;;0BADJC,cAAA,OAAA,UAA4B;;;cAAjCC,YAAoE,OAAA;AAAA,gBAA/D,KAAA;AAAA,gBAA6B,KAAI;AAAA,gBAAO,OAAM;AAAA,cAAA;;;;;;;UAG5C,QAAA,YAAU;;;UAGb,IAAG;AAAA,UACF,OAAK,CAAG,eAAA,OAAgB,UAAS,OAAA,GAAA,sBAAA;AAAA,QAAA;2BAFtC,CAKW,GAAAH,QAAAC,UAAA,aAAA;;;;;gCAFR,QAEH;AAAA,cAAA;AAAA;;;;;UAEE,IAAG;AAAA,UACF,OAAK,CAAG,eAAA,OAAgB,UAAS,cAAA,GAAA,sBAAA;AAAA,QAAA;2BAFpC,CAGoB,GAAAD,QAAAC,UAAA,aAAA;;;;;gCAAnB,UAAQ;AAAA,cAAA;AAAA;;;;;UAEP,IAAG;AAAA,UACF,OAAK,CAAG,eAAA,OAAgB,UAAS,QAAA,GAAA,sBAAA;AAAA,QAAA;2BAFpC,CAGiB,GAAAD,QAAAC,UAAA,aAAA;;;;;gCAAhB,OAAK;AAAA,cAAA;AAAA;;;;;;UAkBJ,IAAG;AAAA,UACF,OAAK,CAAG,eAAA,OAAA,EAAkB,UAAS,UAAA,GAAA,yBAAA;AAAA,QAAA;2BAFtC,CASW,GAAAD,QAAAC,UAAA,aAAA;;;gBAJP,MAAK;AAAA,gBACL,OAAK,CAAC,WACE,eAAA,KAAc;AAAA,cAAA;;;gBAHxBE,YAIE,iBAAA;AAAA,kBAHA,MAAK;AAAA,kBACL,OAAK,CAAC,WACE,eAAA,KAAc;AAAA,gBAAA;;;;;;;;;;;;;;QAgBpB,IAAG;AAAA,QAAI,OAAM;AAAA,MAAA;;;;;QAwBf,MAAK;AAAA,QAAc,OAAK,CAAC,WAAkB,eAAA,KAAc;AAAA,MAAA;;;;;;;;;;;;"}