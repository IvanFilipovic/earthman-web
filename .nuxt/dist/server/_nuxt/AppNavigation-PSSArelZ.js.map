{"version":3,"file":"AppNavigation-PSSArelZ.js","sources":["../../../../components/AppNavigation.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 py-6 gap-6 border-b border-text_color/30\">\n    <!-- ──────────────── DESKTOP NAVIGATION ──────────────── -->\n    <div class=\"hidden md:flex w-full\">\n      <div class=\"w-full md:w-1/2\">\n        <NuxtLink\n          to=\"/\"\n          class=\"image bg-cover bg-center bg-transparent h-40 flex justify-center max-w-[100%]\"\n        ></NuxtLink>\n      </div>\n\n      <div class=\"w-full md:w-1/2 flex flex-col\">\n        <section class=\"flex flex-col w-full bg-transparent z-50 my-auto\">\n          <div class=\"flex pt-4\">\n            <div class=\"flex flex-row justify-end w-full mx-auto space-x-4 py-4\">\n\n              <!-- SHOP dropdown -->\n              <ClientOnly>\n                <Menu as=\"div\" class=\"text-sm my-auto font-light\" v-slot=\"{ open }\">\n                  <MenuButton\n                    :class=\"[linkColorClass, navWeight('/shop'), 'text-sm px-4 inline-flex items-center']\"\n                  >\n                    SHOP\n                    <Icon name=\"lucide:chevron-down\" class=\"w-4 h-4 my-auto mx-1\" :class=\"linkColorClass\" />\n                  </MenuButton>\n\n                  <TransitionRoot :show=\"open\">\n                    <TransitionChild\n                      enter=\"transition-opacity ease-out duration-200\"\n                      enter-from=\"opacity-0\"\n                      enter-to=\"opacity-100\"\n                      leave=\"transition-opacity ease-in duration-150\"\n                      leave-from=\"opacity-100\"\n                      leave-to=\"opacity-0\"\n                    >\n                      <MenuItems\n                        class=\"absolute mt-3 w-40 origin-top-left shadow-sm ring-1 ring-text_color/5 focus:outline-none z-50\"\n                        :class=\"props.dark ? 'bg-background_color text-text_color' : 'bg-text_color text-background_color'\"\n                        static\n                      >\n                        <div class=\"py-1\">\n                          <MenuItem v-slot=\"{ active }\">\n                            <NuxtLink\n                              :to=\"{ path: '/shop', query: { gender: 'female' } }\"\n                              class=\"block px-4 py-2 text-sm\"\n                              :class=\"[\n                                isShopGender('female') ? 'font-bold' : '',\n                                active ? (props.dark ? 'bg-text_color/10' : 'bg-background_color/5') : ''\n                              ]\"\n                            >\n                              WOMAN\n                            </NuxtLink>\n                          </MenuItem>\n                          <MenuItem v-slot=\"{ active }\">\n                            <NuxtLink\n                              :to=\"{ path: '/shop', query: { gender: 'male' } }\"\n                              class=\"block px-4 py-2 text-sm\"\n                              :class=\"[\n                                isShopGender('male') ? 'font-bold' : '',\n                                active ? (props.dark ? 'bg-text_color/10' : 'bg-background_color/5') : ''\n                              ]\"\n                            >\n                              MAN\n                            </NuxtLink>\n                          </MenuItem>\n                        </div>\n                      </MenuItems>\n                    </TransitionChild>\n                  </TransitionRoot>\n                </Menu>\n\n                <template #fallback>\n                  <NuxtLink\n                    to=\"/shop\"\n                    :class=\"[linkColorClass, 'text-sm font-light px-4 inline-flex items-center gap-1']\"\n                  >\n                    SHOP\n                    <Icon name=\"lucide:chevron-down\" class=\"w-4 h-4\" :class=\"linkColorClass\" />\n                  </NuxtLink>\n                </template>\n              </ClientOnly>\n\n              <!-- Static links -->\n              <NuxtLink\n                to=\"/collections\"\n                :class=\"[linkColorClass, navWeight('/collections'), 'text-sm my-auto px-4']\"\n              >PROJECTS</NuxtLink>\n\n              <NuxtLink\n                to=\"/about\"\n                :class=\"[linkColorClass, navWeight('/about'), 'text-sm my-auto px-4']\"\n              >OUR STORY</NuxtLink>\n\n              <!-- Cart -->\n              <ClientOnly>\n                <NuxtLink\n                  class=\"relative my-auto px-4 cursor-pointer\"\n                  :class=\"[linkColorClass, navWeight('/cart')]\"\n                  @click=\"cartOpen = true\"\n                >\n                  <Icon name=\"lucide:shopping-cart\" class=\"w-6 h-6\" :class=\"linkColorClass\" />\n                  <span\n                    v-if=\"itemCount > 0\"\n                    class=\"absolute -top-1 -right-1 bg-text_color text-background_color text-[12px] w-4 h-4 flex items-center justify-center\"\n                  >\n                    {{ itemCount }}\n                  </span>\n                </NuxtLink>\n              </ClientOnly>\n\n              <!-- User icon -->\n              <NuxtLink\n                to=\"/profile\"\n                :class=\"[linkColorClass, navWeight('/profile'), 'my-auto font-light pl-4']\"\n              >\n                <Icon name=\"lucide:circle-user-round\" class=\"w-6 h-6\" :class=\"linkColorClass\" />\n              </NuxtLink>\n\n            </div>\n            <ClientOnly>\n              <CartPanel v-model:open=\"cartOpen\" :dark=\"false\" />\n              <MobileMenu v-model:open=\"mobileMenuOpen\" :dark=\"false\" />\n            </ClientOnly>\n          </div>\n        </section>\n      </div>\n    </div>\n\n    <!-- ──────────────── MOBILE NAVIGATION ──────────────── -->\n    <div class=\"flex md:hidden items-center justify-between w-full px-2\">\n      <!-- Logo -->\n      <div class=\"w-[60%]\">\n        <NuxtLink to=\"/\" class=\"image bg-cover bg-center bg-transparent h-12 flex justify-start max-w-[100%]\"></NuxtLink>\n      </div>\n\n      <!-- Icons -->\n      <div class=\"flex items-center gap-4\">\n        <!-- Cart -->\n        <ClientOnly>\n          <NuxtLink\n            class=\"relative cursor-pointer\"\n            :class=\"linkColorClass\"\n            @click=\"cartOpen = true\"\n          >\n            <Icon name=\"lucide:shopping-cart\" class=\"w-6 h-6\" :class=\"linkColorClass\" />\n            <span\n              v-if=\"itemCount > 0\"\n              class=\"absolute -top-1 -right-1 bg-text_color text-background_color text-[10px] w-[14px] h-[14px] md:text-[12px] md:w-4 md:h-4 flex items-center justify-center\"\n            >\n              {{ itemCount }}\n            </span>\n          </NuxtLink>\n        </ClientOnly>\n\n        <!-- Hamburger -->\n        <button @click=\"mobileMenuOpen = true\">\n          <Icon name=\"lucide:menu\" class=\"w-7 h-7\" :class=\"linkColorClass\" />\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script setup lang=\"ts\">\nimport {\n  Menu, MenuButton, MenuItems, MenuItem,\n  TransitionRoot, TransitionChild\n} from '@headlessui/vue'\n\nconst props = defineProps({ dark: { type: Boolean, default: false } })\nconst route = useRoute()\nconst cartOpen = ref(false)\nconst config = useRuntimeConfig()\nconst itemCount = ref(0)\nconst mobileMenuOpen = ref(false)\n\n\n// --- NAV LOGIC ---\nconst isPathActive = (path: string) =>\n  route.path === path || route.path.startsWith(path + '/')\nconst navWeight = (path: string) => (isPathActive(path) ? 'font-bold' : 'font-light')\nconst isShopGender = (g: 'male' | 'female') =>\n  isPathActive('/shop') && route.query.gender === g\nconst linkColorClass = computed(() =>\n  props.dark ? 'text-background_color' : 'text-text_color'\n)\n\n// --- CART LOGIC ---\n\ninterface CartResponse {\n  items: unknown[]\n}\n\nasync function fetchCart() {\n  try {\n    const res = await $fetch<CartResponse>(`${config.public.apiBase}/public/cart/`, {\n      credentials: 'include'\n    })\n    itemCount.value = Array.isArray(res.items) ? res.items.length : 0\n  } catch (err) {\n    console.warn('Cart fetch failed', err)\n  }\n}\nconst onCartUpdated = () => { fetchCart() }\n\nonMounted(() => {\n  fetchCart()\n  // attach listeners only on client\n  window.addEventListener('cart:updated', onCartUpdated)\n})\n\nonBeforeUnmount(() => {\n  window.removeEventListener('cart:updated', onCartUpdated)\n})\n</script>\n<style scoped>\n.image {\nbackground-image: url(\"public/logo/black_logo1.png\");\n}\n</style>\n"],"names":["_ssrRenderAttrs","_mergeProps","_push","_parent","_unref","_","_scopeId","_createVNode"],"mappings":";;;;;;;;;;;AA0KA,UAAM,QAAQ;AACd,UAAM,QAAQ,SAAA;AACG,QAAI,KAAK;AAER,QAAI,CAAC;AACA,QAAI,KAAK;AAIhC,UAAM,eAAe,CAAC,SACpB,MAAM,SAAS,QAAQ,MAAM,KAAK,WAAW,OAAO,GAAG;AACzD,UAAM,YAAY,CAAC,SAAkB,aAAa,IAAI,IAAI,cAAc;AAGxE,UAAM,iBAAiB;AAAA,MAAS,MAC9B,MAAM,OAAO,0BAA0B;AAAA,IAAA;;;;;AAxLlC,YAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,iIAA6H,MAAA,CAAA,CAAA,mHAAA;;QAKhI,IAAG;AAAA,QACH,OAAM;AAAA,MAAA;;;QAgEW,kBAAX,CAQW,GAAAC,QAAAC,UAAA,aAAA;;;cANP,IAAG;AAAA,cACF,QAAQC,MAAA,cAAA,GAAc,wDAAA;AAAA,YAAA;+BAFzB,CAMWC,IAAAH,QAAAC,UAAAG,cAAA;;;;oBADH,MAAK;AAAA,oBAAsB,OAAK,CAAC,WAAkBF,MAAA,cAAA,CAAc;AAAA,kBAAA;;;oCAFxE,QAEC;AAAA,oBAAAG,YAA2E,iBAAA;AAAA,sBAArE,MAAK;AAAA,sBAAsB,OAAK,CAAC,WAAkBH,MAAA,cAAA,CAAc;AAAA,oBAAA;;;;;;;;cALzEG,YAMW,qBAAA;AAAA,gBALT,IAAG;AAAA,gBACF,QAAQH,MAAA,cAAA,GAAc,wDAAA;AAAA,cAAA;iCACxB,MAEC;AAAA,kCAFD,QAEC;AAAA,kBAAAG,YAA2E,iBAAA;AAAA,oBAArE,MAAK;AAAA,oBAAsB,OAAK,CAAC,WAAkBH,MAAA,cAAA,CAAc;AAAA,kBAAA;;;;;;;;;QAO3E,IAAG;AAAA,QACF,OAAK,CAAGA,MAAA,cAAA,GAAgB,UAAS,cAAA,GAAA,sBAAA;AAAA,MAAA;yBAFpC,CAGoB,GAAAF,QAAAC,UAAA,aAAA;;;;;8BAAnB,UAAQ;AAAA,YAAA;AAAA;;;;;QAGP,IAAG;AAAA,QACF,OAAK,CAAGC,MAAA,cAAA,GAAgB,UAAS,QAAA,GAAA,sBAAA;AAAA,MAAA;yBAFpC,CAGqB,GAAAF,QAAAC,UAAA,aAAA;;;;;8BAApB,WAAS;AAAA,YAAA;AAAA;;;;;;QAqBR,IAAG;AAAA,QACF,OAAK,CAAGC,MAAA,cAAA,GAAgB,UAAS,UAAA,GAAA,yBAAA;AAAA,MAAA;yBAFpC,CAKW,GAAAF,QAAAC,UAAA,aAAA;;;cADH,MAAK;AAAA,cAA2B,OAAK,CAAC,WAAkBC,MAAA,cAAA,CAAc;AAAA,YAAA;;;cAA5EG,YAAgF,iBAAA;AAAA,gBAA1E,MAAK;AAAA,gBAA2B,OAAK,CAAC,WAAkBH,MAAA,cAAA,CAAc;AAAA,cAAA;;;;;;;;;;QAiB1E,IAAG;AAAA,QAAI,OAAM;AAAA,MAAA;;;;;QAwBf,MAAK;AAAA,QAAc,OAAK,CAAC,WAAkBA,MAAA,cAAA,CAAc;AAAA,MAAA;;;;;;;;;;;;"}