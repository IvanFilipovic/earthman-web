{"version":3,"file":"_...product_-D1p_QG5W.js","sources":["../../../../components/ProductAccordion.vue","../../../../pages/product/[collection]/[...product].vue"],"sourcesContent":["<template>\n  <div class=\"bg-inherit text-text_color max-w-2xl mx-auto py-[150px]\">\n    <ul class=\"divide-y divide-text_color/30\">\n      <li v-for=\"(item, i) in items\" :key=\"i\" class=\"py-4\">\n        <Disclosure v-slot=\"{ open }\" as=\"div\">\n          <!-- Header -->\n          <DisclosureButton\n            class=\"w-full flex items-center justify-between gap-4 text-left\"\n          >\n            <h3 class=\"text-lg font-semibold\">\n              {{ item.title }}\n            </h3>\n\n            <!-- Chevron -->\n            <Icon v-if=\"!open\"\n              name=\"lucide:plus\"\n              class=\"h-4 w-4 transition-transform duration-200 ease-out\"\n              viewBox=\"0 0 20 20\"\n              fill=\"currentColor\"\n              aria-hidden=\"true\"\n            />\n            <Icon v-if=\"open\"\n              name=\"lucide:minus\"\n              class=\"h-4 w-4 transition-transform duration-200 ease-out\"\n              viewBox=\"0 0 20 20\"\n              fill=\"currentColor\"\n              aria-hidden=\"true\"\n            />          \n          </DisclosureButton>\n\n          <!-- Panel -->\n          <transition\n            enter-active-class=\"transition duration-200 ease-out\"\n            enter-from-class=\"opacity-0 -translate-y-1\"\n            enter-to-class=\"opacity-100 translate-y-0\"\n            leave-active-class=\"transition duration-200 ease-in\"\n            leave-from-class=\"opacity-100 translate-y-0\"\n            leave-to-class=\"opacity-0 -translate-y-1\"\n          >\n            <DisclosurePanel v-if=\"open\">\n              <div class=\"pt-4 text-sm leading-6 text-text_color/90 space-y-4\">\n                <!-- String content -->\n                <p v-if=\"typeof item.content === 'string'\">\n                  {{ item.content }}\n                </p>\n\n                <!-- VNode / slot content -->\n                <component\n                  v-else\n                  :is=\"item.content\"\n                />\n\n                <!-- Optional link -->\n                <div v-if=\"item.link\" class=\"pt-1\">\n                  <a\n                    :href=\"item.link.href\"\n                    class=\"underline underline-offset-2 hover:opacity-80\"\n                  >\n                    {{ item.link.label }}\n                  </a>\n                </div>\n              </div>\n            </DisclosurePanel>\n          </transition>\n        </Disclosure>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Disclosure, DisclosureButton, DisclosurePanel } from '@headlessui/vue'\n\ntype LinkInfo = { href: string; label: string }\ntype Item =\n  | { title: string; content: string; link?: LinkInfo }\n  | { title: string; content: any; link?: LinkInfo } // allows passing a component\n\nconst props = defineProps<{\n  items: Item[]\n}>()\n</script>\n","<!-- pages/product/[collection]/[product].vue -->\n<template>\n  <section>\n    <div class=\"flex flex-col md:flex-row items-start md:items-center justify-between px-8 py-6 gap-6 border-b border-text_color/30\">\n      <div class=\"w-full md:w-1/2\">\n        <div class=\"image bg-cover bg-center bg-transparent h-40 flex justify-center max-w-[100%]\">\n        </div>\n      </div>\n\n      <div class=\"w-full md:w-1/2 flex flex-col\">\n        <AppNavigation :dark=\"false\" />\n        <div class=\"flex gap-3 justify-end w-full\">\n            <div class=\"flex items-center gap-3\">\n                <nav class=\"text-sm uppercase tracking-widest space-x-2 text-background_color px-4\">\n                  <p>=</p>\n                </nav>\n            </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Breadcrumb -->\n    <nav class=\"text-xs uppercase tracking-widest mb-6 text-text_color space-x-2 pt-8 md:pl-8\">\n      <NuxtLink to=\"/shop\" class=\"hover:underline\">Shop</NuxtLink>\n      <span>›</span>\n      <NuxtLink :to=\"`/collections/${product?.collection_slug}`\" class=\"hover:underline\">\n        {{ product?.collection_slug }}\n      </NuxtLink>\n      <span>›</span>\n      <span class=\"text-text_color\">{{ productName }}</span>\n    </nav>\n\n    <div class=\"relative grid grid-cols-12 gap-8 pt-8 md:px-8 product-grid\">\n      <!-- LEFT: Gallery -->\n      <div class=\"col-span-12 lg:col-span-8\">\n        <div v-if=\"imagesToShow.length > 0\" class=\"grid grid-cols-2 gap-y-7 pr-2 place-content-between\">\n            <img\n              v-for=\"(img, i) in imagesToShow\"\n              :key=\"i\"\n              :src=\"img\"\n              class=\"h-auto object-none bg-background_color mx-auto max-w-auto border border-text_color/30\"\n              :alt=\"productName\"\n              loading=\"lazy\"\n            />\n        </div>\n\n          <div v-else>\n            <div v-for=\"i in 2\" :key=\"i\" class=\"w-full aspect-[4/3] bg-background_color animate-pulse\"></div>\n          </div>\n      </div>\n\n      <!-- RIGHT: Sticky Add-to-cart -->\n      <aside class=\"col-span-12 lg:col-span-4 product-sticky\">\n        <div class=\"bg-background_color border border-text_color/30 p-5 align-self:start\">\n          <!-- Title / price -->\n          <div class=\"flex items-start justify-between\">\n            <div>\n              <h1 class=\"text-sm font-light leading-tight text-text_color\">{{ productCategory }}</h1>\n              <h1 class=\"text-xl font-medium leading-tight text-text_color\">{{ productName }}</h1>\n              <p class=\"mt-1 text-sm text-text_color\" v-if=\"activeColorName\">Color: {{ activeColorName }}</p>\n            </div>\n            <div class=\"text-right\">\n              <div v-if=\"product?.discount\" class=\"space-x-2\">\n                <span class=\"text-lg font-semibold text-text_color\">€{{ product?.discount_price }}</span>\n                <span class=\"line-through text-text_color\">€{{ product?.price }}</span>\n              </div>\n              <div v-else class=\"text-lg font-semibold text-text_color\">€{{ product?.price }}</div>\n            </div>\n          </div>\n\n          <!-- Color swatches -->\n          <div class=\"mt-4\" v-if=\"variantGroups.length\">\n            <div class=\"text-xs uppercase tracking-widest mb-2\">Color</div>\n            <div class=\"flex gap-3\">\n              <button\n                v-for=\"(vg, idx) in variantGroups\"\n                :key=\"idx\"\n                @click=\"setActiveColor(idx)\"\n                class=\"w-8 h-8 border relative\"\n                :class=\"activeColorIndex === idx ? 'ring-2 ring-text_color' : ''\"\n                :title=\"vg.color?.name\"\n                :style=\"{ backgroundImage: `url(${vg.avatar_image})` }\"\n              >\n                <span class=\"sr-only\">{{ vg.color?.name }}</span>\n              </button>\n            </div>\n          </div>\n\n          <!-- Sizes -->\n          <div class=\"mt-6\" v-if=\"activeSizes.length\">\n            <div class=\"flex items-center justify-between\">\n              <div class=\"text-xs uppercase tracking-widest\">Size</div>\n              <div class=\"text-xs text-text_color/70\">\n                <span v-if=\"inStock\">In Stock</span>\n                <span v-else>Unavailable</span>\n              </div>\n            </div>\n            <div class=\"mt-2 grid grid-cols-5 gap-2\">\n              <button\n                v-for=\"s in activeSizes\"\n                :key=\"s.slug\"\n                @click=\"selectSize(s)\"\n                class=\"border px-2 py-2 text-sm text-text_color\"\n                :class=\"[\n                  s.available ? 'cursor-pointer' : 'opacity-40 cursor-not-allowed',\n                  selectedVariantSlug === s.slug ? 'border-text_color' : 'border-project_gray/50'\n                ]\"\n                :disabled=\"!s.available\"\n              >\n                {{ s.size?.name }}\n              </button>\n            </div>\n          </div>\n\n          <!-- CTA Buttons -->\n          <div class=\"mt-6 space-y-3\">\n            <button\n              class=\"primary-btn w-full py-3\"\n              :disabled=\"!selectedVariantSlug\"\n              @click=\"addToCart\"\n            >\n              ADD TO CART\n            </button>\n          </div>\n\n          <!-- Service bullets -->\n          <ul class=\"mt-5 space-y-2 text-sm text-text_color/80\">\n            <li>✓ Free delivery over €250,-</li>\n            <li>✓ Easy returns within 14 days</li>\n          </ul>\n        </div>\n      </aside>\n    </div>\n\n    <ProductAccordion\n      :items=\"[\n        {\n          title: 'Size & Fit',\n          content: 'Coming soon – sizing guidance for this product.'\n        },\n        {\n          title: 'Shipping & Returns',\n          content: `We offer UPS Standard, Express Saver, and Express shipping options. Final prices are calculated at checkout and exclude import duties which will be charged by UPS after clearing customs.\n\n    We accept returns within 14 days. We kindly remind you that sale items can only be refunded as store credit.`,\n          link: { href: '#', label: 'More info' }\n        },\n        {\n          title: 'Description',\n          content: product?.description || 'No additional description.'\n        }\n      ]\"\n    />\n\n  </section>\n</template>\n\n<script setup lang=\"ts\">\nimport { useToast } from '~/composables/useToast'\n/** Types (lightweight) */\ntype SizeItem = { slug: string; size: { name: string }, available: boolean }\ntype VariantGroup = { color: { name: string; image: string | null; alt_text: string }, avatar_image: string, sizes: SizeItem[] }\ntype Variant = { slug: string; color: { name: string; image: string | null; alt_text: string }, size: { name: string }, available: boolean, images: string[] }\ntype ProductApi = {\n  id: number; category: string; name: string; slug: string; description: string;\n  price: string; discount: boolean; discount_price: string | null;\n  collection_slug: string; available: boolean;\n  variant_groups: VariantGroup[]; selected_variant: Variant | null\n}\nconst config = useRuntimeConfig()\nconst route = useRoute()\nconst collectionParam = computed(() => String(route.params.collection ?? ''))\nconst variantParam    = computed(() => String(route.params.product ?? ''))\nconst { success, error } = useToast()\nconst activeColorIndex = ref(0)\nconst selectedVariantSlug = ref('')\n\n/** Fetch product for given collection + variant */\nconst { data } = await useAsyncData<ProductApi | null>(\n  () => `product:${collectionParam.value}:${variantParam.value}`,\n  async () => {\n    const url = `${config.public.apiBase}/public/products/${collectionParam.value}/${variantParam.value}/`\n    return await $fetch(url)\n  },\n  { watch: [collectionParam, variantParam] }\n)\n\nconst product = computed(() => data.value ?? null)\n\n/** Safe derived state */\nconst productName = computed(() => product.value?.name ?? '')\nconst productCategory = computed(() => product.value?.category ?? '')\nconst variantGroups = computed<VariantGroup[]>(() => product.value?.variant_groups ?? [])\nconst activeSizes = computed<SizeItem[]>(() => variantGroups.value[activeColorIndex.value]?.sizes ?? [])\nconst inStock = computed(() => activeSizes.value.some(s => s?.available))\nconst activeColorName = computed(() => variantGroups.value[activeColorIndex.value]?.color?.name ?? '')\n\nconst imagesToShow = computed<string[]>(() => {\n  const primary = (product.value?.selected_variant?.images ?? []).filter(Boolean)\n  if (primary.length) return primary\n  return variantGroups.value.map(vg => vg?.avatar_image).filter(Boolean)\n})\n\nwatch(\n  () => product.value,\n  (p) => {\n    if (!p) return\n    // try to locate the color group that contains the current variant slug\n    const groupIndex = p.variant_groups?.findIndex(g =>\n      (g?.sizes ?? []).some(s => s?.slug === variantParam.value)\n    ) ?? -1\n    activeColorIndex.value = groupIndex >= 0 ? groupIndex : 0\n\n    // set selected variant to the current URL variant if it exists in sizes\n    const match = (p.variant_groups?.[activeColorIndex.value]?.sizes ?? [])\n      .find(s => s?.slug === variantParam.value && s?.available)\n\n    if (match) {\n      selectedVariantSlug.value = match.slug\n    } else {\n      // fallback to first available size\n      const firstAvail = (p.variant_groups?.[activeColorIndex.value]?.sizes ?? []).find(s => s?.available)\n      selectedVariantSlug.value = firstAvail?.slug ?? ''\n    }\n  },\n  { immediate: true }\n)\n\nconst router = useRouter()\n\n/** Pick a slug for a given color index (prefer first available size) */\nfunction slugForColor(index: number, preferredSizeName?: string): string | undefined {\n  const sizes = variantGroups.value?.[index]?.sizes ?? []\n  // 1) same size & available\n  let pick = sizes.find(s => s.size?.name === preferredSizeName && s.available)\n  // 2) same size (even if unavailable)\n  if (!pick) pick = sizes.find(s => s.size?.name === preferredSizeName)\n  // 3) first available\n  if (!pick) pick = sizes.find(s => s.available)\n  // 4) otherwise first\n  if (!pick) pick = sizes[0]\n  return pick?.slug\n}\n/** Navigate to a given variant slug (if different) */\nfunction goToVariantSlug(nextSlug?: string) {\n  if (!nextSlug || nextSlug === variantParam.value) return\n  router.replace({\n    params: { collection: collectionParam.value, product: nextSlug },\n    query: route.query\n  })\n}\n\nfunction setActiveColor(i: number) {\n  // remember the currently selected size name (if any)\n  const currentSizeName =\n    activeSizes.value.find(s => s.slug === selectedVariantSlug.value)?.size?.name\n\n  activeColorIndex.value = i\n\n  // choose a slug in the new color that matches the previous size if possible\n  const nextSlug = slugForColor(i, currentSizeName)\n  selectedVariantSlug.value = nextSlug ?? ''\n\n  // navigate so the page data/images update\n  goToVariantSlug(nextSlug)\n}\n\nfunction selectSize(s: SizeItem) {\n  if (!s?.available) return\n  selectedVariantSlug.value = s.slug\n}\n\nasync function addToCart() {\n  if (!selectedVariantSlug.value) {\n    error('Please select a size')\n    return\n  }\n  try {\n    await $fetch(`${config.public.apiBase}/public/cart/item/`, {\n      method: 'PUT',\n      credentials: 'include',\n      headers: { 'Content-Type': 'application/json' },\n      body: {\n        product_variant_slug: selectedVariantSlug.value,\n        quantity: 1\n      }\n    })\n    if (typeof window !== 'undefined') {\n      window.dispatchEvent(new CustomEvent('cart:updated', {\n        detail: { source: 'product', variant: selectedVariantSlug.value }\n      }))\n    }\n\n    success('Added to cart')\n  } catch (e: any) {\n    const msg = e?.data?.detail || 'Could not add to cart'\n    error(msg)\n    console.error('Add to cart failed', e)\n  }\n}\n\n/** Helpers */\nfunction swatchBg(hex?: string | null) {\n  if (!hex) return '#e5e7eb' // neutral fallback\n  return `#${hex}`\n}\n\n</script>\n<style non-scoped>\n/* If you have a fixed header, set this to its height */\n:root {\n  --header-height: 0px;\n  --sticky-gap: 16px;\n}\n\n/* Prevent grid stretch; sticky hates stretched grid items */\n.product-grid {\n  /* Ensure the grid itself doesn't clip children */\n  overflow: visible;\n}\n.image {\nbackground-image: url(\"public/logo/black_logo1.png\");\n}\n\n/* Only stick on large screens */\n@media (min-width: 1024px) {\n  .product-sticky {\n    position: sticky;\n    top: calc(var(--header-height) + var(--sticky-gap));\n    align-self: start;   /* in case grid defaults to stretch */\n    z-index: 2;\n  }\n}\n</style>"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_unref","_push","_parent","_scopeId","_ssrInterpolate","_createVNode","_toDisplayString","_createBlock","_ssrRenderVNode","_resolveDynamicComponent","_ssrRenderAttr","_Transition","_withAsyncContext","_createTextVNode","_ssrRenderList","_ssrRenderClass","_ssrRenderStyle","_ssrIncludeBooleanAttr"],"mappings":"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"}