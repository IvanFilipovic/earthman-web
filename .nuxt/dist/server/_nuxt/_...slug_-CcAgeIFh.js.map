{"version":3,"file":"_...slug_-CcAgeIFh.js","sources":["../../../../components/CollectionShopListingSkeleton.vue","../../../../components/testCollectionListing.vue","../../../../pages/collections/[...slug].vue"],"sourcesContent":["<template>\n  <!--TestCollectionListingSkeleton-ADVANCED.vue-->\n  <section class=\"pt-8 mt-2 md:mt-6 px-4 md:px-8\">\n    <div class=\"collection-content\">\n      <div\n        v-for=\"(section, idx) in skeletonSections\"\n        :key=\"idx\"\n        class=\"pb-8 md:pb-12\"\n        :class=\"{ 'animate-pulse': animate }\"\n      >\n        <!-- Hero Layout (2 large items) -->\n        <div v-if=\"section.type === 'hero'\" class=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 min-h-screen\">\n          <article\n            v-for=\"i in 2\"\n            :key=\"i\"\n            class=\"relative min-h-[50vh] md:min-h-full overflow-hidden w-full\"\n            role=\"status\"\n            aria-busy=\"true\"\n            aria-label=\"Loading product\"\n          >\n            <div class=\"absolute inset-0 bg-gray-300\"></div>\n            \n            <div class=\"absolute bottom-0 left-0 right-0 p-4 md:p-6 bg-background_color/80 w-full\">\n              <div class=\"space-y-3\">\n                <div class=\"h-3 w-24 bg-gray-300 rounded\"></div>\n                <div class=\"h-8 md:h-10 lg:h-12 w-3/4 bg-gray-300 rounded\"></div>\n                \n                <div class=\"flex items-center gap-2\">\n                  <div v-for=\"j in 4\" :key=\"j\" class=\"w-8 h-8 md:w-10 md:h-10 bg-gray-300 border-2 border-background_color\"></div>\n                </div>\n\n                <div class=\"h-10 w-32 bg-gray-300 rounded\"></div>\n              </div>\n            </div>\n          </article>\n        </div>\n\n        <!-- Triple Layout (3 items) -->\n        <div v-else-if=\"section.type === 'triple'\" class=\"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8\">\n          <article\n            v-for=\"i in section.count\"\n            :key=\"i\"\n            class=\"group\"\n            role=\"status\"\n            aria-busy=\"true\"\n            aria-label=\"Loading product\"\n          >\n            <div class=\"relative w-full overflow-hidden\">\n              <div class=\"w-full aspect-[3/4] bg-gray-300 border border-gray-300\"></div>\n            </div>\n            \n            <div class=\"pt-3 md:pt-4 text-left space-y-2\">\n              <div class=\"h-3 w-20 bg-gray-300 rounded\"></div>\n              <div class=\"h-4 w-3/4 bg-gray-300 rounded\"></div>\n              \n              <div class=\"flex items-center gap-2\">\n                <div v-for=\"j in 3\" :key=\"j\" class=\"w-7 h-7 md:w-8 md:h-8 bg-gray-300 border border-gray-300\"></div>\n              </div>\n            </div>\n          </article>\n        </div>\n\n        <!-- Standard/Reversed Layout (1 product + text) -->\n        <div v-else>\n          <div \n            class=\"grid grid-cols-2 md:grid-cols-3 gap-x-4 md:gap-x-8 lg:gap-x-24 gap-y-8\"\n            :class=\"section.type === 'reversed' ? 'md:flex md:flex-row-reverse' : ''\"\n          >\n            <article\n              class=\"group col-span-2 md:col-span-1\"\n              role=\"status\"\n              aria-busy=\"true\"\n              aria-label=\"Loading product\"\n            >\n              <div class=\"relative w-full overflow-hidden\">\n                <div class=\"w-full aspect-[3/4] bg-gray-300 border border-gray-300\"></div>\n              </div>\n              \n              <div class=\"pt-3 md:pt-4 text-left space-y-2\">\n                <div class=\"h-3 w-20 bg-gray-300 rounded\"></div>\n                <div class=\"h-4 w-3/4 bg-gray-300 rounded\"></div>\n                \n                <div class=\"flex items-center gap-2\">\n                  <div v-for=\"j in 3\" :key=\"j\" class=\"w-7 h-7 md:w-8 md:h-8 bg-gray-300 border border-gray-300\"></div>\n                </div>\n              </div>\n            </article>\n\n            <div class=\"col-span-2 md:col-span-2 flex flex-col justify-center\">\n              <div class=\"h-4 w-32 bg-gray-300 rounded mb-3 px-4\"></div>\n              <div class=\"flex flex-col space-y-3\">\n                <div v-for=\"k in section.textLines\" :key=\"k\" class=\"h-4 bg-gray-300 rounded px-4\" :class=\"{\n                  'w-full': k === 1,\n                  'w-11/12': k === 2,\n                  'w-10/12': k === 3,\n                  'w-9/12': k > 3\n                }\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Separator -->\n        <div \n          v-if=\"section.showSeparator && idx < skeletonSections.length - 1\" \n          class=\"flex justify-center py-4 md:py-6\"\n        >\n          <div class=\"w-64 h-px bg-gray-300\"></div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script setup lang=\"ts\">\ninterface SkeletonSection {\n  type: 'standard' | 'reversed' | 'hero' | 'triple'\n  count?: number // For triple layout\n  textLines?: number // For standard/reversed\n  showSeparator?: boolean\n}\n\ninterface Props {\n  animate?: boolean\n  sections?: SkeletonSection[]\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  animate: true,\n  sections: () => [\n    { type: 'standard', textLines: 3, showSeparator: true },\n    { type: 'reversed', textLines: 3, showSeparator: true },\n    { type: 'standard', textLines: 3, showSeparator: false },\n    { type: 'hero', showSeparator: false },\n    { type: 'reversed', textLines: 3, showSeparator: true },\n    { type: 'standard', textLines: 3, showSeparator: false },\n    { type: 'triple', count: 3, showSeparator: false },\n  ]\n})\n\nconst skeletonSections = computed(() => props.sections)\n</script>","<template>\n  <section class=\"pt-8 mt-2 md:mt-6 px-4 md:px-8\">\n    <div class=\"collection-content\">\n      <div v-for=\"(section, idx) in sections\" :key=\"idx\">\n        <div v-if=\"section.layout === 'hero'\" class=\"pb-8 md:pb-12\">\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8\">\n            <article\n              v-for=\"item in section.items\"\n              :key=\"item.slug\"\n              class=\"group cursor-pointer relative h-[100vh] overflow-hidden w-full md:w-2/3 mx-auto\"\n            >\n              <img\n                :src=\"item.currentImage || item.colors?.[0]?.avatar_image\"\n                :alt=\"item.alt_text || item.name\"\n                class=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105\"\n                loading=\"lazy\"\n                @mouseenter=\"hoveredSlug = item.slug\"\n                @mouseleave=\"hoveredSlug = null\"\n              />\n              <div class=\"absolute inset-0\"></div>\n              \n              <div class=\"absolute bottom-0 left-0 right-0 p-4 md:p-6 text-text_color bg-background_color/85 w-full\">\n                <div class=\"hero-content\">\n                  <p class=\"text-xs tracking-widest uppercase mb-1 opacity-80\">\n                    {{ item.category }}\n                  </p>\n                  <h2 class=\"hero-title text-xl md:text-2xl font-bold mb-1 uppercase tracking-tight\">\n                    {{ item.name }}\n                  </h2>\n\n                  <div class=\"flex items-center gap-3 mb-2\">\n                    <div v-if=\"item.discount && item.discount_price\" class=\"flex items-center gap-2\">\n                      <span class=\"text-sm md:text-base font-semibold\">\n                        {{ formatPrice(item.discount_price) }}\n                      </span>\n                      <span class=\"text-sm md:text-base line-through opacity-70\">\n                        {{ formatPrice(item.price) }}\n                      </span>\n                    </div>\n                    <span v-else class=\"text-sm md:text-base\">\n                      {{ formatPrice(item.price) }}\n                    </span>\n                  </div>\n                  \n                  <div class=\"flex items-center gap-2 mb-2\">\n                    <div \n                      v-for=\"(color, colorIdx) in item.colors?.slice(0, 4)\"\n                      :key=\"colorIdx\"\n                      class=\"relative\"\n                      @mouseenter=\"onEnterColor(item, color, colorIdx)\"\n                      @mouseleave=\"onLeaveColor(item)\"\n                    >\n                      <img\n                        :src=\"color.avatar_image\"\n                        :alt=\"color.color\"\n                        class=\"w-8 h-8 md:w-10 md:h-10 object-cover border border-text_color/30 cursor-pointer transition-transform hover:scale-110\"\n                        @click=\"goToProduct(item.slug, color.variant_slug)\"\n                      />\n                    </div>\n                  </div>\n\n                  <NuxtLink\n                    :to=\"`/product/${item.slug}/${item.colors?.[0]?.variant_slug}`\"\n                    class=\"btn btn--secondary inline-flex text-sm\"\n                  >\n                    <span class=\"btn__text\">Discover</span>\n                    <span class=\"btn__fill\"></span>\n                  </NuxtLink>\n                </div>\n              </div>\n            </article>\n          </div>\n        </div>\n\n        <div v-else-if=\"section.layout === 'triple'\" class=\"pb-8 md:pb-12\">\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-10\">\n            <article\n              v-for=\"item in section.items\"\n              :key=\"item.slug\"\n              class=\"group cursor-pointer relative h-[100vh] overflow-hidden w-full\"\n            >\n              <img\n                :src=\"item.currentImage || item.colors?.[0]?.avatar_image\"\n                :alt=\"item.alt_text || item.name\"\n                class=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105\"\n                loading=\"lazy\"\n                @mouseenter=\"hoveredSlug = item.slug\"\n                @mouseleave=\"hoveredSlug = null\"\n              />\n              <div class=\"absolute inset-0\"></div>\n              \n              <div class=\"absolute bottom-0 left-0 right-0 p-4 md:p-6 text-text_color bg-background_color/85 w-full\">\n                <div class=\"hero-content\">\n                  <p class=\"text-xs tracking-widest uppercase mb-1 opacity-80\">\n                    {{ item.category }}\n                  </p>\n                  <h2 class=\"hero-title text-lg md:text-2xl font-bold mb-1 uppercase tracking-tight\">\n                    {{ item.name }}\n                  </h2>\n\n                  <div class=\"flex items-center gap-3 mb-2\">\n                    <div v-if=\"item.discount && item.discount_price\" class=\"flex items-center gap-2\">\n                      <span class=\"text-sm md:text-base font-semibold\">\n                        {{ formatPrice(item.discount_price) }}\n                      </span>\n                      <span class=\"text-sm md:text-base line-through opacity-70\">\n                        {{ formatPrice(item.price) }}\n                      </span>\n                    </div>\n                    <span v-else class=\"text-sm md:text-base font-semibold\">\n                      {{ formatPrice(item.price) }}\n                    </span>\n                  </div>\n                  \n                  <div class=\"flex items-center gap-2 mb-2\">\n                    <div \n                      v-for=\"(color, colorIdx) in item.colors?.slice(0, 4)\"\n                      :key=\"colorIdx\"\n                      class=\"relative\"\n                      @mouseenter=\"onEnterColor(item, color, colorIdx)\"\n                      @mouseleave=\"onLeaveColor(item)\"\n                    >\n                      <img\n                        :src=\"color.avatar_image\"\n                        :alt=\"color.color\"\n                        class=\"w-8 h-8 object-cover border border-text_color/30 cursor-pointer transition-transform hover:scale-110\"\n                        @click=\"goToProduct(item.slug, color.variant_slug)\"\n                      />\n                    </div>\n                  </div>\n\n                  <NuxtLink\n                    :to=\"`/product/${item.slug}/${item.colors?.[0]?.variant_slug}`\"\n                    class=\"btn btn--secondary inline-flex text-sm\"\n                  >\n                    <span class=\"btn__text\">Discover</span>\n                    <span class=\"btn__fill\"></span>\n                  </NuxtLink>\n                </div>\n              </div>\n            </article>\n          </div>\n        </div>\n\n        <div v-else class=\"pb-8 md:pb-12\">\n          <div class=\"grid grid-cols-1 md:grid-cols-3 gap-x-4 md:gap-x-8 lg:gap-x-24 gap-y-8\">\n            <article\n              class=\"group cursor-pointer relative h-[60vh] md:h-[800px] overflow-hidden w-full md:col-span-1\"\n              :class=\"section.layout === 'reversed' ? 'md:order-2' : 'md:order-1'\"\n            >\n              <img\n                :src=\"section.items[0].currentImage || section.items[0].colors?.[0]?.avatar_image\"\n                :alt=\"section.items[0].alt_text || section.items[0].name\"\n                class=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105\"\n                loading=\"lazy\"\n                @mouseenter=\"hoveredSlug = section.items[0].slug\"\n                @mouseleave=\"hoveredSlug = null\"\n              />\n              <div class=\"absolute inset-0\"></div>\n              \n              <div class=\"absolute bottom-0 left-0 right-0 p-4 md:p-6 text-text_color bg-background_color/85 w-full\">\n                <div class=\"hero-content\">\n                  <p class=\"text-xs tracking-widest uppercase mb-1 opacity-80\">\n                    {{ section.items[0].category }}\n                  </p>\n                  <h2 class=\"hero-title text-xl md:text-2xl font-bold mb-1 uppercase tracking-tight\">\n                    {{ section.items[0].name }}\n                  </h2>\n\n                  <div class=\"flex items-center gap-3 mb-2\">\n                    <div v-if=\"section.items[0].discount && section.items[0].discount_price\" class=\"flex items-center gap-2\">\n                      <span class=\"text-sm md:text-base font-semibold\">\n                        {{ formatPrice(section.items[0].discount_price) }}\n                      </span>\n                      <span class=\"text-sm md:text-base line-through opacity-70\">\n                        {{ formatPrice(section.items[0].price) }}\n                      </span>\n                    </div>\n                    <span v-else class=\"text-sm md:text-base font-semibold\">\n                      {{ formatPrice(section.items[0].price) }}\n                    </span>\n                  </div>\n                  \n                  <div class=\"flex items-center gap-2 mb-2\">\n                    <div \n                      v-for=\"(color, colorIdx) in section.items[0].colors?.slice(0, 4)\"\n                      :key=\"colorIdx\"\n                      class=\"relative\"\n                      @mouseenter=\"onEnterColor(section.items[0], color, colorIdx)\"\n                      @mouseleave=\"onLeaveColor(section.items[0])\"\n                    >\n                      <img\n                        :src=\"color.avatar_image\"\n                        :alt=\"color.color\"\n                        class=\"w-8 h-8 md:w-10 md:h-10 object-cover border border-text_color/30 cursor-pointer transition-transform hover:scale-110\"\n                        @click=\"goToProduct(section.items[0].slug, color.variant_slug)\"\n                      />\n                    </div>\n                  </div>\n\n                  <NuxtLink\n                    :to=\"`/product/${section.items[0].slug}/${section.items[0].colors?.[0]?.variant_slug}`\"\n                    class=\"btn btn--secondary inline-flex text-sm\"\n                  >\n                    <span class=\"btn__text\">Discover</span>\n                    <span class=\"btn__fill\"></span>\n                  </NuxtLink>\n                </div>\n              </div>\n            </article>\n\n            <div \n              class=\"flex flex-col justify-center section-trigger-line md:col-span-2\"\n              :class=\"section.layout === 'reversed' ? 'md:order-1' : 'md:order-2'\"\n            >\n              <h4 class=\"section-heading uppercase tracking-wider text-xs md:text-sm mb-3 px-4\">\n                {{ section.heading }}\n              </h4>\n              <div class=\"flex flex-col\">\n                <span\n                  v-for=\"(line, i) in splitText(section.text)\"\n                  :key=\"i\"\n                  class=\"section-text-line px-4 py-1 md:py-2 my-1 md:my-3 text-sm md:text-base leading-relaxed tracking-wide text-text_color\"\n                >\n                  {{ line }}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div v-if=\"idx < sections.length - 1 && shouldShowSeparator(idx)\" class=\"flex justify-center py-4 md:py-6\">\n          <div class=\"w-64 h-px bg-text_color/30\"></div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script setup lang=\"ts\">\nimport gsap from 'gsap'\nimport { ScrollTrigger } from 'gsap/ScrollTrigger'\n\ngsap.registerPlugin(ScrollTrigger)\n\ninterface ProductColor {\n  color: string\n  avatar_image: string\n  variant_slug: string\n}\n\ninterface Product {\n  slug: string\n  name: string\n  category: string\n  price: string\n  discount_price?: string | null\n  discount?: boolean\n  alt_text?: string\n  hot?: boolean\n  colors?: ProductColor[]\n  currentImage?: string\n  defaultImage?: string\n}\n\ninterface Collection {\n  name?: string\n  element_one?: string\n  element_two?: string\n  element_three?: string\n  element_four?: string\n  element_five?: string\n}\n\ninterface GridSection {\n  layout: 'standard' | 'reversed' | 'hero' | 'triple'\n  items: Product[]\n  text: string\n  heading: string\n}\n\ninterface Props {\n  products: Product[]\n  collection: Collection\n}\n\nconst props = defineProps<Props>()\nconst router = useRouter()\n\nconst hoveredSlug = ref<string | null>(null)\nconst hoveredColorIndex = ref<Record<string, number | null>>({})\n\nlet ctx: gsap.Context | null = null\n\nconst textElements = computed(() => {\n  const c = props.collection || {}\n  return [\n    c.element_one,\n    c.element_two,\n    c.element_three,\n    c.element_four,\n    c.element_five,\n  ].filter(Boolean)\n})\n\nconst sections = computed<GridSection[]>(() => {\n  const allProducts = [...props.products]\n  const result: GridSection[] = []\n  let i = 0\n  \n  if (allProducts.length >= 1) {\n    result.push({\n      layout: 'standard',\n      items: [allProducts[0]],\n      text: textElements.value[0] || '',\n      heading: props.collection?.name || 'Collection'\n    })\n    i = 1\n  }\n  \n  if (allProducts.length >= 2) {\n    result.push({\n      layout: 'reversed',\n      items: [allProducts[1]],\n      text: textElements.value[1] || '',\n      heading: props.collection?.name || 'Collection'\n    })\n    i = 2\n  }\n  \n  if (allProducts.length >= 3) {\n    result.push({\n      layout: 'standard',\n      items: [allProducts[2]],\n      text: textElements.value[2] || '',\n      heading: props.collection?.name || 'Collection'\n    })\n    i = 3\n  }\n  \n  if (allProducts.length >= 5) {\n    result.push({\n      layout: 'hero',\n      items: [allProducts[3], allProducts[4]],\n      text: '',\n      heading: ''\n    })\n    i = 5\n  }\n  \n  if (allProducts.length >= 6) {\n    result.push({\n      layout: 'reversed',\n      items: [allProducts[5]],\n      text: textElements.value[3] || '',\n      heading: props.collection?.name || 'Collection'\n    })\n    i = 6\n  }\n  \n  if (allProducts.length >= 7) {\n    result.push({\n      layout: 'standard',\n      items: [allProducts[6]],\n      text: textElements.value[4] || '',\n      heading: props.collection?.name || 'Collection'\n    })\n    i = 7\n  }\n  \n  let sectionsAfterText = 0\n  while (i < allProducts.length) {\n    const remaining = allProducts.length - i\n    \n    if (sectionsAfterText > 0 && sectionsAfterText % 3 === 0 && remaining >= 2) {\n      result.push({\n        layout: 'hero',\n        items: [allProducts[i], allProducts[i + 1]],\n        text: '',\n        heading: ''\n      })\n      i += 2\n      sectionsAfterText++\n    } else {\n      const take = Math.min(3, remaining)\n      result.push({\n        layout: 'triple',\n        items: allProducts.slice(i, i + take),\n        text: '',\n        heading: ''\n      })\n      i += take\n      sectionsAfterText++\n    }\n  }\n  \n  return result\n})\n\nfunction formatPrice(price: string | number | null | undefined): string {\n  if (!price) return 'N/A'\n  \n  const numPrice = typeof price === 'string' ? parseFloat(price) : price\n  \n  if (isNaN(numPrice)) return 'N/A'\n  \n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(numPrice)\n}\n\nfunction onEnterColor(item: Product, color: ProductColor, colorIdx: number): void {\n  hoveredSlug.value = item.slug\n  item.currentImage = color.avatar_image\n  hoveredColorIndex.value[item.slug] = colorIdx\n}\n\nfunction onLeaveColor(item: Product): void {\n  item.currentImage = item.colors?.[0]?.avatar_image\n  hoveredColorIndex.value[item.slug] = null\n  hoveredSlug.value = null\n}\n\nfunction goToProduct(slug: string, variantSlug?: string): void {\n  if (!slug || !variantSlug) return\n  router.push(`/product/${slug}/${variantSlug}`)\n}\n\nfunction splitText(text: string = ''): string[] {\n  return text\n    .split(/(?<=[.!?])\\s+|\\n+/)\n    .filter(Boolean)\n}\n\nfunction shouldShowSeparator(idx: number): boolean {\n  return sections.value[idx].layout !== 'hero'\n}\n\nfunction initializeGSAP(): void {\n  ctx = gsap.context(() => {\n    document.querySelectorAll('.hero-title').forEach((title) => {\n      gsap.from(title, {\n        scrollTrigger: {\n          trigger: title,\n          start: 'top 80%'\n        },\n        y: 80,\n        opacity: 0,\n        duration: 0.9,\n        ease: 'power4.out'\n      })\n    })\n\n    document.querySelectorAll('.hero-content').forEach((content) => {\n      gsap.from(content.querySelectorAll('p, .btn'), {\n        scrollTrigger: {\n          trigger: content,\n          start: 'top 80%'\n        },\n        y: 40,\n        opacity: 0,\n        duration: 1.2,\n        ease: 'power4.out',\n        stagger: 0.1\n      })\n    })\n\n    document.querySelectorAll('.section-heading').forEach((heading) => {\n      gsap.from(heading, {\n        scrollTrigger: {\n          trigger: heading,\n          start: 'top 80%'\n        },\n        y: 40,\n        opacity: 0,\n        duration: 1.2,\n        ease: 'power4.out'\n      })\n    })\n\n    document.querySelectorAll('.section-text-line').forEach((line, index) => {\n      gsap.from(line, {\n        scrollTrigger: {\n          trigger: '.section-trigger-line',\n          start: 'top 90%'\n        },\n        y: 30,\n        opacity: 0,\n        duration: 1,\n        ease: 'power4.out',\n        delay: index * 0.5\n      })\n    })\n  })\n}\n\nonMounted(() => {\n  nextTick(() => {\n    initializeGSAP()\n  })\n})\n\nonBeforeUnmount(() => {\n  ctx?.revert()\n  ctx = null\n  ScrollTrigger.getAll().forEach(trigger => trigger.kill())\n})\n</script>","<template>\n  <!--[slug.vue]-->\n  <section class=\"collection-page\">\n    <div class=\"w-full z-50\">\n      <AppNavigation :dark=\"false\" />\n    </div>\n    \n    <div class=\"relative z-10\">\n      \n      <div class=\"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 pt-4 gap-6\">\n        <div class=\"flex justify-start w-full\">\n          <div class=\"flex items-center gap-1\">\n            <button \n              type=\"button\"\n              :class=\"typeBtnClass('all')\"\n              @click=\"setType('all')\"\n            >\n              ALL\n            </button>\n            <button \n              type=\"button\"\n              :class=\"typeBtnClass('woman')\"\n              @click=\"setType('woman')\"\n            >\n              WOMAN\n            </button>\n            <button \n              type=\"button\"\n              :class=\"typeBtnClass('man')\"\n              @click=\"setType('man')\"\n            >\n              MAN\n            </button>\n            <button \n              type=\"button\"\n              :class=\"typeBtnClass('kids')\"\n              @click=\"setType('kids')\"\n            >\n              KIDS\n            </button>\n          </div>\n        </div>\n      </div>\n      <CollectionShopListingSkeleton v-if=\"loading1 && loading2\"\n        :animate=true\n      />\n      <TestCollectionListing\n        v-else\n        :products=\"products\"\n        :collection=\"collection\"\n        @cta-click=\"onCtaClick\"\n      />\n    </div>\n  </section>\n</template>\n\n<script setup lang=\"ts\">\n\ninterface ProductColor {\n  color: string\n  avatar_image: string\n  variant_slug: string\n}\n\ninterface Collection {\n  name?: string\n  element_one?: string\n  element_two?: string\n  element_three?: string\n  element_four?: string\n}\n\ninterface Product {\n  id: number\n  slug: string\n  name: string\n  gender: string\n  category: string\n  price: string\n  discount: boolean\n  discount_price: string | null\n  hot: boolean\n  new: boolean\n  available: boolean\n  alt_text?: string\n  colors: ProductColor[]\n}\n\ninterface ProductsResponse {\n  results: Product[]\n  next: string | null\n}\n\ntype GenderType = 'all' | 'woman' | 'man' | 'kids'\ntype ApiGender = 'all' | 'male' | 'female' | 'kids'\n\nconst config = useRuntimeConfig()\nconst route = useRoute()\nconst router = useRouter()\n\nconst VALID_TYPES: GenderType[] = ['all', 'woman', 'man', 'kids']\nconst PAGE_SIZE = 10\n\nconst slug = computed(() => String(route.params.slug))\n\nconst type = ref<GenderType>(\n  (route.query.type && VALID_TYPES.includes(String(route.query.type) as GenderType))\n    ? String(route.query.type) as GenderType\n    : 'all'\n)\n\nconst gender = computed<ApiGender>(() => {\n  if (type.value === 'man') return 'male'\n  if (type.value === 'woman') return 'female'\n  if (type.value === 'kids') return 'kids'\n  return 'all'\n})\n\nwatch(\n  () => route.query.type,\n  (t) => {\n    const normalized = (t && VALID_TYPES.includes(String(t) as GenderType))\n      ? String(t) as GenderType\n      : 'all'\n    if (type.value !== normalized) {\n      type.value = normalized\n    }\n  },\n  { immediate: true }\n)\n\nfunction setType(value: GenderType): void {\n  type.value = value\n  const newQuery = { ...route.query }\n  if ('gender' in newQuery) delete newQuery.gender\n  newQuery.type = value\n  router.replace({ query: newQuery })\n}\n\nfunction typeBtnClass(btnType: GenderType): string {\n  const base = 'pr-8 py-1 text-sm text-text_color cursor-pointer hover:opacity-70 transition-opacity duration-200'\n  const active = type.value === btnType ? 'font-bold' : 'bg-background_color'\n  return `${base} ${active}`\n}\nconst { data: collectionData, pending: cPending } = await useAsyncData<Collection>(\n  `collection:${slug.value}`,\n  async () => {\n    return await $fetch<Collection>(`${config.public.apiBase}/public/collections/${slug.value}/`)\n  }\n)\n\nconst { data: productsData, pending: pPending } = await useAsyncData<Product[]>(\n  `products-all:${slug.value}:${gender.value}`,\n  async () => {\n    const baseUrl = `${config.public.apiBase}/public/products-all/`\n    const params = new URLSearchParams({\n      page: '1',\n      page_size: String(PAGE_SIZE),\n      collection: slug.value,\n    })\n\n    if (gender.value !== 'all') {\n      params.append('gender', gender.value)\n    }\n\n    let url: string | null = `${baseUrl}?${params.toString()}`\n    const allProducts: Product[] = []\n    const res: ProductsResponse = await $fetch<ProductsResponse>(url as string)\n    if (Array.isArray(res?.results)) {\n      allProducts.push(...res.results)\n    }\n    return allProducts\n  },\n  { watch: [slug, gender] }\n)\n\nconst loading1 = cPending.value\nconst loading2 = pPending.value\nconsole.log(cPending.value, pPending.value)\nconst collection = computed(() => collectionData.value || {})\nconst products = computed(() => productsData.value || [])\n\nfunction onCtaClick(): void {\n  if (import.meta.client) {\n    window.scrollTo({ top: 0, behavior: 'smooth' })\n  }\n}\n</script>\n\n<style scoped>\n.collection-page {\n  position: relative;\n  min-height: 100vh;\n}\n\n/* Ensure buttons are clickable */\nbutton {\n  position: relative;\n  z-index: 10;\n  pointer-events: auto;\n}\n</style>"],"names":["_ssrRenderAttrs","_mergeProps","_unref","_ssrRenderList","_ssrRenderClass","_ssrRenderAttr","_ssrInterpolate","_push","_parent","_createVNode","_withAsyncContext","_ssrRenderComponent"],"mappings":"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"}