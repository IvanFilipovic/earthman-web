{"version":3,"file":"index--lyU2Z6e.js","sources":["../../../../components/CollectionHome.vue","../../../../pages/collections/index.vue"],"sourcesContent":["<template>\n  <div class=\"bg-text_color\">\n    <!-- Pages: either one or two items, full viewport height -->\n    <div\n      v-for=\"(group, pageIndex) in groups\"\n      :key=\"pageIndex\"\n      :ref=\"el => (groupRefs[pageIndex] = el)\"\n      class=\"relative grid grid-cols-1 min-h-screen w-full gap-1 mb-[4px]\"\n      :class=\"group.length > 1 ? 'md:grid-cols-2' : ''\"\n    >\n      <!-- Tile(s) -->\n      <div\n        v-for=\"item in group\"\n        :key=\"item.id\"\n        class=\"relative h-full w-full bg-cover bg-center\"\n        :style=\"{ backgroundImage: `url(${item.element_one_image})` }\"\n      >\n      <div class=\"absolute inset-0 bg-black bg-opacity-25\"></div>\n        <div class=\"absolute bottom-24 left-1/2 transform -translate-x-1/2 text-center text-background_color px-4\">\n          <h2 class=\"text-base sm:text-lg md:text-2xl font-medium md:font-bold mb-4 bg-text_color/70 uppercase tracking-wider py-1\n          \">{{ item.name }}</h2>\n          <NuxtLink\n            :to=\"`/collections/${encodeURIComponent(item.slug)}`\"\n            class=\"primary-btn sweep group inline-flex items-center justify-center px-8 \n             py-3\"\n          >\n            <span class=\"btn-label\">View project</span>\n            <span class=\"sweep-overlay\" aria-hidden=\"true\"></span>\n          </NuxtLink>\n        </div>\n      </div>\n    </div>\n\n    <!-- Loading & Error -->\n    <div v-if=\"pending\" class=\"fixed inset-0 flex items-center justify-center\">\n      <p class=\"text-xl\">Loading collectionsâ€¦</p>\n    </div>\n    <div v-if=\"error\" class=\"fixed inset-0 flex items-center justify-center\">\n      <p class=\"text-xl text-red-600\">Failed to load collections.</p>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\n\nconst config = useRuntimeConfig()\nconst { data: collections, pending, error } = useFetch(\n  `${config.public.apiBase}/public/collections/`\n)\n\nconst windowWidth = ref(0)\nonMounted(() => {\n  // initialize & listen for resizes\n  windowWidth.value = window.innerWidth\n  const onResize = () => (windowWidth.value = window.innerWidth)\n  window.addEventListener('resize', onResize)\n  onUnmounted(() => window.removeEventListener('resize', onResize))\n})\n\n// decide how many per page: 1 on <768px, else 2\nconst itemsPerPage = computed(() => (windowWidth.value < 768 ? 1 : 2))\n\n// chunk into dynamic groups\nconst groups = computed(() => {\n  const arr = collections.value || []\n  const per = itemsPerPage.value\n  const pages = []\n  for (let i = 0; i < arr.length; i += per) {\n    pages.push(arr.slice(i, i + per))\n  }\n  return pages\n})\n\nconst groupRefs = ref([])\n\nfunction scrollToPage(idx) {\n  const el = groupRefs.value[idx]\n  if (el) el.scrollIntoView({ behavior: 'smooth' })\n}\n</script>\n\n<style>\nhtml,\nbody {\n  scroll-behavior: smooth;\n}\n</style>\n","<template>\n    <section>\n        <div class=\"w-full h-auto overflow-auto\">\n            <div class=\"w-full z-50\">\n                <AppNavigation :dark=\"false\" />\n            </div>\n            <div class=\"flex flex-col w-full\">\n                <CollectionHome />\n            </div>\n        </div>\n    </section>\n</template>"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderClass","_ssrRenderList","_ssrRenderStyle","_ssrInterpolate","_push","_parent","_createVNode","_unref","_ssrRenderComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,UAAM,SAAS,iBAAA;AACf,UAAM,EAAE,MAAM,aAAa,SAAS,UAAU;AAAA,MAC5C,GAAG,OAAO,OAAO,OAAO;AAAA,MAAA;AAAA,IAC1B;AAEA,UAAM,cAAc,IAAI,CAAC;AAUzB,UAAM,eAAe,SAAS,MAAO,YAAY,QAAQ,MAAM,IAAI,CAAE;AAGrE,UAAM,SAAS,SAAS,MAAM;AAC5B,YAAM,MAAM,YAAY,SAAS,CAAA;AACjC,YAAM,MAAM,aAAa;AACzB,YAAM,QAAQ,CAAA;AACd,eAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK,KAAK;AACxC,cAAM,KAAK,IAAI,MAAM,GAAG,IAAI,GAAG,CAAC;AAAA,MAClC;AACA,aAAO;AAAA,IACT,CAAC;AAEiB,QAAI,CAAA,CAAE;;;AAzEjB,YAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,mBAAe,MAAA,CAAA,CAAA,WAAA;oBAGO,OAAA,OAAM,CAA3B,OAAO,cAAS;AAIhB,cAAA,eAAAC,eAAA,CAAA,MAAM,SAAM,IAAA,mBAAA,IAAA,8DAAA,CAAA,CAAA,YAAA;AAIHC,sBAAA,QAAR,SAAI;iFAGuBC,eAAA,EAAA,iBAAA,OAAA,KAAK,iBAAiB,IAAA,CAAA,sSAKjDC,eAAA,KAAK,IAAI;;YAEX,IAAE,gBAAkB,mBAAmB,KAAK,IAAI,CAAA;AAAA,YACjD,OAAM;AAAA,UAAA;6BAFR,CAOW,GAAAC,QAAAC,UAAA,aAAA;;;;;kBAFTC,YAA2C,QAAA,EAArC,OAAM,YAAA,GAAY,cAAY;AAAA,kBACpCA,YAAsD,QAAA;AAAA,oBAAhD,OAAM;AAAA,oBAAgB,eAAY;AAAA,kBAAA;;;;;;;;;;;UAOrCC,MAAA,OAAA,GAAO;;;;;UAGPA,MAAA,KAAA,GAAK;;;;;;;;;;;;;;;;;;;;ACjCY,QAAAC,mBAAA,0BAAA,EAAA,MAAM,MAAK,GAAA,MAAA,OAAA,CAAA;;;;;;;;;;;;"}