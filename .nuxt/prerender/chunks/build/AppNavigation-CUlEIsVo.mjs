import{_ as t}from"./nuxt-link-7pp3EPK3.mjs";import{_ as e,c as a,d as l,s as o}from"./server.mjs";import{_ as d}from"./index-Ccr6sSLn.mjs";import{defineComponent as r,ref as n,computed as s,withCtx as i,createVNode as u,unref as c,createTextVNode as f,useSSRContext as p}from"file:///home/kai/Projekti/webshop/node_modules/vue/index.mjs";import{ssrRenderAttrs as m,ssrRenderComponent as v,ssrRenderAttr as g}from"file:///home/kai/Projekti/webshop/node_modules/vue/server-renderer/index.mjs";import{p as x}from"../nitro/nitro.mjs";const h=x("/logo/earth-man920.png");let _=null;const b=r({__name:"AppNavigation",__ssrInlineRender:!0,props:{dark:{type:Boolean,default:!1}},setup(e){const r=e,p=a();!function(){const t=o("cart",()=>({data:{items:[],cart_total_original_price:"0.00",cart_total_discounted_price:"0.00",cart_total_to_pay:"0.00"},loading:!1,error:null})),e=s(()=>t.value.data.items.map(t=>{var e;return{...t,size:null!=(e=t.size)?e:t.product_size}})),a=s(()=>e.value.length),l=s(()=>({original:t.value.data.cart_total_original_price,discounted:t.value.data.cart_total_discounted_price,toPay:t.value.data.cart_total_to_pay}));async function fetchCart(){_&&_.abort(),new AbortController,t.value.loading=!0,t.value.error=null;try{const e=await $fetch("/api/private/get/cart",{signal:_.signal});t.value.data=e}catch(e){e instanceof Error&&"AbortError"!==e.name&&(t.value.error=e,console.warn("Cart fetch failed:",e))}finally{t.value.loading=!1}}function toNumber(t){const e=Number.parseFloat(String(null!=t?t:"0").replace(",","."));return Number.isFinite(e)?e:0}function formatMoney(t){return Number.isInteger(t)?t.toString():t.toFixed(2)}const d=s(()=>toNumber(l.value.toPay)),r=s(()=>d.value>=200?0:12.99),n=s(()=>d.value+r.value),i=s(()=>0===r.value?"Free shipping":"Shipping"),u=s(()=>0===r.value?"Free shipping applied":`You're â‚¬${formatMoney(Math.max(0,200-d.value))} away from free shipping`);s(()=>t.value.loading),s(()=>t.value.error)}(),n(!1),n(!1);const x=s(()=>r.dark?"text-background_color":"text-text_color");function getNavWeight(t){return function(t){return p.path===t||p.path.startsWith(`${t}/`)}(t)?"font-bold":"font-light"}return(e,a,o,r)=>{const n=t,s=l,p=d;a(`<section${m(r)} data-v-d89ed18d><div class="hidden md:flex flex-col lg:flex-row w-full" data-v-d89ed18d><div class="flex flex-col w-full lg:w-1/2 h-full" data-v-d89ed18d><div class="absolute inset-x-0 top-0 w-1/2 h-full md:px-8" data-v-d89ed18d>`),a(v(n,{to:"/",class:"flex justify-center py-6"},{default:i((t,e,a,l)=>{if(!e)return[u("img",{src:h,alt:"Earth Man Logo",class:"max-w-[100%] h-auto object-contain"})];e(`<img${g("src",h)} alt="Earth Man Logo" class="max-w-[100%] h-auto object-contain" data-v-d89ed18d${l}>`)}),_:1},o)),a('</div></div><div class="hidden md:flex w-full items-start justify-end lg:w-1/2 px-4 md:px-8 md:py-14 lg:py-24 gap-6 h-full" data-v-d89ed18d><section class="flex flex-col justify-end w-full bg-transparent z-50 my-auto" data-v-d89ed18d><div class="flex pt-4" data-v-d89ed18d><div class="flex flex-row justify-end w-full mx-auto space-x-4 py-4" data-v-d89ed18d>'),a(v(n,{to:"/shop",class:[c(x),getNavWeight("/shop"),"text-sm my-auto px-4"]},{default:i((t,e,a,l)=>{if(!e)return[f(" SHOP ")];e(" SHOP ")}),_:1},o)),a(v(n,{to:"/collections",class:[c(x),getNavWeight("/collections"),"text-sm my-auto px-4"]},{default:i((t,e,a,l)=>{if(!e)return[f(" STORIES ")];e(" STORIES ")}),_:1},o)),a(v(n,{to:"/about",class:[c(x),getNavWeight("/about"),"text-sm my-auto px-4"]},{default:i((t,e,a,l)=>{if(!e)return[f(" ABOUT ")];e(" ABOUT ")}),_:1},o)),a(v(s,null,{},o)),a(v(n,{to:"/profile",class:[c(x),getNavWeight("/profile"),"my-auto font-light pl-4"],"aria-label":"User profile"},{default:i((t,e,a,l)=>{if(!e)return[u(p,{name:"lucide:circle-user-round",class:["w-6 h-6",c(x)]},null,8,["class"])];e(v(p,{name:"lucide:circle-user-round",class:["w-6 h-6",c(x)]},null,a,l))}),_:1},o)),a("</div>"),a(v(s,null,{},o)),a('</div></section></div></div><section class="flex md:hidden flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 py-6 gap-6" data-v-d89ed18d><div class="flex md:hidden items-center justify-between w-full px-2" data-v-d89ed18d><div class="w-[60%] max-w-[200px]" data-v-d89ed18d>'),a(v(n,{to:"/",class:"block"},{default:i((t,e,a,l)=>{if(!e)return[u("img",{src:h,alt:"Earth Man Logo",class:"w-full h-auto max-h-12 object-contain object-left"})];e(`<img${g("src",h)} alt="Earth Man Logo" class="w-full h-auto max-h-12 object-contain object-left" data-v-d89ed18d${l}>`)}),_:1},o)),a('</div><div class="flex items-center gap-4" data-v-d89ed18d>'),a(v(s,null,{},o)),a('<button type="button" aria-label="Open menu" data-v-d89ed18d>'),a(v(p,{name:"lucide:menu",class:["w-7 h-7",c(x)]},null,o)),a("</button></div></div></section></section>")}}}),w=b.setup;b.setup=(t,e)=>{const a=p();return(a.modules||(a.modules=new Set)).add("components/AppNavigation.vue"),w?w(t,e):void 0};const y=e(b,[["__scopeId","data-v-d89ed18d"]]);export{y as _};
//# sourceMappingURL=AppNavigation-CUlEIsVo.mjs.map
