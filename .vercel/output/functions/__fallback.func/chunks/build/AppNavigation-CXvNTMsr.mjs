import{_ as t}from"./nuxt-link-7pp3EPK3.mjs";import{_ as a,c as e,d as l,s as o}from"./server.mjs";import{_ as r}from"./index-Ccr6sSLn.mjs";import{defineComponent as n,ref as s,computed as i,withCtx as u,createVNode as d,unref as c,createTextVNode as f,useSSRContext as p}from"vue";import{ssrRenderAttrs as m,ssrRenderComponent as v,ssrRenderAttr as g}from"vue/server-renderer";import{p as x}from"../nitro/nitro.mjs";const h=x("/logo/earth-man920.png");let _=null;const b=n({__name:"AppNavigation",__ssrInlineRender:!0,props:{dark:{type:Boolean,default:!1}},setup(a){const n=a,p=e();!function(){const t=o("cart",()=>({data:{items:[],cart_total_original_price:"0.00",cart_total_discounted_price:"0.00",cart_total_to_pay:"0.00"},loading:!1,error:null})),a=i(()=>t.value.data.items.map(t=>{var a;return{...t,size:null!=(a=t.size)?a:t.product_size}})),e=i(()=>a.value.length),l=i(()=>({original:t.value.data.cart_total_original_price,discounted:t.value.data.cart_total_discounted_price,toPay:t.value.data.cart_total_to_pay}));async function fetchCart(){_&&_.abort(),new AbortController,t.value.loading=!0,t.value.error=null;try{const a=await $fetch("/api/private/get/cart",{signal:_.signal});t.value.data=a}catch(a){a instanceof Error&&"AbortError"!==a.name&&(t.value.error=a,console.warn("Cart fetch failed:",a))}finally{t.value.loading=!1}}function toNumber(t){const a=Number.parseFloat(String(null!=t?t:"0").replace(",","."));return Number.isFinite(a)?a:0}function formatMoney(t){return Number.isInteger(t)?t.toString():t.toFixed(2)}const r=i(()=>toNumber(l.value.toPay)),n=i(()=>r.value>=200?0:12.99),s=i(()=>r.value+n.value),u=i(()=>0===n.value?"Free shipping":"Shipping"),d=i(()=>0===n.value?"Free shipping applied":`You're â‚¬${formatMoney(Math.max(0,200-r.value))} away from free shipping`);i(()=>t.value.loading),i(()=>t.value.error)}(),s(!1),s(!1);const x=i(()=>n.dark?"text-background_color":"text-text_color");function getNavWeight(t){return function(t){return p.path===t||p.path.startsWith(`${t}/`)}(t)?"font-bold":"font-light"}return(a,e,o,n)=>{const s=t,i=l,p=r;e(`<section${m(n)} data-v-2a3e994d><div class="hidden md:flex flex-col lg:flex-row w-full z-50" data-v-2a3e994d><div class="flex flex-col w-full lg:w-1/2 h-full" data-v-2a3e994d><div class="absolute inset-x-0 top-0 w-1/2 h-full md:px-8" data-v-2a3e994d>`),e(v(s,{to:"/",class:"flex justify-center py-6"},{default:u((t,a,e,l)=>{if(!a)return[d("img",{src:h,alt:"Earth Man Logo",class:"max-w-[100%] h-auto object-contain"})];a(`<img${g("src",h)} alt="Earth Man Logo" class="max-w-[100%] h-auto object-contain" data-v-2a3e994d${l}>`)}),_:1},o)),e('</div></div><div class="hidden md:flex w-full items-start justify-end lg:w-1/2 px-4 md:px-8 md:py-14 lg:py-24 gap-6 h-full" data-v-2a3e994d><section class="flex flex-col justify-end w-full bg-transparent z-50 my-auto" data-v-2a3e994d><div class="flex pt-4" data-v-2a3e994d><div class="flex flex-row justify-end w-full mx-auto space-x-4 py-4" data-v-2a3e994d>'),e(v(s,{to:"/shop",class:[c(x),getNavWeight("/shop"),"text-sm my-auto px-4"]},{default:u((t,a,e,l)=>{if(!a)return[f(" SHOP ")];a(" SHOP ")}),_:1},o)),e(v(s,{to:"/collections",class:[c(x),getNavWeight("/collections"),"text-sm my-auto px-4"]},{default:u((t,a,e,l)=>{if(!a)return[f(" STORIES ")];a(" STORIES ")}),_:1},o)),e(v(s,{to:"/about",class:[c(x),getNavWeight("/about"),"text-sm my-auto px-4"]},{default:u((t,a,e,l)=>{if(!a)return[f(" ABOUT ")];a(" ABOUT ")}),_:1},o)),e(v(i,null,{},o)),e(v(s,{to:"/profile",class:[c(x),getNavWeight("/profile"),"my-auto font-light pl-4"],"aria-label":"User profile"},{default:u((t,a,e,l)=>{if(!a)return[d(p,{name:"lucide:circle-user-round",class:["w-6 h-6",c(x)]},null,8,["class"])];a(v(p,{name:"lucide:circle-user-round",class:["w-6 h-6",c(x)]},null,e,l))}),_:1},o)),e("</div>"),e(v(i,null,{},o)),e('</div></section></div></div><section class="flex md:hidden flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 py-6 gap-6" data-v-2a3e994d><div class="flex md:hidden items-center justify-between w-full px-2" data-v-2a3e994d><div class="w-[60%] max-w-[200px]" data-v-2a3e994d>'),e(v(s,{to:"/",class:"block"},{default:u((t,a,e,l)=>{if(!a)return[d("img",{src:h,alt:"Earth Man Logo",class:"w-full h-auto max-h-12 object-contain object-left"})];a(`<img${g("src",h)} alt="Earth Man Logo" class="w-full h-auto max-h-12 object-contain object-left" data-v-2a3e994d${l}>`)}),_:1},o)),e('</div><div class="flex items-center gap-4" data-v-2a3e994d>'),e(v(i,null,{},o)),e('<button type="button" aria-label="Open menu" data-v-2a3e994d>'),e(v(p,{name:"lucide:menu",class:["w-7 h-7",c(x)]},null,o)),e("</button></div></div></section></section>")}}}),w=b.setup;b.setup=(t,a)=>{const e=p();return(e.modules||(e.modules=new Set)).add("components/AppNavigation.vue"),w?w(t,a):void 0};const y=a(b,[["__scopeId","data-v-2a3e994d"]]);export{y as _};
//# sourceMappingURL=AppNavigation-CXvNTMsr.mjs.map
