import{_ as t}from"./AppNavigation-CUlEIsVo.mjs";import{defineComponent as e,computed as o,ref as l,watch as a,withAsyncContext as s,mergeProps as r,unref as i,withCtx as n,createVNode as c,nextTick as d,useSSRContext as u}from"vue";import{ssrRenderAttrs as p,ssrRenderComponent as m,ssrRenderClass as v,ssrRenderList as g,ssrRenderAttr as x,ssrInterpolate as b,ssrRenderStyle as h}from"vue/server-renderer";import{_ as f}from"./nuxt-link-7pp3EPK3.mjs";import{z as y}from"../_/vue.es.mjs";import{u as _,_ as $}from"./index-Ccr6sSLn.mjs";import w from"gsap";import{S as k}from"../_/ScrollTrigger.mjs";import{_ as C,c as j,b as S,e as I}from"./server.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@intlify/utils";import"vue-router";import"@iconify/utils";import"consola";import"node:url";import"ipx";import"@iconify/vue";import"@iconify/utils/lib/css/icon";import"pinia";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"unhead/plugins";const z=e({__name:"MobileColorSlider",__ssrInlineRender:!0,props:{colors:{}},emits:["go"],setup(t,{emit:e}){const o=t,s=l(0),[i,n]=y({loop:!0,initial:0,slideChanged(t){s.value=t.track.details.rel}});return a(()=>{var t;return null==(t=o.colors)?void 0:t.length},async()=>{await d(),n.value&&(n.value.update(),n.value.moveToIdx(0),s.value=0)}),(e,o,l,a)=>{t.colors&&t.colors.length>0?(o(`<div${p(r({class:"block md:hidden"},a))}><div class="keen-slider">\x3c!--[--\x3e`),g(t.colors,(t,e)=>{o(`<div class="keen-slider__slide"><img${x("src",t.avatar_image)}${x("alt",t.color)} class="w-full h-auto object-cover border border-text_color/30" loading="lazy"></div>`)}),o("\x3c!--]--\x3e</div></div>")):o("\x3c!----\x3e")}}}),B=z.setup;z.setup=(t,e)=>{const o=u();return(o.modules||(o.modules=new Set)).add("components/MobileColorSlider.vue"),B?B(t,e):void 0};const q=e({__name:"testCollectionListing",__ssrInlineRender:!0,props:{products:{},collection:{}},setup(t){w.registerPlugin(k);const e=t,a=S(),s=l(null),d=l({}),u=o(()=>{const t=e.collection||{};return[t.element_one,t.element_two,t.element_three,t.element_four,t.element_five].filter(Boolean)}),y=o(()=>{var t,o,l,a,s;const r=[...e.products],i=[];let n=0;r.length>=1&&(i.push({layout:"standard",items:[r[0]],text:u.value[0]||"",heading:(null==(t=e.collection)?void 0:t.name)||"Collection"}),n=1),r.length>=2&&(i.push({layout:"reversed",items:[r[1]],text:u.value[1]||"",heading:(null==(o=e.collection)?void 0:o.name)||"Collection"}),n=2),r.length>=3&&(i.push({layout:"standard",items:[r[2]],text:u.value[2]||"",heading:(null==(l=e.collection)?void 0:l.name)||"Collection"}),n=3),r.length>=5&&(i.push({layout:"hero",items:[r[3],r[4]],text:"",heading:""}),n=5),r.length>=6&&(i.push({layout:"reversed",items:[r[5]],text:u.value[3]||"",heading:(null==(a=e.collection)?void 0:a.name)||"Collection"}),n=6),r.length>=7&&(i.push({layout:"standard",items:[r[6]],text:u.value[4]||"",heading:(null==(s=e.collection)?void 0:s.name)||"Collection"}),n=7);let c=0;for(;n<r.length;){const t=r.length-n;if(c>0&&c%3==0&&t>=2)i.push({layout:"hero",items:[r[n],r[n+1]],text:"",heading:""}),n+=2,c++;else{const e=Math.min(3,t);i.push({layout:"triple",items:r.slice(n,n+e),text:"",heading:""}),n+=e,c++}}return i});function isColorHovered(t,e){return d.value[t.slug]===e}function goToProduct(t,e){t&&e&&a.push(`/product/${t}/${e}`)}return(t,e,o,l)=>{const a=f,d=z,u=$;e(`<section${p(r({class:"pt-8 mt-2 md:mt-6 px-4 md:px-8"},l))}><div class="collection-content">\x3c!--[--\x3e`),g(i(y),(t,l)=>{e("<div>"),"hero"===t.layout?(e('<div class="pb-8 md:pb-12"><div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 min-h-screen">\x3c!--[--\x3e'),g(t.items,t=>{var l,s,r,i,d;e(`<article class="group cursor-pointer relative min-h-[50vh] md:min-h-full overflow-hidden w-full"><img${x("src",t.currentImage||(null==(s=null==(l=t.colors)?void 0:l[0])?void 0:s.avatar_image))}${x("alt",t.alt_text||t.name)} class="absolute inset-0 max-w-full h-full object-contain mx-auto transition-transform duration-700 group-hover:scale-105" loading="lazy"><div class="absolute inset-0"></div><div class="absolute bottom-0 left-0 right-0 p-4 md:p-6 text-text_color bg-background_color/80 w-full"><div class="hero-content"><p class="text-xs tracking-widest uppercase mb-1 opacity-80">${b(t.category)}</p><h2 class="hero-title text-2xl md:text-3xl lg:text-4xl font-bold mb-3 uppercase tracking-tight">${b(t.name)}</h2><div class="flex items-center gap-2 mb-4">\x3c!--[--\x3e`),g(null==(r=t.colors)?void 0:r.slice(0,4),(t,o)=>{e(`<div class="relative"><img${x("src",t.avatar_image)}${x("alt",t.color)} class="w-8 h-8 md:w-10 md:h-10 object-cover border-2 border-background_color cursor-pointer transition-transform hover:scale-110"></div>`)}),e("\x3c!--]--\x3e</div>"),e(m(a,{to:`/product/${t.slug}/${null==(d=null==(i=t.colors)?void 0:i[0])?void 0:d.variant_slug}`,class:"btn btn--secondary inline-flex text-sm"},{default:n((t,e,o,l)=>{if(!e)return[c("span",{class:"btn__text"},"Discover"),c("span",{class:"btn__fill"})];e(`<span class="btn__text"${l}>Discover</span><span class="btn__fill"${l}></span>`)}),_:2},o)),e("</div></div></article>")}),e("\x3c!--]--\x3e</div></div>")):"triple"===t.layout?(e('<div class="pb-8 md:pb-12"><div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8">\x3c!--[--\x3e'),g(t.items,t=>{var l,a;e(`<article class="group cursor-pointer"><div class="relative overflow-hidden"><img${x("src",t.currentImage||(null==(a=null==(l=t.colors)?void 0:l[0])?void 0:a.avatar_image))}${x("alt",t.alt_text||t.name)} class="hidden md:block w-full h-full object-cover border border-text_color/30 transition-transform duration-500 group-hover:scale-105" loading="lazy">`),t.colors&&t.colors.length>0?e(m(d,{colors:t.colors,onGo:e=>goToProduct(t.slug,e)},null,o)):e(`<div class="block md:hidden"><img${x("src",t.currentImage)}${x("alt",t.alt_text||t.name)} class="w-full h-auto object-cover border border-text_color/30" loading="lazy"></div>`),e(`<button type="button" class="${v([{"opacity-100":i(s)===t.slug,"opacity-0":i(s)!==t.slug},"absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light px-2 transition-opacity duration-200"])}" style="${h(i(s)===t.slug?null:{display:"none"})}"> VIEW </button></div><div class="pt-3 md:pt-4 text-left"><p class="text-xs tracking-wider font-extralight">${b(t.category)}</p><h3 class="uppercase tracking-wider text-sm font-normal truncate py-1">${b(t.name)}</h3>`),t.colors&&t.colors.length>0?(e('<div class="mt-1 flex items-center gap-2">\x3c!--[--\x3e'),g(t.colors,(l,a)=>{e(`<div class="relative"><img${x("src",l.avatar_image)}${x("alt",l.color)} class="w-7 h-7 md:h-8 md:w-8 object-cover border border-project_text_color/40 cursor-pointer" loading="lazy"><div class="${v([isColorHovered(t,a)?"opacity-100":"opacity-0","absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color"])}">`),e(m(u,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 text-background_color m-auto"},null,o)),e("</div></div>")}),e("\x3c!--]--\x3e</div>")):e("\x3c!----\x3e"),e("</div></article>")}),e("\x3c!--]--\x3e</div></div>")):(e(`<div class="pb-8 md:pb-12"><div class="${v(["reversed"===t.layout?"md:flex md:flex-row-reverse":"","grid grid-cols-2 md:grid-cols-3 gap-x-4 md:gap-x-8 lg:gap-x-24 gap-y-8"])}">\x3c!--[--\x3e`),g(t.items,t=>{var l,a;e(`<article class="group cursor-pointer col-span-2 md:col-span-1"><div class="relative overflow-hidden"><img${x("src",t.currentImage||(null==(a=null==(l=t.colors)?void 0:l[0])?void 0:a.avatar_image))}${x("alt",t.alt_text||t.name)} class="hidden md:block w-full h-full object-cover border border-text_color/30 transition-transform duration-500 group-hover:scale-105" loading="lazy">`),t.colors&&t.colors.length>0?e(m(d,{colors:t.colors,onGo:e=>goToProduct(t.slug,e)},null,o)):e(`<div class="block md:hidden"><img${x("src",t.currentImage)}${x("alt",t.alt_text||t.name)} class="w-full h-auto object-cover border border-text_color/30" loading="lazy"></div>`),e(`<button type="button" class="${v([{"opacity-100":i(s)===t.slug,"opacity-0":i(s)!==t.slug},"absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light px-2 transition-opacity duration-200"])}" style="${h(i(s)===t.slug?null:{display:"none"})}"> VIEW </button></div><div class="pt-3 md:pt-4 text-left"><p class="text-xs tracking-wider font-extralight">${b(t.category)}</p><h3 class="uppercase tracking-wider text-sm font-normal truncate py-1">${b(t.name)}</h3>`),t.colors&&t.colors.length>0?(e('<div class="mt-1 flex items-center gap-2">\x3c!--[--\x3e'),g(t.colors,(l,a)=>{e(`<div class="relative"><img${x("src",l.avatar_image)}${x("alt",l.color)} class="w-7 h-7 md:h-8 md:w-8 object-cover border border-project_text_color/40 cursor-pointer" loading="lazy"><div class="${v([isColorHovered(t,a)?"opacity-100":"opacity-0","absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color"])}">`),e(m(u,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 text-background_color m-auto"},null,o)),e("</div></div>")}),e("\x3c!--]--\x3e</div>")):e("\x3c!----\x3e"),e("</div></article>")}),e(`\x3c!--]--\x3e<div class="col-span-2 md:col-span-2 flex flex-col justify-center section-trigger-line"><h4 class="section-heading uppercase tracking-wider text-xs md:text-sm mb-3 px-4">${b(t.heading)}</h4><div class="flex flex-col">\x3c!--[--\x3e`),g(function(t=""){return t.split(new RegExp("(?<=[.!?])\\s+|\\n+")).filter(Boolean)}(t.text),(t,o)=>{e(`<span class="section-text-line -mx-4 px-4 md:-mx-0 py-1 md:py-2 my-1 md:my-3 text-sm md:text-base leading-relaxed tracking-wide bg-text_color text-background_color">${b(t)}</span>`)}),e("\x3c!--]--\x3e</div></div></div></div>")),l<i(y).length-1&&function(t){return"hero"!==y.value[t].layout}(l)?e('<div class="flex justify-center py-4 md:py-6"><div class="w-64 h-px bg-text_color/30"></div></div>'):e("\x3c!----\x3e"),e("</div>")}),e("\x3c!--]--\x3e</div></section>")}}}),A=q.setup;q.setup=(t,e)=>{const o=u();return(o.modules||(o.modules=new Set)).add("components/testCollectionListing.vue"),A?A(t,e):void 0};const L=e({__name:"[...slug]",__ssrInlineRender:!0,async setup(e){let n,c;const d=I(),u=j();S();const g=["all","woman","man","kids"],x=o(()=>String(u.params.slug)),b=l(u.query.type&&g.includes(String(u.query.type))?String(u.query.type):"all"),h=o(()=>"man"===b.value?"male":"woman"===b.value?"female":"kids"===b.value?"kids":"all");function typeBtnClass(t){return`pr-8 py-1 text-sm text-text_color cursor-pointer hover:opacity-70 transition-opacity duration-200 ${b.value===t?"font-bold":"bg-background_color"}`}a(()=>u.query.type,t=>{const e=t&&g.includes(String(t))?String(t):"all";b.value!==e&&(b.value=e)},{immediate:!0});const{data:f,pending:y}=([n,c]=s(async()=>_(`collection:${x.value}`,async()=>await $fetch(`${d.public.apiBase}/public/collections/${x.value}/`))),n=await n,c(),n),{data:$,pending:w}=([n,c]=s(async()=>_(`products-all:${x.value}:${h.value}`,async()=>{const t=`${d.public.apiBase}/public/products-all/`,e=new URLSearchParams({page:"1",page_size:String(10),collection:x.value});"all"!==h.value&&e.append("gender",h.value);let o=`${t}?${e.toString()}`;const l=[],a=await $fetch(o);return Array.isArray(null==a?void 0:a.results)&&l.push(...a.results),l},{watch:[x,h]})),n=await n,c(),n),k=o(()=>y.value||w.value),C=o(()=>f.value||{}),z=o(()=>$.value||[]);function onCtaClick(){}return(e,o,l,a)=>{const s=t;o(`<section${p(r({class:"collection-page"},a))} data-v-191cb41b><div class="w-full z-50" data-v-191cb41b>`),o(m(s,{dark:!1},null,l)),o(`</div><div class="pt-20 relative z-10" data-v-191cb41b><div class="flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 pt-4 gap-6" data-v-191cb41b><div class="flex justify-start w-full" data-v-191cb41b><div class="flex items-center gap-1" data-v-191cb41b><button type="button" class="${v(typeBtnClass("all"))}" data-v-191cb41b> ALL </button><button type="button" class="${v(typeBtnClass("woman"))}" data-v-191cb41b> WOMAN </button><button type="button" class="${v(typeBtnClass("man"))}" data-v-191cb41b> MAN </button><button type="button" class="${v(typeBtnClass("kids"))}" data-v-191cb41b> KIDS </button></div></div></div>`),!i(k)&&i(z).length?o(m(q,{products:i(z),collection:i(C),onCtaClick:onCtaClick},null,l)):o("\x3c!----\x3e"),o("</div></section>")}}}),P=L.setup;L.setup=(t,e)=>{const o=u();return(o.modules||(o.modules=new Set)).add("pages/collections/[...slug].vue"),P?P(t,e):void 0};const E=C(L,[["__scopeId","data-v-191cb41b"]]);export{E as default};
//# sourceMappingURL=_...slug_-DqGlqjlD.mjs.map
