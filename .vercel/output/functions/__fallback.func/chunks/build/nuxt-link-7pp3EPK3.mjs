import{defineComponent as e,shallowRef as t,h as a,resolveComponent as r,computed as l}from"vue";import{b as u,k as i,l as n,h as o,r as s,j as v,e as c,n as d,m as p,o as f,q as h}from"./server.mjs";function defineNuxtLink(p){const f=p.componentName||"NuxtLink";function isHashLinkWithoutHashMode(e){return"string"==typeof e&&e.startsWith("#")}function useNuxtLink(e){var t,a,i;const n=u(),f=c(),h=l(()=>!!e.target&&"_self"!==e.target),g=l(()=>{const t=e.to||e.href||"";return"string"==typeof t&&o(t,{acceptRelative:!0})}),y=r("RouterLink"),m=y&&"string"!=typeof y?y.useLink:void 0,x=l(()=>{if(e.external)return!0;const t=e.to||e.href||"";return"object"!=typeof t&&(""===t||g.value)}),S=l(()=>{const t=e.to||e.href||"";return x.value?t:function(e,t,a){const r=null!=a?a:p.trailingSlash;if(!e||"append"!==r&&"remove"!==r)return e;if("string"==typeof e)return applyTrailingSlashBehavior(e,r);const l="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:applyTrailingSlashBehavior(l,r)}}(t,n.resolve,e.trailingSlash)}),q=x.value||null==m?void 0:m({...e,to:S}),k=l(()=>{var t,a,r;const l=null!=(t=e.trailingSlash)?t:p.trailingSlash;if(!S.value||g.value||isHashLinkWithoutHashMode(S.value))return S.value;if(x.value){const e="object"==typeof S.value&&"path"in S.value?s(S.value):S.value;return applyTrailingSlashBehavior("object"==typeof e?n.resolve(e).href:e,l)}return"object"==typeof S.value?null!=(r=null==(a=n.resolve(S.value))?void 0:a.href)?r:null:applyTrailingSlashBehavior(v(f.app.baseURL,S.value),l)});return{to:S,hasTarget:h,isAbsoluteUrl:g,isExternal:x,href:k,isActive:null!=(t=null==q?void 0:q.isActive)?t:l(()=>S.value===n.currentRoute.value.path),isExactActive:null!=(a=null==q?void 0:q.isExactActive)?a:l(()=>S.value===n.currentRoute.value.path),route:null!=(i=null==q?void 0:q.route)?i:l(()=>n.resolve(S.value)),async navigate(t){await d(k.value,{replace:e.replace,external:x.value||h.value})}}}return e({name:f,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:useNuxtLink,setup(e,{slots:l}){const o=u(),{to:s,href:v,navigate:c,isExternal:d,hasTarget:f,isAbsoluteUrl:h}=useNuxtLink(e);t(!1);async function prefetch(e=i()){}return()=>{var t;if(!d.value&&!f.value&&!isHashLinkWithoutHashMode(s.value)){const t={ref:undefined,to:s.value,activeClass:e.activeClass||p.activeClass,exactActiveClass:e.exactActiveClass||p.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(t.rel=e.rel||void 0),a(r("RouterLink"),t,l.default)}const u=e.target||null,i=((...e)=>e.find(e=>void 0!==e))(e.noRel?"":e.rel,p.externalRelAttribute,h.value||f.value?"noopener noreferrer":"")||null;return e.custom?l.default?l.default({href:v.value,navigate:c,prefetch:prefetch,get route(){if(!v.value)return;const e=new URL(v.value,"http://localhost");return{path:e.pathname,fullPath:e.pathname,get query(){return n(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:v.value}},rel:i,target:u,isExternal:d.value||f.value,isActive:!1,isExactActive:!1}):null:a("a",{ref:undefined,href:v.value||null,rel:i,target:u,onClick:t=>{if(!d.value&&!f.value)return t.preventDefault(),e.replace?o.replace(v.value):o.push(v.value)}},null==(t=l.default)?void 0:t.call(l))}}})}const g=defineNuxtLink(h);function applyTrailingSlashBehavior(e,t){const a="append"===t?p:f;return o(e)&&!e.startsWith("http")?e:a(e,!0)}export{g as _};
//# sourceMappingURL=nuxt-link-7pp3EPK3.mjs.map
