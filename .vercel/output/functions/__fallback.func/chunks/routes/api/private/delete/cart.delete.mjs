import{d as t,u as o,g as e,r as i,c as s}from"../../../../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@intlify/utils";import"vue-router";import"@iconify/utils";import"consola";import"node:url";import"ipx";const a=t(async t=>{const{apiBase:a,cartSessionCookie:r}=o().public,n=r||"cart_session_id";let p=e(t,n)||"none";const d=`${n}=${encodeURIComponent(p)}`,{product_variant_slug:u}=await i(t);if(!u)throw s({statusCode:400,statusMessage:"Missing product_variant_slug"});try{return await $fetch(`${a}/public/cart/item/delete/`,{method:"DELETE",headers:{"Content-Type":"application/json",cookie:d},body:{product_variant_slug:u}})}catch(t){throw s({statusCode:(null==t?void 0:t.status)||500,statusMessage:(null==t?void 0:t.statusText)||"Delete failed",data:(null==t?void 0:t.data)||null})}});export{a as default};
//# sourceMappingURL=cart.delete.mjs.map
