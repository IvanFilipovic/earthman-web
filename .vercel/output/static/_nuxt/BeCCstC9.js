import{d as B,f as I,_ as P}from"#entry";import{_ as N}from"./a9qNeQMv.js";import{_ as V}from"./D-AL0EpN.js";import L from"./DgM-im28.js";import{u as D,aa as G,b as y,v as O,o as R,y as i,a0 as o,L as p,G as u,V as k,T as U,U as a,I as W,a3 as F,a4 as Y,a9 as j,a5 as M,a1 as H,D as J}from"./Y--I0j7T.js";import{g as c}from"./DKtf60Sy.js";import{S as T}from"./Duwiz9RP.js";import{S as K}from"./CZpAVE0J.js";import"./m-EGHGAn.js";const Q={class:"collections-page"},X={key:"loading",class:"fixed inset-0 flex items-center justify-center bg-background_color z-40"},Z={key:"content",id:"smooth-wrapper"},tt={id:"smooth-content"},et={class:"slide__content"},ot={class:"slide__content-inner"},nt={class:"slide__title"},st={class:"slide__title-line"},lt={class:"line__inner"},rt={class:"slide__cta"},it=["onClick"],at=D({__name:"index",async setup(ct){let f,b,d=null;try{d=([f,b]=G(()=>B(()=>import("./Duwiz9RP.js").then(e=>e.a),[],import.meta.url)),f=await f,b(),f).ScrollSmoother}catch{}c.registerPlugin(T,K),d&&c.registerPlugin(d);const C=I(),$=y(null),h=y(!1),v=y(!0),_=y([]);let w=null,S=null;function E(e){const t=document.querySelector(`.slide:nth-child(${e+1})`);t&&c.to(window,{duration:1.2,scrollTo:{y:t,offsetY:0},ease:"power2.inOut"})}function q(){const e=document.querySelector(".slide:nth-child(1)");e&&c.to(window,{duration:1.2,scrollTo:{y:e,offsetY:0},ease:"power2.inOut"})}async function A(){try{v.value=!0;const e=await $fetch(`${C.public.apiBase}/public/collections/`);_.value=e||[]}catch(e){console.error("Failed to fetch collections:",e),_.value=[]}finally{v.value=!1}}function z(){J(()=>{const e=document.querySelector("#smooth-wrapper"),t=document.querySelector("#smooth-content"),m=document.querySelectorAll(".slide");if(!e||!t||m.length===0){console.error("Elements not found for GSAP initialization");return}S=c.context(()=>{if(d)try{w=d.create({smooth:1.5,effects:!0,normalizeScroll:!0,smoothTouch:.2,wrapper:"#smooth-wrapper",content:"#smooth-content"})}catch(n){console.error("ScrollSmoother error:",n)}m.forEach((n,s)=>{const l=c.timeline({scrollTrigger:{trigger:n,start:"top 60%",end:"bottom 40%",onEnter:()=>{h.value=s%2===0},onEnterBack:()=>{h.value=s%2===0}}}),r=n.querySelector(".line__inner"),g=n.querySelector(".btn"),x=n.querySelector(".slide__scroll-btn");r&&l.from(r,{y:120,duration:1.4,ease:"power4.out"}),g&&l.from(g,{y:80,opacity:0,duration:1.2,ease:"power4.out"},.2),x&&l.from(x,{y:40,opacity:0,duration:1,ease:"power4.out"},.3)}),m.forEach(n=>{const s=n.querySelector(".slide__bg");s&&c.fromTo(s,{y:"-20vh",scale:1.2},{y:"20vh",scale:1,ease:"none",scrollTrigger:{trigger:n,scrub:!0,start:"top bottom",end:"bottom top"}})})})})}return O(async()=>{await A()}),R(()=>{S?.revert(),S=null,w?.kill?.(),T.getAll().forEach(e=>e.kill())}),(e,t)=>{const m=N,n=V,s=L;return a(),i("div",Q,[o("div",{ref_key:"navWrap",ref:$,class:"fixed top-0 left-0 w-full z-50"},[p(m,{dark:u(h)},null,8,["dark"])],512),p(U,{name:"fade",mode:"out-in",onAfterEnter:z},{default:k(()=>[u(v)?(a(),i("div",X,[...t[1]||(t[1]=[o("p",{class:"text-text_color text-xl"},"Loading collections...",-1)])])):(a(),i("div",Z,[o("div",tt,[(a(!0),i(W,null,F(u(_),(l,r)=>(a(),i("section",{key:l.id||r,class:Y(["slide",`slide--${r%2+1}`])},[o("div",{class:"slide__bg",style:j({backgroundImage:`url(${l.element_one_image})`})},[...t[2]||(t[2]=[o("div",{class:"slide__overlay"},null,-1)])],4),o("div",et,[o("div",ot,[o("h2",nt,[o("span",st,[o("span",lt,H(l.name),1)])]),o("div",rt,[p(n,{to:`/collections/${encodeURIComponent(l.slug)}`,class:"btn btn--secondary"},{default:k(()=>[...t[3]||(t[3]=[o("span",{class:"btn__text"},"View Story",-1),o("span",{class:"btn__fill"},null,-1)])]),_:1},8,["to"])])]),r<u(_).length-1?(a(),i("button",{key:0,type:"button",class:"slide__scroll-btn",onClick:g=>E(r+1)},[t[4]||(t[4]=o("span",{class:"slide__scroll-line"},null,-1)),p(s,{name:"lucide:chevron-down",class:"slide__scroll-icon"})],8,it)):r===u(_).length-1&&u(_).length>1?(a(),i("button",{key:1,type:"button",class:"slide__scroll-btn",onClick:t[0]||(t[0]=g=>q())},[p(s,{name:"lucide:chevron-up",class:"slide__scroll-icon"}),t[5]||(t[5]=o("span",{class:"slide__scroll-line"},null,-1))])):M("",!0)])],2))),128))])]))]),_:1})])}}}),vt=P(at,[["__scopeId","data-v-3a6a698f"]]);export{vt as default};
