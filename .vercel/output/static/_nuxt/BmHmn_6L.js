import{i as le,n as ye,P as Q,N as H,E as re,q as Ce,a as Ve,b as $e,w as Ne,c as Ee,h as Fe,d as z,T as te,u as Ie,_ as Re}from"./CsG8SL8G.js";import{_ as Te}from"./Ch16rTh3.js";import Oe from"./Coo3-VcT.js";import{C as ee,k as N,D as ae,M as xe,b as D,p as ne,y as K,L as Z,G as be,i as ie,r as Ae,F as y,N as c,a3 as e,Y as v,J as o,a6 as pe,a4 as p,X as x,a5 as me,V as q,T as $,a7 as R,a8 as W,a9 as Be,aa as De}from"./S8-AOUyP.js";import{n as ge,o as he,f as je,q as ve,_ as Ue}from"#entry";import{F as B,E as qe,a as _e}from"./DSjz16Nc.js";import{i as X,o as u,A as de,f as oe,u as se,a as Y,l as Ge,b as M,N as fe,t as Le,c as J}from"./CyZbsNYg.js";import{s as He}from"./BYgDyoRH.js";var ze=(g=>(g[g.Open=0]="Open",g[g.Closed=1]="Closed",g))(ze||{});let ke=Symbol("PopoverContext");function ue(g){let T=ie(ke,null);if(T===null){let C=new Error(`<${g} /> is missing a parent <${Se.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(C,ue),C}return T}let Ke=Symbol("PopoverGroupContext");function we(){return ie(Ke,null)}let Pe=Symbol("PopoverPanelContext");function Ye(){return ie(Pe,null)}let Se=ee({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(g,{slots:T,attrs:C,expose:j}){var E;let P=D(null);j({el:P,$el:P});let d=D(1),n=D(null),i=D(null),V=D(null),S=D(null),k=N(()=>le(P)),O=N(()=>{var a,m;if(!u(n)||!u(S))return!1;for(let r of document.querySelectorAll("body > *"))if(Number(r?.contains(u(n)))^Number(r?.contains(u(S))))return!0;let l=re(),t=l.indexOf(u(n)),f=(t+l.length-1)%l.length,A=(t+1)%l.length,U=l[f],s=l[A];return!((a=u(S))!=null&&a.contains(U))&&!((m=u(S))!=null&&m.contains(s))}),w={popoverState:d,buttonId:D(null),panelId:D(null),panel:S,button:n,isPortalled:O,beforePanelSentinel:i,afterPanelSentinel:V,togglePopover(){d.value=J(d.value,{0:1,1:0})},closePopover(){d.value!==1&&(d.value=1)},close(a){w.closePopover();let m=a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?u(a):u(w.button):u(w.button);m?.focus()}};be(ke,w),Le(N(()=>J(d.value,{0:M.Open,1:M.Closed})));let F={buttonId:w.buttonId,panelId:w.panelId,close(){w.closePopover()}},I=we(),L=I?.registerPopover,[G,h]=Ce(),b=Ve({mainTreeNodeRef:I?.mainTreeNodeRef,portals:G,defaultContainers:[n,S]});function _(){var a,m,l,t;return(t=I?.isFocusWithinPopoverGroup())!=null?t:((a=k.value)==null?void 0:a.activeElement)&&(((m=u(n))==null?void 0:m.contains(k.value.activeElement))||((l=u(S))==null?void 0:l.contains(k.value.activeElement)))}return ne(()=>L?.(F)),$e((E=k.value)==null?void 0:E.defaultView,"focus",a=>{var m,l;a.target!==window&&a.target instanceof HTMLElement&&d.value===0&&(_()||n&&S&&(b.contains(a.target)||(m=u(w.beforePanelSentinel))!=null&&m.contains(a.target)||(l=u(w.afterPanelSentinel))!=null&&l.contains(a.target)||w.closePopover()))},!0),Ne(b.resolveContainers,(a,m)=>{var l;w.closePopover(),Ee(m,Fe.Loose)||(a.preventDefault(),(l=u(n))==null||l.focus())},N(()=>d.value===0)),()=>{let a={open:d.value===0,close:w.close};return K(Z,[K(h,{},()=>de({theirProps:{...g,...C},ourProps:{ref:P},slot:a,slots:T,attrs:C,name:"Popover"})),K(b.MainTreeNode)])}}}),Qe=ee({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(g,{attrs:T,slots:C,expose:j}){var E;let P=(E=g.id)!=null?E:`headlessui-popover-button-${X()}`,d=ue("PopoverButton"),n=N(()=>le(d.button));j({el:d.button,$el:d.button}),ae(()=>{d.buttonId.value=P}),xe(()=>{d.buttonId.value=null});let i=we(),V=i?.closeOthers,S=Ye(),k=N(()=>S===null?!1:S.value===d.panelId.value),O=D(null),w=`headlessui-focus-sentinel-${X()}`;k.value||ne(()=>{d.button.value=u(O)});let F=He(N(()=>({as:g.as,type:T.type})),O);function I(a){var m,l,t,f,A;if(k.value){if(d.popoverState.value===1)return;switch(a.key){case Y.Space:case Y.Enter:a.preventDefault(),(l=(m=a.target).click)==null||l.call(m),d.closePopover(),(t=u(d.button))==null||t.focus();break}}else switch(a.key){case Y.Space:case Y.Enter:a.preventDefault(),a.stopPropagation(),d.popoverState.value===1&&V?.(d.buttonId.value),d.togglePopover();break;case Y.Escape:if(d.popoverState.value!==0)return V?.(d.buttonId.value);if(!u(d.button)||(f=n.value)!=null&&f.activeElement&&!((A=u(d.button))!=null&&A.contains(n.value.activeElement)))return;a.preventDefault(),a.stopPropagation(),d.closePopover();break}}function L(a){k.value||a.key===Y.Space&&a.preventDefault()}function G(a){var m,l;g.disabled||(k.value?(d.closePopover(),(m=u(d.button))==null||m.focus()):(a.preventDefault(),a.stopPropagation(),d.popoverState.value===1&&V?.(d.buttonId.value),d.togglePopover(),(l=u(d.button))==null||l.focus()))}function h(a){a.preventDefault(),a.stopPropagation()}let b=ye();function _(){let a=u(d.panel);if(!a)return;function m(){J(b.value,{[z.Forwards]:()=>Q(a,H.First),[z.Backwards]:()=>Q(a,H.Last)})===te.Error&&Q(re().filter(l=>l.dataset.headlessuiFocusGuard!=="true"),J(b.value,{[z.Forwards]:H.Next,[z.Backwards]:H.Previous}),{relativeTo:u(d.button)})}m()}return()=>{let a=d.popoverState.value===0,m={open:a},{...l}=g,t=k.value?{ref:O,type:F.value,onKeydown:I,onClick:G}:{ref:O,id:P,type:F.value,"aria-expanded":d.popoverState.value===0,"aria-controls":u(d.panel)?d.panelId.value:void 0,disabled:g.disabled?!0:void 0,onKeydown:I,onKeyup:L,onClick:G,onMousedown:h};return K(Z,[de({ourProps:t,theirProps:{...T,...l},slot:m,attrs:T,slots:C,name:"PopoverButton"}),a&&!k.value&&d.isPortalled.value&&K(oe,{id:w,features:se.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:_})])}}}),Je=ee({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(g,{attrs:T,slots:C,expose:j}){var E;let P=(E=g.id)!=null?E:`headlessui-popover-panel-${X()}`,{focus:d}=g,n=ue("PopoverPanel"),i=N(()=>le(n.panel)),V=`headlessui-focus-sentinel-before-${X()}`,S=`headlessui-focus-sentinel-after-${X()}`;j({el:n.panel,$el:n.panel}),ae(()=>{n.panelId.value=P}),xe(()=>{n.panelId.value=null}),be(Pe,n.panelId),ne(()=>{var h,b;if(!d||n.popoverState.value!==0||!n.panel)return;let _=(h=i.value)==null?void 0:h.activeElement;(b=u(n.panel))!=null&&b.contains(_)||Q(u(n.panel),H.First)});let k=Ge(),O=N(()=>k!==null?(k.value&M.Open)===M.Open:n.popoverState.value===0);function w(h){var b,_;switch(h.key){case Y.Escape:if(n.popoverState.value!==0||!u(n.panel)||i.value&&!((b=u(n.panel))!=null&&b.contains(i.value.activeElement)))return;h.preventDefault(),h.stopPropagation(),n.closePopover(),(_=u(n.button))==null||_.focus();break}}function F(h){var b,_,a,m,l;let t=h.relatedTarget;t&&u(n.panel)&&((b=u(n.panel))!=null&&b.contains(t)||(n.closePopover(),((a=(_=u(n.beforePanelSentinel))==null?void 0:_.contains)!=null&&a.call(_,t)||(l=(m=u(n.afterPanelSentinel))==null?void 0:m.contains)!=null&&l.call(m,t))&&t.focus({preventScroll:!0})))}let I=ye();function L(){let h=u(n.panel);if(!h)return;function b(){J(I.value,{[z.Forwards]:()=>{var _;Q(h,H.First)===te.Error&&((_=u(n.afterPanelSentinel))==null||_.focus())},[z.Backwards]:()=>{var _;(_=u(n.button))==null||_.focus({preventScroll:!0})}})}b()}function G(){let h=u(n.panel);if(!h)return;function b(){J(I.value,{[z.Forwards]:()=>{let _=u(n.button),a=u(n.panel);if(!_)return;let m=re(),l=m.indexOf(_),t=m.slice(0,l+1),f=[...m.slice(l+1),...t];for(let A of f.slice())if(A.dataset.headlessuiFocusGuard==="true"||a!=null&&a.contains(A)){let U=f.indexOf(A);U!==-1&&f.splice(U,1)}Q(f,H.First,{sorted:!1})},[z.Backwards]:()=>{var _;Q(h,H.Previous)===te.Error&&((_=u(n.button))==null||_.focus())}})}b()}return()=>{let h={open:n.popoverState.value===0,close:n.close},{focus:b,..._}=g,a={ref:n.panel,id:P,onKeydown:w,onFocusout:d&&n.popoverState.value===0?F:void 0,tabIndex:-1};return de({ourProps:a,theirProps:{...T,..._},attrs:T,slot:h,slots:{...C,default:(...m)=>{var l;return[K(Z,[O.value&&n.isPortalled.value&&K(oe,{id:V,ref:n.beforePanelSentinel,features:se.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:L}),(l=C.default)==null?void 0:l.call(C,...m),O.value&&n.isPortalled.value&&K(oe,{id:S,ref:n.afterPanelSentinel,features:se.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:G})])]}},features:fe.RenderStrategy|fe.Static,visible:O.value,name:"PopoverPanel"})}}});const We=ge("/logo/stripe.png"),Xe=ge("/logo/paypal.png");function Ze(){const g=he("cart_session_id");return{sessionId:N(()=>g.value)}}const Me={class:"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 pt-4 gap-6"},et={class:"flex justify-start w-full"},tt={class:"flex items-center py-1 text-xs md:text-sm text-text_color uppercase tracking-widest","aria-label":"Breadcrumb"},ot={class:"hidden md:flex flex-col md:flex-row py-8 md:px-8 mt-6 md:gap-x-16"},st={class:"space-y-8"},lt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},rt={class:"md:col-span-2"},at={id:"email-error-desktop",class:"mt-1 h-4 overflow-hidden"},nt={key:0,class:"text-xs text-error_text_color leading-4"},it={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},dt={id:"firstName-error-desktop",class:"mt-1 h-4 overflow-hidden"},ut={key:0,class:"text-xs text-error_text_color leading-4"},ct={id:"lastName-error-desktop",class:"mt-1 h-4 overflow-hidden"},pt={key:0,class:"text-xs text-error_text_color leading-4"},mt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},vt={class:"md:col-span-2"},_t={id:"address-error-desktop",class:"mt-1 h-4 overflow-hidden"},ft={key:0,class:"text-xs text-error_text_color leading-4"},yt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},xt={id:"postal_code-error-desktop",class:"mt-1 h-4 overflow-hidden"},bt={key:0,class:"text-xs text-error_text_color leading-4"},gt={id:"city-error-desktop",class:"mt-1 h-4 overflow-hidden"},ht={key:0,class:"text-xs text-error_text_color leading-4"},kt={class:"grid grid-cols-1 gap-6"},wt={id:"country-error-desktop",class:"mt-1 h-4 overflow-hidden"},Pt={key:0,class:"text-xs text-error_text_color leading-4"},St={id:"phone_number-error-desktop",class:"mt-1 h-4 overflow-hidden"},Ct={key:0,class:"text-xs text-error_text_color leading-4"},Vt={class:"space-y-8 mt-10"},$t={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Nt={class:"md:col-span-2"},Et={id:"delivery_address-error-desktop",class:"mt-1 h-4 overflow-hidden"},Ft={key:0,class:"text-xs text-error_text_color leading-4"},It={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Rt={id:"delivery_postal_code-error-desktop",class:"mt-1 h-4 overflow-hidden"},Tt={key:0,class:"text-xs text-error_text_color leading-4"},Ot={id:"delivery_city-error-desktop",class:"mt-1 h-4 overflow-hidden"},At={key:0,class:"text-xs text-error_text_color leading-4"},Bt={class:"space-y-6 mt-10"},Dt={class:"flex flex-col md:flex-row gap-3"},jt={class:"flex-1 cursor-pointer"},Ut={class:"flex-1 cursor-pointer"},qt={class:"space-y-4 pt-2"},Gt={class:"flex items-start gap-3 text-sm cursor-pointer"},Lt={class:"flex items-start gap-3 text-sm cursor-pointer"},Ht={class:"mt-1 h-4 overflow-hidden"},zt={key:0,class:"text-xs text-error_text_color leading-4"},Kt={class:"pt-6"},Yt=["disabled"],Qt={class:"btn__text"},Jt={class:"mt-3 h-5 overflow-hidden"},Wt={key:0,class:"text-sm text-error_text_color"},Xt={class:"w-full mt-10 md:mt-0"},Zt={class:"space-y-5"},Mt={key:0,class:"grid grid-cols-1 gap-y-4"},eo=["src","alt"],to={class:"flex-1"},oo={class:"text-sm md:text-base leading-tight tracking-wider px-3"},so={class:"text-xs mt-1 tracking-wider px-3"},lo={class:"text-xs mt-1 tracking-wider px-3"},ro={class:"text-right"},ao={class:"text-sm md:text-base"},no={key:0,class:"space-x-1"},io={class:"font-semibold"},uo={class:"line-through text-xs"},co={key:1},po=["disabled","onClick"],mo={key:1,class:"text-sm opacity-70"},vo={class:"space-y-2 text-sm border-t border-text_color/30 pt-4"},_o={class:"flex justify-between"},fo={class:"flex justify-between"},yo={key:0},xo={key:1},bo={class:"flex justify-between font-medium text-base pt-2"},go={class:"md:hidden pb-10 max-w-screen-md mx-auto px-4 md:px-8 pt-4 gap-6"},ho={class:"border-t border-b border-text_color/30 bg-background_color text-text_color rounded-sm"},ko={class:"flex items-center justify-between py-4"},wo={class:"text-sm uppercase tracking-widest"},Po={class:"text-base font-medium"},So={class:"pb-4 text-sm space-y-1"},Co={class:"flex justify-between"},Vo={class:"flex justify-between"},$o={key:0},No={key:1},Eo={class:"uppercase tracking-widest"},Fo={class:"max-h-80 overflow-y-auto divide-y divide-text_color/30"},Io=["src","alt"],Ro={class:"flex-1 min-w-0"},To={class:"text-sm leading-tight line-clamp-2"},Oo={class:"mt-1 text-xs opacity-70"},Ao={class:"mt-1 text-xs opacity-70"},Bo={class:"mt-2 text-sm"},Do={key:0,class:"space-x-1"},jo={class:"font-medium"},Uo={class:"line-through text-xs"},qo={key:1},Go=["disabled","onClick","aria-label"],Lo={class:"pt-6"},Ho=["disabled"],zo={class:"btn__text"},Ko={class:"mt-3 h-5 overflow-hidden"},Yo={key:0,class:"text-sm text-error_text_color"},Qo=200,Jo=12.99,Wo=ee({__name:"checkout",setup(g){const T=je(),C=Ie(),j=D(null),E=D(!1),P=D(""),d=D(""),n=N(()=>({items:C.items,cart_total_to_pay:C.totals.toPay})),i=Ae({email:"",firstName:"",lastName:"",address:"",postal_code:"",city:"",country:"",phone_number:"",delivery_address:"",delivery_postal_code:"",delivery_city:"",privacyAccepted:!1,newsletter:!1});Ze();const V=l=>Number.isInteger(l)?l.toString():l.toFixed(2),S=N(()=>C.merchandiseTotal),k=N(()=>S.value>=Qo?0:Jo),O=N(()=>S.value+k.value),w=N(()=>n.value.items.length===0||E.value||!d.value?!0:!!!(i.email?.trim()&&i.firstName?.trim()&&i.lastName?.trim()&&i.address?.trim()&&i.postal_code?.trim()&&i.city?.trim()&&i.country?.trim()&&i.phone_number?.trim()&&i.delivery_address?.trim()&&i.delivery_postal_code?.trim()&&i.delivery_city?.trim()&&i.privacyAccepted));function F(l,t){return f=>{const U=String(f??"");return!U||!U.trim()?`${l} is required`:t&&U.length>t?`${l} must be less than ${t+1} characters`:!0}}function I(l){const t=String(l??"");return!t||!t.trim()?"Email is required":/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i.test(t)?!0:"Please enter a valid email address"}function L(l){const t=String(l??"");return!t||!t.trim()?"Phone number is required":/^[+()\-.\s\d]{7,20}$/.test(t)?!0:"Please enter a valid phone number (+, digits, spaces, (), -)"}function G(l="Postal code"){return t=>{const f=String(t??"");return!f||!f.trim()?`${l} is required`:/^[A-Za-z0-9\s\-]{3,10}$/.test(f)?!0:`${l} looks invalid`}}function h(l){return l?!0:"You must accept the Privacy Policy"}function b(l){d.value=l}function _(l){return l.product_variant_slug??l.product_slug??""}async function a(l){const t=_(l);if(!(!t||j.value)){j.value=t;try{await C.removeFromCart({...l,product_slug:l.product_slug??t})}catch(f){console.error("Failed to remove item:",f)}finally{j.value=null}}}async function m(){if(P.value="",n.value.items.length===0){P.value="Your cart is empty.";return}if(!d.value){P.value="Please select a payment method.";return}try{E.value=!0;const l=he("cart_session_id"),t={email:i.email,country:i.country,address:i.address,city:i.city,postal_code:i.postal_code,phone_number:i.phone_number,delivery_address:i.delivery_address,delivery_city:i.delivery_city,delivery_postal_code:i.delivery_postal_code,payment_method:d.value,shipping_cost:k.value,session_id:l.value};console.log("ðŸ“¤ Sending payload:",t);const f=await $fetch(`${T.public.apiBase}/api/orders/create/`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:t});console.log("ðŸ“¥ Response received:",f),f.payment_method==="card"&&f.client_secret?(console.log("ðŸ’³ Redirecting to payment page..."),await ve({path:"/payment",query:{ref:f.order_reference,clientSecret:f.client_secret,amount:f.total_price}})):(console.log("âœ… Redirecting to thank you page..."),await ve({path:"/thank-you",query:{ref:f.order_reference,total:f.total_price}}))}catch(l){console.error("âŒ Order error:",l),console.error("âŒ Error data:",l?.data),console.error("âŒ Error status:",l?.status),P.value=l?.data?.detail||"Could not create order. Please try again."}finally{E.value=!1}}return ae(async()=>{await C.fetchCart()}),(l,t)=>{const f=Re,A=Te,U=Oe;return x(),y("section",null,[c(f,{dark:!1}),e("div",Me,[e("div",et,[e("nav",tt,[c(A,{to:"/",class:"hover:underline pr-2"},{default:v(()=>[...t[15]||(t[15]=[me("HOME",-1)])]),_:1}),t[17]||(t[17]=e("span",{class:"pr-2","aria-hidden":"true"},"/",-1)),c(A,{to:"/shop",class:"hover:underline pr-2"},{default:v(()=>[...t[16]||(t[16]=[me("SHOP",-1)])]),_:1}),t[18]||(t[18]=e("span",{class:"pr-2","aria-hidden":"true"},"/",-1)),t[19]||(t[19]=e("span",{class:"pr-2","aria-current":"page"},"CHECKOUT",-1))])])]),e("div",ot,[c(o(_e),{class:"w-full",onSubmit:m},{default:v(()=>[e("div",st,[t[29]||(t[29]=e("h3",{class:"text-base uppercase tracking-widest py-2 -mx-4 px-4 md:-mx-8 md:px-8 bg-text_color text-background_color"},"Billing",-1)),e("div",lt,[e("div",rt,[t[20]||(t[20]=e("label",{for:"email-desktop",class:"block text-xs uppercase tracking-widest mb-2"},"E-mail",-1)),c(o(B),{id:"email-desktop",name:"email",type:"email",rules:I,modelValue:o(i).email,"onUpdate:modelValue":t[0]||(t[0]=s=>o(i).email=s)},{default:v(({field:s,errorMessage:r})=>[e("input",q(s,{class:["input",{"border-error_text_color":r}],"aria-describedby":"email-error-desktop"}),null,16),e("div",at,[c($,{name:"fade-error"},{default:v(()=>[r?(x(),y("p",nt,p(r),1)):R("",!0)]),_:2},1024)])]),_:1},8,["modelValue"])])]),e("div",it,[e("div",null,[t[21]||(t[21]=e("label",{for:"firstName-desktop",class:"block text-xs uppercase tracking-widest mb-2"},"Name",-1)),c(o(B),{id:"firstName-desktop",name:"firstName",rules:F("Name",50),modelValue:o(i).firstName,"onUpdate:modelValue":t[1]||(t[1]=s=>o(i).firstName=s)},{default:v(({field:s,errorMessage:r})=>[e("input",q(s,{type:"text",class:["input",{"border-error_text_color":r}],maxlength:"50","aria-describedby":"firstName-error-desktop"}),null,16),e("div",dt,[c($,{name:"fade-error"},{default:v(()=>[r?(x(),y("p",ut,p(r),1)):R("",!0)]),_:2},1024)])]),_:1},8,["rules","modelValue"])]),e("div",null,[t[22]||(t[22]=e("label",{for:"lastName-desktop",class:"block text-xs uppercase tracking-widest mb-2"},"Surname",-1)),c(o(B),{id:"lastName-desktop",name:"lastName",rules:F("Surname",50),modelValue:o(i).lastName,"onUpdate:modelValue":t[2]||(t[2]=s=>o(i).lastName=s)},{default:v(({field:s,errorMessage:r})=>[e("input",q(s,{type:"text",class:["input",{"border-error_text_color":r}],maxlength:"50","aria-describedby":"lastName-error-desktop"}),null,16),e("div",ct,[c($,{name:"fade-error"},{default:v(()=>[r?(x(),y("p",pt,p(r),1)):R("",!0)]),_:2},1024)])]),_:1},8,["rules","modelValue"])])]),e("div",mt,[e("div",vt,[t[23]||(t[23]=e("label",{for:"address-desktop",class:"block text-xs uppercase tracking-widest mb-2"},"Address",-1)),c(o(B),{id:"address-desktop",name:"address",rules:F("Address",120),modelValue:o(i).address,"onUpdate:modelValue":t[3]||(t[3]=s=>o(i).address=s)},{default:v(({field:s,errorMessage:r})=>[e("input",q(s,{type:"text",class:["input",{"border-error_text_color":r}],maxlength:"120",placeholder:"Street, number","aria-describedby":"address-error-desktop"}),null,16),e("div",_t,[c($,{name:"fade-error"},{default:v(()=>[r?(x(),y("p",ft,p(r),1)):R("",!0)]),_:2},1024)])]),_:1},8,["rules","modelValue"])])]),e("div",yt,[e("div",null,[t[24]||(t[24]=e("label",{for:"postal_code-desktop",class:"block text-xs uppercase tracking-widest mb-2"},"Post code",-1)),c(o(B),{id:"postal_code-desktop",name:"postal_code",rules:G("Post code"),modelValue:o(i).postal_code,"onUpdate:modelValue":t[4]||(t[4]=s=>o(i).postal_code=s)},{default:v(({field:s,errorMessage:r})=>[e("input",q(s,{class:["input",{"border-error_text_color":r}],inputmode:"numeric",maxlength:"10","aria-describedby":"postal_code-error-desktop"}),null,16),e("div",xt,[c($,{name:"fade-error"},{default:v(()=>[r?(x(),y("p",bt,p(r),1)):R("",!0)]),_:2},1024)])]),_:1},8,["rules","modelValue"])]),e("div",null,[t[25]||(t[25]=e("label",{for:"city-desktop",class:"block text-xs uppercase tracking-widest mb-2"},"Town / City",-1)),c(o(B),{id:"city-desktop",name:"city",rules:F("City",60),modelValue:o(i).city,"onUpdate:modelValue":t[5]||(t[5]=s=>o(i).city=s)},{default:v(({field:s,errorMessage:r})=>[e("input",q(s,{type:"text",class:["input",{"border-error_text_color":r}],maxlength:"60","aria-describedby":"city-error-desktop"}),null,16),e("div",gt,[c($,{name:"fade-error"},{default:v(()=>[r?(x(),y("p",ht,p(r),1)):R("",!0)]),_:2},1024)])]),_:1},8,["rules","modelValue"])])]),e("div",kt,[e("div",null,[t[27]||(t[27]=e("label",{for:"country-desktop",class:"block text-xs uppercase tracking-widest mb-2"},"Country / Region",-1)),c(o(B),{id:"country-desktop",name:"country",rules:F("Country"),modelValue:o(i).country,"onUpdate:modelValue":t[6]||(t[6]=s=>o(i).country=s)},{default:v(({field:s,errorMessage:r})=>[e("select",q(s,{class:["input",{"border-error_text_color":r}],"aria-describedby":"country-error-desktop"}),[...t[26]||(t[26]=[e("option",{value:""},"Select country",-1),e("option",{value:"Croatia"},"Croatia",-1),e("option",{value:"Slovenia"},"Slovenia",-1),e("option",{value:"Austria"},"Austria",-1),e("option",{value:"Germany"},"Germany",-1),e("option",{value:"Italy"},"Italy",-1)])],16),e("div",wt,[c($,{name:"fade-error"},{default:v(()=>[r?(x(),y("p",Pt,p(r),1)):R("",!0)]),_:2},1024)])]),_:1},8,["rules","modelValue"])]),e("div",null,[t[28]||(t[28]=e("label",{for:"phone_number-desktop",class:"block text-xs uppercase tracking-widest mb-2"},"Telephone",-1)),c(o(B),{id:"phone_number-desktop",name:"phone_number",rules:L,modelValue:o(i).phone_number,"onUpdate:modelValue":t[7]||(t[7]=s=>o(i).phone_number=s)},{default:v(({field:s,errorMessage:r})=>[e("input",q(s,{type:"tel",class:["input",{"border-error_text_color":r}],maxlength:"20","aria-describedby":"phone_number-error-desktop"}),null,16),e("div",St,[c($,{name:"fade-error"},{default:v(()=>[r?(x(),y("p",Ct,p(r),1)):R("",!0)]),_:2},1024)])]),_:1},8,["modelValue"])])])]),e("div",Vt,[t[33]||(t[33]=e("h3",{class:"text-base uppercase tracking-widest py-2 -mx-4 px-4 md:-mx-8 md:px-8 bg-text_color text-background_color"},"Delivery",-1)),e("div",$t,[e("div",Nt,[t[30]||(t[30]=e("label",{for:"delivery_address-desktop",class:"block text-xs uppercase tracking-widest mb-2"},"Delivery Address",-1)),c(o(B),{id:"delivery_address-desktop",name:"delivery_address",rules:F("Delivery address",120),modelValue:o(i).delivery_address,"onUpdate:modelValue":t[8]||(t[8]=s=>o(i).delivery_address=s)},{default:v(({field:s,errorMessage:r})=>[e("input",q(s,{type:"text",class:["input",{"border-error_text_color":r}],maxlength:"120",placeholder:"Street, number","aria-describedby":"delivery_address-error-desktop"}),null,16),e("div",Et,[c($,{name:"fade-error"},{default:v(()=>[r?(x(),y("p",Ft,p(r),1)):R("",!0)]),_:2},1024)])]),_:1},8,["rules","modelValue"])])]),e("div",It,[e("div",null,[t[31]||(t[31]=e("label",{for:"delivery_postal_code-desktop",class:"block text-xs uppercase tracking-widest mb-2"},"Delivery Post code",-1)),c(o(B),{id:"delivery_postal_code-desktop",name:"delivery_postal_code",rules:G("Delivery post code"),modelValue:o(i).delivery_postal_code,"onUpdate:modelValue":t[9]||(t[9]=s=>o(i).delivery_postal_code=s)},{default:v(({field:s,errorMessage:r})=>[e("input",q(s,{class:["input",{"border-error_text_color":r}],inputmode:"numeric",maxlength:"10","aria-describedby":"delivery_postal_code-error-desktop"}),null,16),e("div",Rt,[c($,{name:"fade-error"},{default:v(()=>[r?(x(),y("p",Tt,p(r),1)):R("",!0)]),_:2},1024)])]),_:1},8,["rules","modelValue"])]),e("div",null,[t[32]||(t[32]=e("label",{for:"delivery_city-desktop",class:"block text-xs uppercase tracking-widest mb-2"},"Delivery City",-1)),c(o(B),{id:"delivery_city-desktop",name:"delivery_city",rules:F("Delivery city",60),modelValue:o(i).delivery_city,"onUpdate:modelValue":t[10]||(t[10]=s=>o(i).delivery_city=s)},{default:v(({field:s,errorMessage:r})=>[e("input",q(s,{type:"text",class:["input",{"border-error_text_color":r}],maxlength:"60","aria-describedby":"delivery_city-error-desktop"}),null,16),e("div",Ot,[c($,{name:"fade-error"},{default:v(()=>[r?(x(),y("p",At,p(r),1)):R("",!0)]),_:2},1024)])]),_:1},8,["rules","modelValue"])])])]),e("div",Bt,[t[38]||(t[38]=e("h3",{class:"text-base uppercase tracking-widest py-2 -mx-4 px-4 md:-mx-8 md:px-8 bg-text_color text-background_color"},"Payment",-1)),e("div",Dt,[e("label",jt,[e("input",{type:"radio",name:"payment",value:"card",class:"sr-only peer",onChange:t[11]||(t[11]=s=>b("card"))},null,32),e("div",{class:W(["px-4 py-3 border text-sm uppercase transition-colors flex items-center gap-2 peer-checked:border-text_color peer-checked:bg-text_color/50 peer-checked:font-medium peer-checked:text-background_color hover:border-text_color/50",o(d)==="card"?"border-text_color bg-text_color/5 font-medium":"border-text_color/30"])},[...t[34]||(t[34]=[e("img",{src:We,alt:"Card Payment",class:"w-5 h-5 object-contain"},null,-1),e("span",null,"Card",-1)])],2)]),e("label",Ut,[e("input",{type:"radio",name:"payment",value:"paypal",class:"sr-only peer",onChange:t[12]||(t[12]=s=>b("paypal"))},null,32),e("div",{class:W(["px-4 py-3 border text-sm uppercase transition-colors flex items-center gap-2 peer-checked:border-text_color peer-checked:bg-text_color/50 peer-checked:font-medium peer-checked:text-background_color hover:border-text_color/50",o(d)==="paypal"?"border-text_color bg-text_color/5 font-medium":"border-text_color/30"])},[...t[35]||(t[35]=[e("img",{src:Xe,alt:"PayPal",class:"w-5 h-5 object-contain"},null,-1),e("span",null,"PayPal",-1)])],2)])]),e("div",qt,[e("label",Gt,[c(o(B),{name:"newsletter",type:"checkbox",value:!0,"unchecked-value":!1,modelValue:o(i).newsletter,"onUpdate:modelValue":t[13]||(t[13]=s=>o(i).newsletter=s),class:"mt-0.5"},null,8,["modelValue"]),t[36]||(t[36]=e("span",null,"I want to receive personalised commercial communications by email.",-1))]),e("label",Lt,[c(o(B),{name:"privacyAccepted",type:"checkbox",value:!0,"unchecked-value":!1,rules:h,modelValue:o(i).privacyAccepted,"onUpdate:modelValue":t[14]||(t[14]=s=>o(i).privacyAccepted=s),class:"mt-0.5"},null,8,["modelValue"]),t[37]||(t[37]=e("span",null,[e("a",{href:"#",class:"underline hover:no-underline"},"I have read and understand the Privacy and Cookies Policy.")],-1))]),e("div",Ht,[c(o(qe),{name:"privacyAccepted"},{default:v(({message:s})=>[c($,{name:"fade-error"},{default:v(()=>[s?(x(),y("p",zt,p(s),1)):R("",!0)]),_:2},1024)]),_:1})])])]),e("div",Kt,[e("button",{type:"submit",class:W(["w-full btn",o(w)?"btn--disabled":"btn--primary"]),disabled:o(w)},[e("span",Qt,p(o(E)?"Placing Orderâ€¦":"Place Order"),1),t[39]||(t[39]=e("span",{class:"btn__fill"},null,-1))],10,Yt),e("div",Jt,[c($,{name:"fade-error"},{default:v(()=>[o(P)?(x(),y("p",Wt,p(o(P)),1)):R("",!0)]),_:1})])])]),_:1}),e("aside",Xt,[e("div",Zt,[t[44]||(t[44]=e("h2",{class:"uppercase tracking-widest text-sm"},"Order Summary",-1)),o(n).items.length?(x(),y("div",Mt,[(x(!0),y(Z,null,pe(o(n).items,(s,r)=>(x(),y("div",{key:r,class:"flex gap-4"},[e("img",{src:s.avatar_image,alt:s.product,class:"w-22 h-40 object-cover border",loading:"lazy"},null,8,eo),e("div",to,[e("div",oo,p(s.product),1),e("div",so,"Size: "+p(s.size),1),e("div",lo,"Quantity: "+p(s.quantity),1)]),e("div",ro,[e("div",ao,[s.unit_price_discounted!==s.unit_price_original?(x(),y("span",no,[e("span",io,"â‚¬"+p(s.unit_price_discounted),1),e("span",uo,"â‚¬"+p(s.unit_price_original),1)])):(x(),y("span",co,"â‚¬"+p(s.unit_price_original),1))]),e("button",{type:"button",class:"mt-3 text-xs uppercase tracking-widest border-b border-text_color/30 hover:border-text_color transition-colors disabled:opacity-50",disabled:o(j)===_(s),onClick:ce=>a(s)},p(o(j)===_(s)?"Removing...":"Remove item"),9,po)])]))),128))])):(x(),y("div",mo,"Your cart is empty.")),e("div",vo,[e("div",_o,[t[40]||(t[40]=e("span",null,"Subtotal",-1)),e("span",null,"â‚¬"+p(V(o(S))),1)]),e("div",fo,[t[41]||(t[41]=e("span",null,"Shipping",-1)),o(k)===0?(x(),y("span",yo,"â‚¬0 (Free)")):(x(),y("span",xo,"â‚¬"+p(V(o(k))),1))]),e("div",bo,[t[42]||(t[42]=e("span",null,"Total",-1)),e("span",null,"â‚¬"+p(V(o(O))),1)]),t[43]||(t[43]=e("p",{class:"text-xs opacity-70"}," Prices include VAT, excluding any import duties. ",-1))])])])]),e("div",go,[e("div",ho,[e("div",ko,[e("div",wo," Cart ("+p(o(n).items.length)+") ",1),e("div",Po," â‚¬"+p(V(o(O))),1)]),e("div",So,[e("div",Co,[t[45]||(t[45]=e("span",null,"Subtotal",-1)),e("span",null,"â‚¬"+p(V(o(S))),1)]),e("div",Vo,[t[46]||(t[46]=e("span",null,"Shipping",-1)),o(k)===0?(x(),y("span",$o,"â‚¬0 (Free)")):(x(),y("span",No,"â‚¬"+p(V(o(k))),1))])]),c(o(Se),{class:"block"},{default:v(({open:s})=>[c(o(Qe),{class:"w-full flex items-center justify-between py-4 text-sm border-t border-text_color/20"},{default:v(()=>[e("span",Eo," Items ("+p(o(n).items.length)+") ",1),c(U,{name:"lucide:chevron-down",class:W(["w-4 h-4 transition-transform duration-150",s?"rotate-180":""])},null,8,["class"])]),_:2},1024),c($,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-1"},{default:v(()=>[Be(c(o(Je),{static:""},{default:v(()=>[e("div",Fo,[(x(!0),y(Z,null,pe(o(n).items,(r,ce)=>(x(),y("div",{key:ce,class:"flex gap-3 py-3"},[e("img",{src:r.avatar_image,alt:r.product,class:"w-20 h-24 object-cover border",loading:"lazy"},null,8,Io),e("div",Ro,[e("div",To,p(r.product),1),e("div",Oo,"Size: "+p(r.size),1),e("div",Ao,"Qty: "+p(r.quantity),1),e("div",Bo,[r.unit_price_discounted!==r.unit_price_original?(x(),y("span",Do,[e("span",jo,"â‚¬"+p(r.unit_price_discounted),1),e("span",Uo,"â‚¬"+p(r.unit_price_original),1)])):(x(),y("span",qo,"â‚¬"+p(r.unit_price_original),1))])]),e("button",{type:"button",class:"shrink-0 p-1 hover:bg-text_color/10 rounded-sm h-7 transition-colors disabled:opacity-50",disabled:o(j)===_(r),onClick:Xo=>a(r),"aria-label":`Remove ${r.product}`,title:"Remove"},[c(U,{name:"lucide:x",class:"w-4 h-4"})],8,Go)]))),128))])]),_:1},512),[[De,s]])]),_:2},1024)]),_:1})]),c(o(_e),{class:"w-full",onSubmit:m},{default:v(()=>[t[48]||(t[48]=e("div",{class:"space-y-8 mt-6"},[e("h3",{class:"text-base uppercase tracking-widest py-2 -mx-4 px-4 md:-mx-8 md:px-8 bg-text_color text-background_color"},"Billing")],-1)),e("div",Lo,[e("button",{type:"submit",class:W(["w-full btn",o(w)?"btn--disabled":"btn--primary"]),disabled:o(w)},[e("span",zo,p(o(E)?"Placing Orderâ€¦":"Place Order"),1),t[47]||(t[47]=e("span",{class:"btn__fill"},null,-1))],10,Ho),e("div",Ko,[c($,{name:"fade-error"},{default:v(()=>[o(P)?(x(),y("p",Yo,p(o(P)),1)):R("",!0)]),_:1})])])]),_:1})])])}}}),as=Ue(Wo,[["__scopeId","data-v-92be7921"]]);export{as as default};
