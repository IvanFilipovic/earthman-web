import{h as E,c as u,o as c,F as k,r as C,a as e,i as w,j as D,b as $,k as P,v as R,n as S,t as b,l as U,m as N,p as q,q as F,f as G,w as O,s as I,x as W,y as Y,z as H,S as K,A as Q,B as T,C as J,D as X,E as Z,_ as ee}from"#entry";import{_ as te}from"./hpizuJs7.js";import{Y as se,G as oe}from"./DdzUIbHR.js";import{_ as le}from"./B3RfEF7Z.js";import"./Dmwuqwza.js";/* empty css        */const ne={class:"grid grid-cols-2 md:grid-cols-4 overflow-y-auto pt-8 gap-x-4 md:gap-x-8 lg:gap-x-24"},ae=E({__name:"ShopListingskeleton",props:{count:{default:12},animate:{type:Boolean,default:!0}},setup(x){const i={backgroundColor:"#c6c5c5",borderColor:"#c6c5c5"};return(v,d)=>(c(),u("div",ne,[(c(!0),u(k,null,C(x.count,p=>(c(),u("div",{key:p,class:"col-span-1 pb-10 animate-pulse"},[e("div",{class:"overflow-hidden"},[e("div",{class:"w-full border",style:i},[e("div",{class:"w-full h-[275.73] md:h-[407.35px] lg:h-[568.723px] aspect-[3/4]",style:i})])]),e("div",{class:"py-3"},[e("div",{class:"h-3 w-24",style:i}),e("div",{class:"mt-2 h-4 w-3/4",style:i}),e("div",{class:"mt-3 flex items-center gap-2"},[e("div",{class:"w-7 h-7 md:w-8 md:h-8 rounded",style:i}),e("div",{class:"w-7 h-7 md:w-8 md:h-8 rounded",style:i})]),e("div",{class:"mt-3 h-4 w-16",style:i})])]))),128))]))}}),re={class:"grid grid-cols-2 md:grid-cols-4 overflow-y-auto pt-8 gap-x-4 md:gap-x-8 lg:gap-x-24"},ce={class:"bg-background_color overflow-hidden object-fill"},ie={class:"w-full"},ue=["onMouseenter"],de=["onClick","src","alt"],pe=["onClick"],fe={class:"py-3 text-left"},ge={class:"text-xs tracking-wider font-extralight"},me={class:"uppercase tracking-wider text-[13px] md:text-sm font-normal truncate py-1"},xe={class:"mt-1 flex items-center gap-2"},ve=["onMouseenter","onMouseleave"],_e=["onMouseenter","src","alt","onClick"],ye={key:0,class:"text-[10px] md:text-xs"},be={class:"mt-1 text-xs font-light"},he={__name:"ShopListing",props:{products:{type:Array,default:()=>[]}},setup(x){const i=w(null),v=D(),d=w({});function p(n,m){return d.value[n.slug]===m.variant_slug}function o(n,m){n.currentImage=m.avatar_image,d.value[n.slug]=m.variant_slug}function _(n){n.currentImage=n.defaultImage||n.link_image,d.value[n.slug]=null}function V(n=[]){return Math.max(0,n.length-2)}function j(n=[]){return n.slice(0,2)}function g(n,m){!n||!m||v.push(`/product/${n}/${m}`)}return(n,m)=>{const M=te,B=N;return c(),u("div",re,[(c(!0),u(k,null,C(x.products,a=>(c(),u("div",{key:a.slug,class:"col-span-1 cursor-pointer pb-10"},[e("div",ce,[e("div",ie,[e("div",{class:"relative bg-background_color",onMouseenter:f=>i.value=a.slug,onMouseleave:m[0]||(m[0]=f=>i.value=null)},[e("img",{onClick:f=>g(a.slug,a.colors?.[0]?.variant_slug),src:a.currentImage||a.link_image,alt:a.alt_text||a.name,class:"hidden md:block max-w-[100%] h-auto object-cover transition-opacity duration-200 border border-text_color/30",loading:"lazy"},null,8,de),$(M,{colors:j(a.colors),onGo:f=>g(a.slug,f)},null,8,["colors","onGo"]),P(e("button",{class:S(["absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light w-auto px-2 mx-auto opacity-0 transition-opacity duration-200",{"opacity-100":i.value===a.slug}]),onClick:f=>g(a.slug,a.colors?.[0]?.variant_slug)}," VIEW ",10,pe),[[R,i.value===a.slug]])],40,ue),e("div",fe,[e("p",ge,b(a.category),1),e("h3",me,b(a.name),1),e("div",xe,[(c(!0),u(k,null,C(j(a.colors),f=>(c(),u("div",{key:f.variant_slug,class:"relative group",onMouseenter:y=>o(a,f),onMouseleave:y=>_(a)},[e("img",{onMouseenter:y=>i.value=a.slug,onMouseleave:m[1]||(m[1]=y=>i.value=null),src:f.avatar_image,alt:f.color,class:"w-7 h-7 md:h-8 md:w-8 object-cover",loading:"lazy",onClick:y=>g(a.slug,f.variant_slug)},null,40,_e),e("div",{class:S(["absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color",p(a,f)?"opacity-100":"opacity-0"])},[$(B,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 text-background_color m-auto"})],2)],40,ve))),128)),V(a.colors)>0?(c(),u("span",ye,"+"+b(V(a.colors)),1)):U("",!0)]),e("p",be,"â‚¬"+b(parseFloat(a.price).toFixed(2)),1)])])])]))),128))])}}},we={"data-aos":"fade-left","data-aos-duration":"400","data-aos-easing":"ease-in-out",class:"fixed inset-y-0 right-0 flex max-w-full"},ke={class:"flex items-center justify-between px-6 py-4 border-b border-text_color/30"},Ce={class:"flex-1 overflow-auto px-6 py-6 space-y-8"},$e={class:"pt-2"},je={class:"mt-3 flex flex-wrap gap-2 justify-end"},ze=["onClick"],Se={class:"pt-2"},Ae={class:"mt-3 flex flex-wrap gap-2 justify-end"},Ve=["onClick"],Me={class:"mt-3 flex flex-wrap gap-2 justify-end"},Be=["onClick"],Oe={class:"mt-3 flex flex-wrap gap-2 justify-end"},Ie=["onClick"],Fe={class:"mt-3 flex flex-col gap-2"},Ge=["value"],Le={class:"flex flex-row my-auto justify-end"},Ee={class:"my-auto text-sm text-text_color px-8"},Pe=["title"],Ne={__name:"FilterPanel",props:{open:{type:Boolean,default:!1},facets:{type:Object,default:()=>({collections:[],categories:[],sizes:[],colors:[]})},modelValue:{type:Object,default:()=>({gender:[],collections:[],categories:[],sizes:[],colors:[]})}},emits:["update:open","update:modelValue"],setup(x,{emit:i}){const v=x,d=i;function p(t={}){return{gender:Array.isArray(t.gender)?[...t.gender]:[],collections:Array.isArray(t.collections)?[...t.collections]:[],categories:Array.isArray(t.categories)?[...t.categories]:[],sizes:Array.isArray(t.sizes)?[...t.sizes]:[],colors:Array.isArray(t.colors)?[...t.colors]:[]}}const o=q(p(v.modelValue));F(()=>v.modelValue,t=>{Object.assign(o,p(t))},{deep:!0});const _=[{label:"WOMAN",value:"female"},{label:"MAN",value:"male"},{label:"KIDS",value:"kids"},{label:"ALL",value:""}];function V(t){o.gender=t?[t]:[],d("update:modelValue",p(o))}function j(t){return t?o.gender[0]===t:o.gender.length===0}function g(){o.gender=[],d("update:modelValue",p(o))}function n(){d("update:modelValue",p(o)),d("update:open",!1)}function m(){Object.assign(o,{gender:[],collections:[],categories:[],sizes:[],colors:[]}),d("update:modelValue",p(o)),d("update:open",!1)}function M(){Object.assign(o,{collections:[]}),d("update:modelValue",p(o))}function B(){Object.assign(o,{categories:[]}),d("update:modelValue",p(o))}function a(){Object.assign(o,{sizes:[]}),d("update:modelValue",p(o))}function f(){Object.assign(o,{colors:[]}),d("update:modelValue",p(o))}function y(t,s){const z=new Set(o[t]);z.has(s)?z.delete(s):z.add(s),o[t]=[...z]}function r(t){return["px-3 py-1 text-sm text-text_color",t?"font-bold":"bg-background_color"].join(" ")}return(t,s)=>{const z=N;return c(),G(I(K),{show:x.open},{default:O(()=>[$(I(se),{class:"relative z-50",onClose:s[2]||(s[2]=l=>t.$emit("update:open",!1))},{default:O(()=>[s[10]||(s[10]=e("div",{class:"fixed inset-0 bg-text_color/30","aria-hidden":"true"},null,-1)),e("div",we,[$(I(W),{leave:"transform transition ease-in duration-150","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:O(()=>[$(I(oe),{class:"w-screen max-w-md bg-background_color h-full shadow-xl flex flex-col"},{default:O(()=>[e("div",ke,[s[3]||(s[3]=e("h2",{class:"uppercase tracking-wider text-md"},"Filters",-1)),e("button",{class:"ml-2 p-1 inline-flex items-center justify-center hover:bg-text_color/10 shrink-0","aria-label":"Close cart",onClick:s[0]||(s[0]=l=>d("update:open",!1))},[$(z,{name:"lucide:x",class:"w-4 h-4"})])]),e("div",Ce,[e("section",$e,[e("div",{class:"flex items-center justify-between"},[s[4]||(s[4]=e("h3",{class:"uppercase text-xs tracking-widest"},"Gender",-1)),e("button",{class:"text-xs underline",onClick:g},"Clear")]),e("div",je,[(c(),u(k,null,C(_,l=>e("button",{key:l.value||"all",onClick:A=>V(l.value),class:S(r(j(l.value)))},b(l.label),11,ze)),64))])]),e("section",Se,[e("div",{class:"flex items-center justify-between"},[s[5]||(s[5]=e("h3",{class:"uppercase text-xs tracking-widest"},"Collection",-1)),e("button",{class:"text-xs underline",onClick:M},"Clear")]),e("div",Ae,[(c(!0),u(k,null,C(x.facets.collections,l=>(c(),u("button",{key:`col-${l.slug}`,onClick:A=>y("collections",l.slug),class:S(r(o.collections.includes(l.slug)))},b(l.name),11,Ve))),128))])]),e("section",null,[e("div",{class:"flex items-center justify-between"},[s[6]||(s[6]=e("h3",{class:"uppercase text-xs tracking-widest"},"Category",-1)),e("button",{class:"text-xs underline",onClick:B},"Clear")]),e("div",Me,[(c(!0),u(k,null,C(x.facets.categories,l=>(c(),u("button",{key:l.id,onClick:A=>y("categories",l.id),class:S(r(o.categories.includes(l.id)))},b(l.name),11,Be))),128))])]),e("section",null,[e("div",{class:"flex items-center justify-between"},[s[7]||(s[7]=e("h3",{class:"uppercase text-xs tracking-widest"},"Size",-1)),e("button",{class:"text-xs underline",onClick:a},"Clear")]),e("div",Oe,[(c(!0),u(k,null,C(x.facets.sizes,l=>(c(),u("button",{key:l,onClick:A=>y("sizes",l.name),class:S(r(o.sizes.includes(l.name)))},b(l.name),11,Ie))),128))])]),e("section",null,[e("div",{class:"flex items-center justify-between"},[s[8]||(s[8]=e("h3",{class:"uppercase text-xs tracking-widest"},"Colour",-1)),e("button",{class:"text-xs underline",onClick:f},"Clear")]),e("div",Fe,[(c(!0),u(k,null,C(x.facets.colors,l=>(c(),u("div",{key:l.name,class:"relative"},[P(e("input",{type:"checkbox",value:l.name,"onUpdate:modelValue":s[1]||(s[1]=A=>o.colors=A),class:"absolute inset-0 opacity-0 cursor-pointer"},null,8,Ge),[[Y,o.colors]]),e("div",Le,[e("p",Ee,b(l.name),1),e("div",{class:S(["w-6 h-6 border cursor-pointer m-1",o.colors.includes(l.name)?"ring-2 ring-text_color":"border-gray-300"]),style:H({backgroundColor:`#${l.image}`}),title:l.name},null,14,Pe)])]))),128))])])]),e("div",{class:"px-6 py-4 border-t border-text_color/30 flex items-center justify-between"},[e("button",{class:"text-sm underline",onClick:m},"Clean filters"),e("button",{class:"secondary-btn sweep-secondary px-4 py-2",onClick:n},[...s[9]||(s[9]=[e("span",{class:"btn-label"},"View results",-1),e("span",{class:"sweep-overlay bg-secondary_button_color","aria-hidden":"true"},null,-1)])])])]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"])}}},De={class:"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 pt-4 gap-6"},Re={class:"flex justify-between w-full"},Ue={class:"flex gap-3 justify-end w-full"},qe={class:"flex items-center gap-3"},We=["onClick"],L=12,Ye=E({__name:"index",setup(x){const i=Z(),v=w(!0),d=Q(),p=w([]),o=w(0),_=w(1),V=T(()=>Math.max(1,Math.ceil(o.value/L))),j=w(!1),g=w({gender:[],collections:[],categories:[],sizes:[],colors:[]}),n=w({collections:[],categories:[],sizes:[],colors:[]});function m(){const r=new URLSearchParams;r.set("page",String(_.value)),r.set("page_size",String(L)),g.value.collections.forEach(s=>r.append("collection",s.toString())),g.value.categories.forEach(s=>r.append("category",s.toString())),g.value.sizes.forEach(s=>r.append("size",s)),g.value.colors.forEach(s=>r.append("color",s));const t=g.value.gender[0];return t&&r.set("gender",t),r.toString().replace(/\+/g,"%20")}async function M(){try{const r=await $fetch(`${i.public.apiBase}/public/categories/`);n.value.categories=Array.isArray(r)?r:[]}catch{n.value.categories=[]}}async function B(){try{const r=await $fetch(`${i.public.apiBase}/public/sizes/`);n.value.sizes=Array.isArray(r)?r:[]}catch{n.value.sizes=[]}}async function a(){try{const r=await $fetch(`${i.public.apiBase}/public/colors/`);n.value.colors=Array.isArray(r)?r.map(t=>({name:t.name,image:t.image})):[]}catch{n.value.colors=[]}}async function f(){try{v.value=!0;const r=await $fetch(`${i.public.apiBase}/public/products-all/?${m()}`);o.value=r.count,p.value=r.results.map(t=>({...t,defaultImage:t.link_image,currentImage:t.link_image}))}catch{console.warn("Failed to fetch products"),v.value=!1}finally{v.value=!1}}async function y(){try{const r=await $fetch(`${i.public.apiBase}/public/collections/`);n.value.collections=Array.isArray(r)?r.map(t=>({name:t.name,slug:t.slug})):[]}catch{n.value.collections=[]}}return F(g,()=>{_.value!==1&&(_.value=1)},{deep:!0}),F([g,_,d],f),J(async()=>{await Promise.all([M(),a(),B(),y()]),await f()}),(r,t)=>{const s=ae,z=he,l=Ne,A=X;return c(),u("section",null,[$(le,{dark:!1}),e("div",De,[e("div",Re,[e("div",Ue,[e("div",qe,[t[3]||(t[3]=e("span",{class:"uppercase text-xs tracking-widest ml-4"},"Page",-1)),(c(!0),u(k,null,C(V.value,h=>(c(),u("button",{key:h,class:S([h===_.value?"underline":"opacity-60","text-sm uppercase tracking-widest"]),onClick:He=>_.value=h},b(h),11,We))),128)),e("button",{class:"text-md uppercase tracking-widest",onClick:t[0]||(t[0]=h=>j.value=!0)},"Filters")])])])]),v.value?(c(),G(s,{key:0,class:"mt-2 md:mt-6 px-4 md:px-8",count:8})):(c(),G(z,{key:1,class:"mt-2 md:mt-6 px-4 md:px-8",products:p.value},null,8,["products"])),$(A,null,{default:O(()=>[$(l,{open:j.value,modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=h=>g.value=h),facets:n.value,"onUpdate:open":t[2]||(t[2]=h=>j.value=h)},null,8,["open","modelValue","facets"])]),_:1})])}}}),et=ee(Ye,[["__scopeId","data-v-adf0e565"]]);export{et as default};
