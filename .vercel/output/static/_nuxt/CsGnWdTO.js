import{_ as O}from"./Bf9gXHVU.js";import{_ as Y}from"./bnelyH8B.js";import{z as Z,u as V}from"./BUL-YdlK.js";/* empty css        */import{u as N,b as P,A as Q,y as r,a4 as T,U as n,a0 as o,I as k,a3 as w,D as F,H as q,v as J,o as X,G as f,L as B,a1 as S,V as ee,Q as G,a5 as R,a6 as U,a7 as $,aa as W}from"./C_FQlwfs.js";import te from"./Cayf0jz7.js";import{g as E}from"./DKtf60Sy.js";import{S as H}from"./Duwiz9RP.js";import{b as K,c as oe,f as se,_ as le}from"#entry";import"./D1fZegAR.js";const ne={key:0,class:"block md:hidden"},re=["src","alt","onClick"],ae=N({__name:"MobileColorSlider",props:{colors:{}},emits:["go"],setup(A,{emit:d}){const C=A,u=d,_=P(0),[z,h]=Z({loop:!0,initial:0,slideChanged(p){_.value=p.track.details.rel}});Q(()=>C.colors?.length,async()=>{await F(),h.value&&(h.value.update(),h.value.moveToIdx(0),_.value=0)});function y(p){p.variant_slug&&u("go",p.variant_slug)}return(p,b)=>A.colors&&A.colors.length>0?(n(),r("div",ne,[o("div",{ref_key:"sliderRef",ref:z,class:"keen-slider"},[(n(!0),r(k,null,w(A.colors,(m,g)=>(n(),r("div",{key:g,class:"keen-slider__slide"},[o("img",{src:m.avatar_image,alt:m.color,class:"w-full h-auto object-cover border border-text_color/30",loading:"lazy",onClick:I=>y(m)},null,8,re)]))),128))],512)])):T("",!0)}}),ce={class:"pt-8 mt-2 md:mt-6 px-4 md:px-8"},ie={class:"collection-content"},ue={key:0,class:"pb-8 md:pb-12"},de={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 min-h-screen"},ge=["src","alt","onMouseenter"],pe={class:"absolute bottom-0 left-0 right-0 p-4 md:p-6 text-text_color bg-background_color/80 w-full"},_e={class:"hero-content"},ve={class:"text-xs tracking-widest uppercase mb-1 opacity-80"},he={class:"hero-title text-2xl md:text-3xl lg:text-4xl font-bold mb-3 uppercase tracking-tight"},me={class:"flex items-center gap-2 mb-4"},fe=["onMouseenter","onMouseleave"],ye=["src","alt","onClick"],xe={key:1,class:"pb-8 md:pb-12"},be={class:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8"},ke={class:"relative overflow-hidden"},we=["src","alt","onMouseenter","onClick"],$e={key:1,class:"block md:hidden"},Ce=["src","alt","onClick"],Me=["onClick"],Se={class:"pt-3 md:pt-4 text-left"},Ae={class:"text-xs tracking-wider font-extralight"},ze={class:"uppercase tracking-wider text-sm font-normal truncate py-1"},je={key:0,class:"mt-1 flex items-center gap-2"},qe=["onMouseenter","onMouseleave"],Ee=["src","alt","onClick"],Te={key:2,class:"pb-8 md:pb-12"},Ie={class:"relative overflow-hidden"},Be=["src","alt","onMouseenter","onClick"],Pe={key:1,class:"block md:hidden"},De=["src","alt","onClick"],Le=["onClick"],Ge={class:"pt-3 md:pt-4 text-left"},Ne={class:"text-xs tracking-wider font-extralight"},Ve={class:"uppercase tracking-wider text-sm font-normal truncate py-1"},Re={key:0,class:"mt-1 flex items-center gap-2"},Ue=["onMouseenter","onMouseleave"],We=["src","alt","onClick"],He={class:"col-span-2 md:col-span-2 flex flex-col justify-center section-trigger-line"},Qe={class:"section-heading uppercase tracking-wider text-xs md:text-sm mb-3 px-4"},Fe={class:"flex flex-col"},Ke={key:3,class:"flex justify-center py-4 md:py-6"},Oe=N({__name:"testCollectionListing",props:{products:{},collection:{}},setup(A){E.registerPlugin(H);const d=A,C=K(),u=P(null),_=P({});let z=null;const h=q(()=>{const t=d.collection||{};return[t.element_one,t.element_two,t.element_three,t.element_four,t.element_five].filter(Boolean)}),y=q(()=>{const t=[...d.products],l=[];let i=0;t.length>=1&&(l.push({layout:"standard",items:[t[0]],text:h.value[0]||"",heading:d.collection?.name||"Collection"}),i=1),t.length>=2&&(l.push({layout:"reversed",items:[t[1]],text:h.value[1]||"",heading:d.collection?.name||"Collection"}),i=2),t.length>=3&&(l.push({layout:"standard",items:[t[2]],text:h.value[2]||"",heading:d.collection?.name||"Collection"}),i=3),t.length>=5&&(l.push({layout:"hero",items:[t[3],t[4]],text:"",heading:""}),i=5),t.length>=6&&(l.push({layout:"reversed",items:[t[5]],text:h.value[3]||"",heading:d.collection?.name||"Collection"}),i=6),t.length>=7&&(l.push({layout:"standard",items:[t[6]],text:h.value[4]||"",heading:d.collection?.name||"Collection"}),i=7);let x=0;for(;i<t.length;){const j=t.length-i;if(x>0&&x%3===0&&j>=2)l.push({layout:"hero",items:[t[i],t[i+1]],text:"",heading:""}),i+=2,x++;else{const c=Math.min(3,j);l.push({layout:"triple",items:t.slice(i,i+c),text:"",heading:""}),i+=c,x++}}return l});function p(t,l){return _.value[t.slug]===l}function b(t,l,i){u.value=t.slug,t.currentImage=l.avatar_image,_.value[t.slug]=i}function m(t){t.currentImage=t.colors?.[0]?.avatar_image,_.value[t.slug]=null,u.value=null}function g(t,l){!t||!l||C.push(`/product/${t}/${l}`)}function I(t=""){return t.split(new RegExp("(?<=[.!?])\\s+|\\n+")).filter(Boolean)}function D(t){return y.value[t].layout!=="hero"}function L(){z=E.context(()=>{document.querySelectorAll(".hero-title").forEach(t=>{E.from(t,{scrollTrigger:{trigger:t,start:"top 80%"},y:80,opacity:0,duration:.9,ease:"power4.out"})}),document.querySelectorAll(".hero-content").forEach(t=>{E.from(t.querySelectorAll("p, .btn"),{scrollTrigger:{trigger:t,start:"top 80%"},y:40,opacity:0,duration:1.2,ease:"power4.out",stagger:.1})}),document.querySelectorAll(".section-heading").forEach(t=>{E.from(t,{scrollTrigger:{trigger:t,start:"top 80%"},y:40,opacity:0,duration:1.2,ease:"power4.out"})}),document.querySelectorAll(".section-text-line").forEach((t,l)=>{E.from(t,{scrollTrigger:{trigger:".section-trigger-line",start:"top 90%"},y:30,opacity:0,duration:1,ease:"power4.out",delay:l*.5})})})}return J(()=>{F(()=>{L()})}),X(()=>{z?.revert(),z=null,H.getAll().forEach(t=>t.kill())}),(t,l)=>{const i=Y,x=ae,j=te;return n(),r("section",ce,[o("div",ie,[(n(!0),r(k,null,w(f(y),(c,a)=>(n(),r("div",{key:a},[c.layout==="hero"?(n(),r("div",ue,[o("div",de,[(n(!0),r(k,null,w(c.items,e=>(n(),r("article",{key:e.slug,class:"group cursor-pointer relative min-h-[50vh] md:min-h-full overflow-hidden w-full"},[o("img",{src:e.currentImage||e.colors?.[0]?.avatar_image,alt:e.alt_text||e.name,class:"absolute inset-0 max-w-full h-full object-contain mx-auto transition-transform duration-700 group-hover:scale-105",loading:"lazy",onMouseenter:s=>u.value=e.slug,onMouseleave:l[0]||(l[0]=s=>u.value=null)},null,40,ge),l[4]||(l[4]=o("div",{class:"absolute inset-0"},null,-1)),o("div",pe,[o("div",_e,[o("p",ve,S(e.category),1),o("h2",he,S(e.name),1),o("div",me,[(n(!0),r(k,null,w(e.colors?.slice(0,4),(s,v)=>(n(),r("div",{key:v,class:"relative",onMouseenter:M=>b(e,s,v),onMouseleave:M=>m(e)},[o("img",{src:s.avatar_image,alt:s.color,class:"w-8 h-8 md:w-10 md:h-10 object-cover border-2 border-background_color cursor-pointer transition-transform hover:scale-110",onClick:M=>g(e.slug,s.variant_slug)},null,8,ye)],40,fe))),128))]),B(i,{to:`/product/${e.slug}/${e.colors?.[0]?.variant_slug}`,class:"btn btn--secondary inline-flex text-sm"},{default:ee(()=>[...l[3]||(l[3]=[o("span",{class:"btn__text"},"Discover",-1),o("span",{class:"btn__fill"},null,-1)])]),_:1},8,["to"])])])]))),128))])])):c.layout==="triple"?(n(),r("div",xe,[o("div",be,[(n(!0),r(k,null,w(c.items,e=>(n(),r("article",{key:e.slug,class:"group cursor-pointer"},[o("div",ke,[o("img",{src:e.currentImage||e.colors?.[0]?.avatar_image,alt:e.alt_text||e.name,class:"hidden md:block w-full h-full object-cover border border-text_color/30 transition-transform duration-500 group-hover:scale-105",loading:"lazy",onMouseenter:s=>u.value=e.slug,onMouseleave:l[1]||(l[1]=s=>u.value=null),onClick:s=>g(e.slug,e.colors?.[0]?.variant_slug)},null,40,we),e.colors&&e.colors.length>0?(n(),G(x,{key:0,colors:e.colors,onGo:s=>g(e.slug,s)},null,8,["colors","onGo"])):(n(),r("div",$e,[o("img",{src:e.currentImage,alt:e.alt_text||e.name,class:"w-full h-auto object-cover border border-text_color/30",loading:"lazy",onClick:s=>g(e.slug,e.colors?.[0]?.variant_slug)},null,8,Ce)])),R(o("button",{type:"button",class:$(["absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light px-2 transition-opacity duration-200",{"opacity-100":f(u)===e.slug,"opacity-0":f(u)!==e.slug}]),onClick:s=>g(e.slug,e.colors?.[0]?.variant_slug)}," VIEW ",10,Me),[[U,f(u)===e.slug]])]),o("div",Se,[o("p",Ae,S(e.category),1),o("h3",ze,S(e.name),1),e.colors&&e.colors.length>0?(n(),r("div",je,[(n(!0),r(k,null,w(e.colors,(s,v)=>(n(),r("div",{key:v,class:"relative",onMouseenter:M=>b(e,s,v),onMouseleave:M=>m(e)},[o("img",{src:s.avatar_image,alt:s.color,class:"w-7 h-7 md:h-8 md:w-8 object-cover border border-project_text_color/40 cursor-pointer",loading:"lazy",onClick:M=>g(e.slug,s.variant_slug)},null,8,Ee),o("div",{class:$(["absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color",p(e,v)?"opacity-100":"opacity-0"])},[B(j,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 text-background_color m-auto"})],2)],40,qe))),128))])):T("",!0)])]))),128))])])):(n(),r("div",Te,[o("div",{class:$(["grid grid-cols-2 md:grid-cols-3 gap-x-4 md:gap-x-8 lg:gap-x-24 gap-y-8",c.layout==="reversed"?"md:flex md:flex-row-reverse":""])},[(n(!0),r(k,null,w(c.items,e=>(n(),r("article",{key:e.slug,class:"group cursor-pointer col-span-2 md:col-span-1"},[o("div",Ie,[o("img",{src:e.currentImage||e.colors?.[0]?.avatar_image,alt:e.alt_text||e.name,class:"hidden md:block w-full h-full object-cover border border-text_color/30 transition-transform duration-500 group-hover:scale-105",loading:"lazy",onMouseenter:s=>u.value=e.slug,onMouseleave:l[2]||(l[2]=s=>u.value=null),onClick:s=>g(e.slug,e.colors?.[0]?.variant_slug)},null,40,Be),e.colors&&e.colors.length>0?(n(),G(x,{key:0,colors:e.colors,onGo:s=>g(e.slug,s)},null,8,["colors","onGo"])):(n(),r("div",Pe,[o("img",{src:e.currentImage,alt:e.alt_text||e.name,class:"w-full h-auto object-cover border border-text_color/30",loading:"lazy",onClick:s=>g(e.slug,e.colors?.[0]?.variant_slug)},null,8,De)])),R(o("button",{type:"button",class:$(["absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light px-2 transition-opacity duration-200",{"opacity-100":f(u)===e.slug,"opacity-0":f(u)!==e.slug}]),onClick:s=>g(e.slug,e.colors?.[0]?.variant_slug)}," VIEW ",10,Le),[[U,f(u)===e.slug]])]),o("div",Ge,[o("p",Ne,S(e.category),1),o("h3",Ve,S(e.name),1),e.colors&&e.colors.length>0?(n(),r("div",Re,[(n(!0),r(k,null,w(e.colors,(s,v)=>(n(),r("div",{key:v,class:"relative",onMouseenter:M=>b(e,s,v),onMouseleave:M=>m(e)},[o("img",{src:s.avatar_image,alt:s.color,class:"w-7 h-7 md:h-8 md:w-8 object-cover border border-project_text_color/40 cursor-pointer",loading:"lazy",onClick:M=>g(e.slug,s.variant_slug)},null,8,We),o("div",{class:$(["absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color",p(e,v)?"opacity-100":"opacity-0"])},[B(j,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 text-background_color m-auto"})],2)],40,Ue))),128))])):T("",!0)])]))),128)),o("div",He,[o("h4",Qe,S(c.heading),1),o("div",Fe,[(n(!0),r(k,null,w(I(c.text),(e,s)=>(n(),r("span",{key:s,class:"section-text-line -mx-4 px-4 md:-mx-0 py-1 md:py-2 my-1 md:my-3 text-sm md:text-base leading-relaxed tracking-wide bg-text_color text-background_color"},S(e),1))),128))])])],2)])),a<f(y).length-1&&D(a)?(n(),r("div",Ke,[...l[5]||(l[5]=[o("div",{class:"w-64 h-px bg-text_color/30"},null,-1)])])):T("",!0)]))),128))])])}}}),Ye={class:"collection-page"},Ze={class:"w-full z-50"},Je={class:"pt-20 relative z-10"},Xe={class:"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 pt-4 gap-6"},et={class:"flex justify-start w-full"},tt={class:"flex items-center gap-1"},ot=10,st=N({__name:"[...slug]",async setup(A){let d,C;const u=se(),_=oe(),z=K(),h=["all","woman","man","kids"],y=q(()=>String(_.params.slug)),p=P(_.query.type&&h.includes(String(_.query.type))?String(_.query.type):"all"),b=q(()=>p.value==="man"?"male":p.value==="woman"?"female":p.value==="kids"?"kids":"all");Q(()=>_.query.type,c=>{const a=c&&h.includes(String(c))?String(c):"all";p.value!==a&&(p.value=a)},{immediate:!0});function m(c){p.value=c;const a={..._.query};"gender"in a&&delete a.gender,a.type=c,z.replace({query:a})}function g(c){const a="pr-8 py-1 text-sm text-text_color cursor-pointer hover:opacity-70 transition-opacity duration-200",e=p.value===c?"font-bold":"bg-background_color";return`${a} ${e}`}const{data:I,pending:D}=([d,C]=W(async()=>V(`collection:${y.value}`,async()=>await $fetch(`${u.public.apiBase}/public/collections/${y.value}/`))),d=await d,C(),d),{data:L,pending:t}=([d,C]=W(async()=>V(`products-all:${y.value}:${b.value}`,async()=>{const c=`${u.public.apiBase}/public/products-all/`,a=new URLSearchParams({page:"1",page_size:String(ot),collection:y.value});b.value!=="all"&&a.append("gender",b.value);let e=`${c}?${a.toString()}`;const s=[],v=await $fetch(e);return Array.isArray(v?.results)&&s.push(...v.results),s},{watch:[y,b]})),d=await d,C(),d),l=q(()=>D.value||t.value),i=q(()=>I.value||{}),x=q(()=>L.value||[]);function j(){window.scrollTo({top:0,behavior:"smooth"})}return(c,a)=>{const e=O;return n(),r("section",Ye,[o("div",Ze,[B(e,{dark:!1})]),o("div",Je,[o("div",Xe,[o("div",et,[o("div",tt,[o("button",{type:"button",class:$(g("all")),onClick:a[0]||(a[0]=s=>m("all"))}," ALL ",2),o("button",{type:"button",class:$(g("woman")),onClick:a[1]||(a[1]=s=>m("woman"))}," WOMAN ",2),o("button",{type:"button",class:$(g("man")),onClick:a[2]||(a[2]=s=>m("man"))}," MAN ",2),o("button",{type:"button",class:$(g("kids")),onClick:a[3]||(a[3]=s=>m("kids"))}," KIDS ",2)])])]),!f(l)&&f(x).length?(n(),G(Oe,{key:0,products:f(x),collection:f(i),onCtaClick:j},null,8,["products","collection"])):T("",!0)])])}}}),_t=le(st,[["__scopeId","data-v-191cb41b"]]);export{_t as default};
