import{h as P,c as u,o as c,F as $,r as z,a as e,i as y,j as W,b as w,k as L,v as Y,n as k,t as C,l as H,m as q,p as Q,q as O,f as F,w as M,s as B,x as T,y as J,z as K,S as X,A as Z,B as ee,C as te,D as se,E as oe,G as le,_ as ne}from"#entry";import{_ as ae}from"./3oa5Ejrv.js";import{Y as re,G as ce}from"./Dc_dsoGv.js";import{_ as ie}from"./-mVdr0JC.js";import"./B1F9U_gR.js";/* empty css        */const ue={class:"grid grid-cols-2 md:grid-cols-4 overflow-y-auto pt-8 gap-x-4 md:gap-x-8 lg:gap-x-24"},de=P({__name:"ShopListingskeleton",props:{count:{default:12},animate:{type:Boolean,default:!0}},setup(v){const i={backgroundColor:"#c6c5c5",borderColor:"#c6c5c5"};return(_,p)=>(c(),u("div",ue,[(c(!0),u($,null,z(v.count,d=>(c(),u("div",{key:d,class:"col-span-1 pb-10 animate-pulse"},[e("div",{class:"overflow-hidden"},[e("div",{class:"w-full border",style:i},[e("div",{class:"w-full h-[255.73] md:h-[407.35px] lg:h-[568.723px] aspect-[3/4]",style:i})])]),e("div",{class:"py-3"},[e("div",{class:"h-3 w-24",style:i}),e("div",{class:"mt-2 h-4 w-3/4",style:i}),e("div",{class:"mt-3 flex items-center gap-2"},[e("div",{class:"w-7 h-7 md:w-8 md:h-8 rounded",style:i}),e("div",{class:"w-7 h-7 md:w-8 md:h-8 rounded",style:i})]),e("div",{class:"mt-3 h-4 w-16",style:i})])]))),128))]))}}),pe={class:"grid grid-cols-2 md:grid-cols-4 overflow-y-auto pt-8 gap-x-4 md:gap-x-8 lg:gap-x-24"},fe={class:"bg-background_color overflow-hidden object-fill"},ge={class:"w-full"},me=["onMouseenter"],ve=["onClick","src","alt"],xe=["onClick"],_e={class:"py-3 text-left"},ye={class:"text-xs tracking-wider font-extralight"},be={class:"uppercase tracking-wider text-[13px] md:text-sm font-normal truncate py-1"},he={class:"mt-1 flex items-center gap-2"},we=["onMouseenter","onMouseleave"],ke=["onMouseenter","src","alt","onClick"],Ce={key:0,class:"text-[10px] md:text-xs"},$e={class:"mt-1 text-xs font-light"},ze={__name:"ShopListing",props:{products:{type:Array,default:()=>[]}},setup(v){const i=y(null),_=W(),p=y({});function d(a,f){return p.value[a.slug]===f.variant_slug}function n(a,f){a.currentImage=f.avatar_image,p.value[a.slug]=f.variant_slug}function A(a){a.currentImage=a.defaultImage||a.link_image,p.value[a.slug]=null}function j(a=[]){return Math.max(0,a.length-2)}function S(a=[]){return a.slice(0,2)}function b(a,f){!a||!f||_.push(`/product/${a}/${f}`)}return(a,f)=>{const h=ae,g=q;return c(),u("div",pe,[(c(!0),u($,null,z(v.products,t=>(c(),u("div",{key:t.slug,class:"col-span-1 cursor-pointer pb-10"},[e("div",fe,[e("div",ge,[e("div",{class:"relative bg-background_color",onMouseenter:s=>i.value=t.slug,onMouseleave:f[0]||(f[0]=s=>i.value=null)},[e("img",{onClick:s=>b(t.slug,t.colors?.[0]?.variant_slug),src:t.currentImage||t.link_image,alt:t.alt_text||t.name,class:"hidden md:block max-w-[100%] h-auto object-cover transition-opacity duration-200 border border-text_color/30",loading:"lazy"},null,8,ve),w(h,{colors:S(t.colors),onGo:s=>b(t.slug,s)},null,8,["colors","onGo"]),L(e("button",{class:k(["absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light w-auto px-2 mx-auto opacity-0 transition-opacity duration-200",{"opacity-100":i.value===t.slug}]),onClick:s=>b(t.slug,t.colors?.[0]?.variant_slug)}," VIEW ",10,xe),[[Y,i.value===t.slug]])],40,me),e("div",_e,[e("p",ye,C(t.category),1),e("h3",be,C(t.name),1),e("div",he,[(c(!0),u($,null,z(S(t.colors),s=>(c(),u("div",{key:s.variant_slug,class:"relative group",onMouseenter:m=>n(t,s),onMouseleave:m=>A(t)},[e("img",{onMouseenter:m=>i.value=t.slug,onMouseleave:f[1]||(f[1]=m=>i.value=null),src:s.avatar_image,alt:s.color,class:"w-7 h-7 md:h-8 md:w-8 object-cover",loading:"lazy",onClick:m=>b(t.slug,s.variant_slug)},null,40,ke),e("div",{class:k(["absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color",d(t,s)?"opacity-100":"opacity-0"])},[w(g,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 text-background_color m-auto"})],2)],40,we))),128)),j(t.colors)>0?(c(),u("span",Ce,"+"+C(j(t.colors)),1)):H("",!0)]),e("p",$e,"â‚¬"+C(parseFloat(t.price).toFixed(2)),1)])])])]))),128))])}}},je={"data-aos":"fade-left","data-aos-duration":"400","data-aos-easing":"ease-in-out",class:"fixed inset-y-0 right-0 flex max-w-full"},Se={class:"flex items-center justify-between px-6 py-4 border-b border-text_color/30"},Ae={class:"flex-1 overflow-auto px-6 py-6 space-y-8"},Ve={class:"pt-2"},Me={class:"mt-3 flex flex-wrap gap-2 justify-end"},Be=["onClick"],Oe={class:"mt-3 flex flex-wrap gap-2 justify-end"},Fe=["onClick"],Ie={class:"mt-3 flex flex-wrap gap-2 justify-end"},Ee=["onClick"],Pe={class:"mt-3 flex flex-col gap-2"},Le=["value"],qe={class:"flex flex-row my-auto justify-end"},Ge={class:"my-auto text-sm text-text_color px-8"},Ne=["title"],Re={__name:"FilterPanel",props:{open:{type:Boolean,default:!1},facets:{type:Object,default:()=>({collections:[],categories:[],sizes:[],colors:[]})},modelValue:{type:Object,default:()=>({collections:[],categories:[],sizes:[],colors:[]})}},emits:["update:open","update:modelValue"],setup(v,{emit:i}){const _=v,p=i;function d(t={}){return{collections:Array.isArray(t.collections)?[...t.collections]:[],categories:Array.isArray(t.categories)?[...t.categories]:[],sizes:Array.isArray(t.sizes)?[...t.sizes]:[],colors:Array.isArray(t.colors)?[...t.colors]:[]}}const n=Q(d(_.modelValue));O(()=>_.modelValue,t=>{Object.assign(n,d(t))},{deep:!0});function A(){p("update:modelValue",d(n)),p("update:open",!1)}function j(){Object.assign(n,{collections:[],categories:[],sizes:[],colors:[]}),p("update:modelValue",d(n)),p("update:open",!1)}function S(){Object.assign(n,{collections:[]}),p("update:modelValue",d(n))}function b(){Object.assign(n,{categories:[]}),p("update:modelValue",d(n))}function a(){Object.assign(n,{sizes:[]}),p("update:modelValue",d(n))}function f(){Object.assign(n,{colors:[]}),p("update:modelValue",d(n))}function h(t,s){const m=new Set(n[t]);m.has(s)?m.delete(s):m.add(s),n[t]=[...m]}function g(t){return["px-3 py-1 text-sm text-text-color",t?"font-bold":"bg-backgroun_color"]}return(t,s)=>{const m=q;return c(),F(B(X),{show:v.open},{default:M(()=>[w(B(re),{class:"relative z-50",onClose:s[2]||(s[2]=r=>t.$emit("update:open",!1))},{default:M(()=>[s[9]||(s[9]=e("div",{class:"fixed inset-0 bg-text_color/30","aria-hidden":"true"},null,-1)),e("div",je,[w(B(T),{leave:"transform transition ease-in duration-150","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:M(()=>[w(B(ce),{class:"w-screen max-w-md bg-background_color h-full shadow-xl flex flex-col"},{default:M(()=>[e("div",Se,[s[3]||(s[3]=e("h2",{class:"uppercase tracking-wider text-md"},"Filters",-1)),e("button",{class:"ml-2 p-1 inline-flex items-center justify-center hover:bg-text_color/10 shrink-0","aria-label":"Close cart",onClick:s[0]||(s[0]=r=>p("update:open",!1))},[w(m,{name:"lucide:x",class:"w-4 h-4"})])]),e("div",Ae,[e("section",Ve,[e("div",{class:"flex items-center justify-between"},[s[4]||(s[4]=e("h3",{class:"uppercase text-xs tracking-widest"},"Collection",-1)),e("button",{class:"text-xs underline",onClick:S},"Clear")]),e("div",Me,[(c(!0),u($,null,z(v.facets.collections,r=>(c(),u("button",{key:`col-${r.slug}`,onClick:V=>h("collections",r.slug),class:k(g(n.collections.includes(r.slug)))},C(r.name),11,Be))),128))])]),e("section",null,[e("div",{class:"flex items-center justify-between"},[s[5]||(s[5]=e("h3",{class:"uppercase text-xs tracking-widest"},"Category",-1)),e("button",{class:"text-xs underline",onClick:b},"Clear")]),e("div",Oe,[(c(!0),u($,null,z(v.facets.categories,r=>(c(),u("button",{key:r.id,onClick:V=>h("categories",r.id),class:k(g(n.categories.includes(r.id)))},C(r.name),11,Fe))),128))])]),e("section",null,[e("div",{class:"flex items-center justify-between"},[s[6]||(s[6]=e("h3",{class:"uppercase text-xs tracking-widest"},"Size",-1)),e("button",{class:"text-xs underline",onClick:a},"Clear")]),e("div",Ie,[(c(!0),u($,null,z(v.facets.sizes,r=>(c(),u("button",{key:r,onClick:V=>h("sizes",r.name),class:k(g(n.sizes.includes(r.name)))},C(r.name),11,Ee))),128))])]),e("section",null,[e("div",{class:"flex items-center justify-between"},[s[7]||(s[7]=e("h3",{class:"uppercase text-xs tracking-widest"},"Colour",-1)),e("button",{class:"text-xs underline",onClick:f},"Clear")]),e("div",Pe,[(c(!0),u($,null,z(v.facets.colors,r=>(c(),u("div",{key:r.name,class:"relative"},[L(e("input",{type:"checkbox",value:r.name,"onUpdate:modelValue":s[1]||(s[1]=V=>n.colors=V),class:"absolute inset-0 opacity-0 cursor-pointer"},null,8,Le),[[J,n.colors]]),e("div",qe,[e("p",Ge,C(r.name),1),e("div",{class:k(["w-6 h-6 border cursor-pointer m-1",n.colors.includes(r.name)?"ring-2 ring-text_color":"border-gray-300"]),style:K({backgroundColor:`#${r.image}`}),title:r.name},null,14,Ne)])]))),128))])])]),e("div",{class:"px-6 py-4 border-t border-text_color/30 flex items-center justify-between"},[e("button",{class:"text-sm underline",onClick:j},"Clean filters"),e("button",{class:"secondary-btn sweep-secondary px-4 py-2",onClick:A},[...s[8]||(s[8]=[e("span",{class:"btn-label"},"View results",-1),e("span",{class:"sweep-overlay bg-secondary_button_color","aria-hidden":"true"},null,-1)])])])]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"])}}},Ue={class:"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 pt-4 gap-6"},De={class:"flex justify-between w-full"},We={class:"flex items-center"},Ye={class:"flex gap-3 justify-end w-full"},He={class:"flex items-center gap-3"},Qe=["onClick"],E=12,Te=P({__name:"index",setup(v){const i=le(),_=y(!0),p=Z(),d=ee(),n=y(d.query.gender==="male"?"male":"female");O(()=>d.query.gender,l=>{const o=l==="male"?"male":"female";n.value!==o&&(n.value=o)},{immediate:!0});function A(l){n.value!==l&&(n.value=l,p.replace({query:{...d.query,gender:l}}))}function j(l){return["py-1 pr-8 text-sm text-text_color",n.value===l?"font-bold":"bg-background_color"].join(" ")}const S=y([]),b=y(0),a=y(1),f=te(()=>Math.max(1,Math.ceil(b.value/E))),h=y(!1),g=y({collections:[],categories:[],sizes:[],colors:[]}),t=y({collections:[],categories:[],sizes:[],colors:[]});function s(){const l=new URLSearchParams;return l.set("page",String(a.value)),l.set("page_size",String(E)),g.value.collections.forEach(o=>l.append("collection",o.toString())),g.value.categories.forEach(o=>l.append("category",o.toString())),g.value.sizes.forEach(o=>l.append("size",o)),g.value.colors.forEach(o=>l.append("color",o)),l.set("gender",n.value),l.toString().replace(/\+/g,"%20")}async function m(){try{const l=await $fetch(`${i.public.apiBase}/public/categories/`);t.value.categories=Array.isArray(l)?l:[]}catch{t.value.categories=[]}}async function r(){try{const l=await $fetch(`${i.public.apiBase}/public/sizes/`);t.value.sizes=Array.isArray(l)?l:[]}catch{t.value.sizes=[]}}async function V(){try{const l=await $fetch(`${i.public.apiBase}/public/colors/`);t.value.colors=Array.isArray(l)?l.map(o=>({name:o.name,image:o.image})):[]}catch{t.value.colors=[]}}async function I(){try{_.value=!0;const l=await $fetch(`${i.public.apiBase}/public/products-all/?${s()}`);b.value=l.count,S.value=l.results.map(o=>({...o,defaultImage:o.link_image,currentImage:o.link_image}))}catch{console.warn("Failed to fetch products"),_.value=!1}finally{_.value=!1}}async function G(){try{const l=await $fetch(`${i.public.apiBase}/public/collections/`);t.value.collections=Array.isArray(l)?l.map(o=>({name:o.name,slug:o.slug})):[]}catch{t.value.collections=[]}}return O(g,()=>{a.value!==1&&(a.value=1)},{deep:!0}),O([g,a,n,d],I),se(async()=>{await Promise.all([m(),V(),r(),G()]),await I()}),(l,o)=>{const N=de,R=ze,U=Re,D=oe;return c(),u("section",null,[w(ie,{dark:!1}),e("div",Ue,[e("div",De,[e("div",We,[e("button",{class:k(j("female")),onClick:o[0]||(o[0]=x=>A("female"))},"WOMAN",2),e("button",{class:k(j("male")),onClick:o[1]||(o[1]=x=>A("male"))},"MAN",2)]),e("div",Ye,[e("div",He,[o[5]||(o[5]=e("span",{class:"uppercase text-xs tracking-widest ml-4"},"Page",-1)),(c(!0),u($,null,z(f.value,x=>(c(),u("button",{key:x,class:k([x===a.value?"underline":"opacity-60","text-sm uppercase tracking-widest"]),onClick:Je=>a.value=x},C(x),11,Qe))),128)),e("button",{class:"text-md uppercase tracking-widest",onClick:o[2]||(o[2]=x=>h.value=!0)},"Filters")])])])]),_.value?(c(),F(N,{key:0,class:"mt-2 md:mt-6 px-4 md:px-8",count:8})):(c(),F(R,{key:1,class:"mt-2 md:mt-6 px-4 md:px-8",products:S.value},null,8,["products"])),w(D,null,{default:M(()=>[w(U,{open:h.value,modelValue:g.value,"onUpdate:modelValue":o[3]||(o[3]=x=>g.value=x),facets:t.value,"onUpdate:open":o[4]||(o[4]=x=>h.value=x)},null,8,["open","modelValue","facets"])]),_:1})])}}}),ot=ne(Te,[["__scopeId","data-v-1208233a"]]);export{ot as default};
