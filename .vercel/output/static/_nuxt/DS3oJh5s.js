import{u as O,_ as Q}from"./CiYSQXAz.js";import{C as V,k as M,F as r,X as l,a3 as e,L as g,a6 as m,a8 as k,a7 as J,J as C,b as U,D as X,n as Z,q as ee,V as T,N as B,a4 as p,Y as R,w as te,ad as W,W as G}from"./Cvp-EZ-T.js";import{_ as se}from"./wm0FsEjJ.js";import{g as I}from"./DKtf60Sy.js";import{S as Y}from"./Duwiz9RP.js";import{c as K,d as oe,f as le,_ as ne}from"#entry";import{u as H}from"./egCcFHN5.js";import"./C1jAaNN0.js";import"./DHhpbDuF.js";const re={class:"pt-8 mt-2 md:mt-6 px-4 md:px-8"},ae={class:"collection-content"},ie={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 min-h-screen"},ce={class:"absolute bottom-0 left-0 right-0 p-4 md:p-6 bg-background_color/80 w-full"},de={class:"space-y-3"},ue={class:"flex items-center gap-2"},pe={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8"},ge={class:"pt-3 md:pt-4 text-left space-y-2"},me={class:"flex items-center gap-2"},_e={key:2},ve={class:"group col-span-2 md:col-span-1",role:"status","aria-busy":"true","aria-label":"Loading product"},fe={class:"pt-3 md:pt-4 text-left space-y-2"},he={class:"flex items-center gap-2"},ye={class:"col-span-2 md:col-span-2 flex flex-col justify-center"},xe={class:"flex flex-col space-y-3"},be={key:3,class:"flex justify-center py-4 md:py-6"},we=V({__name:"CollectionShopListingSkeleton",props:{animate:{type:Boolean,default:!0},sections:{default:()=>[{type:"standard",textLines:3,showSeparator:!0},{type:"reversed",textLines:3,showSeparator:!0},{type:"standard",textLines:3,showSeparator:!1},{type:"hero",showSeparator:!1},{type:"reversed",textLines:3,showSeparator:!0},{type:"standard",textLines:3,showSeparator:!1},{type:"triple",count:3,showSeparator:!1}]}},setup(D){const u=D,w=M(()=>u.sections);return(v,i)=>(l(),r("section",re,[e("div",ae,[(l(!0),r(g,null,m(C(w),(f,x)=>(l(),r("div",{key:x,class:k(["pb-8 md:pb-12",{"animate-pulse":D.animate}])},[f.type==="hero"?(l(),r("div",ie,[(l(),r(g,null,m(2,d=>e("article",{key:d,class:"relative min-h-[50vh] md:min-h-full overflow-hidden w-full",role:"status","aria-busy":"true","aria-label":"Loading product"},[i[3]||(i[3]=e("div",{class:"absolute inset-0 bg-gray-300"},null,-1)),e("div",ce,[e("div",de,[i[0]||(i[0]=e("div",{class:"h-3 w-24 bg-gray-300 rounded"},null,-1)),i[1]||(i[1]=e("div",{class:"h-8 md:h-10 lg:h-12 w-3/4 bg-gray-300 rounded"},null,-1)),e("div",ue,[(l(),r(g,null,m(4,_=>e("div",{key:_,class:"w-8 h-8 md:w-10 md:h-10 bg-gray-300 border-2 border-background_color"})),64))]),i[2]||(i[2]=e("div",{class:"h-10 w-32 bg-gray-300 rounded"},null,-1))])])])),64))])):f.type==="triple"?(l(),r("div",pe,[(l(!0),r(g,null,m(f.count,d=>(l(),r("article",{key:d,class:"group",role:"status","aria-busy":"true","aria-label":"Loading product"},[i[6]||(i[6]=e("div",{class:"relative w-full overflow-hidden"},[e("div",{class:"w-full aspect-[3/4] bg-gray-300 border border-gray-300"})],-1)),e("div",ge,[i[4]||(i[4]=e("div",{class:"h-3 w-20 bg-gray-300 rounded"},null,-1)),i[5]||(i[5]=e("div",{class:"h-4 w-3/4 bg-gray-300 rounded"},null,-1)),e("div",me,[(l(),r(g,null,m(3,_=>e("div",{key:_,class:"w-7 h-7 md:w-8 md:h-8 bg-gray-300 border border-gray-300"})),64))])])]))),128))])):(l(),r("div",_e,[e("div",{class:k(["grid grid-cols-2 md:grid-cols-3 gap-x-4 md:gap-x-8 lg:gap-x-24 gap-y-8",f.type==="reversed"?"md:flex md:flex-row-reverse":""])},[e("article",ve,[i[9]||(i[9]=e("div",{class:"relative w-full overflow-hidden"},[e("div",{class:"w-full aspect-[3/4] bg-gray-300 border border-gray-300"})],-1)),e("div",fe,[i[7]||(i[7]=e("div",{class:"h-3 w-20 bg-gray-300 rounded"},null,-1)),i[8]||(i[8]=e("div",{class:"h-4 w-3/4 bg-gray-300 rounded"},null,-1)),e("div",he,[(l(),r(g,null,m(3,d=>e("div",{key:d,class:"w-7 h-7 md:w-8 md:h-8 bg-gray-300 border border-gray-300"})),64))])])]),e("div",ye,[i[10]||(i[10]=e("div",{class:"h-4 w-32 bg-gray-300 rounded mb-3 px-4"},null,-1)),e("div",xe,[(l(!0),r(g,null,m(f.textLines,d=>(l(),r("div",{key:d,class:k(["h-4 bg-gray-300 rounded px-4",{"w-full":d===1,"w-11/12":d===2,"w-10/12":d===3,"w-9/12":d>3}])},null,2))),128))])])],2)])),f.showSeparator&&x<C(w).length-1?(l(),r("div",be,[...i[11]||(i[11]=[e("div",{class:"w-64 h-px bg-gray-300"},null,-1)])])):J("",!0)],2))),128))])]))}}),ke={class:"pt-8 mt-2 md:mt-6 px-4 md:px-8"},$e={class:"collection-content"},Se={key:0,class:"pb-8 md:pb-12"},Ce={class:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8"},Me=["alt","onMouseenter"],Ae={class:"absolute bottom-0 left-0 right-0 p-4 md:p-6 text-text_color bg-background_color/85 w-full"},Le={class:"hero-content"},Te={class:"text-xs tracking-widest uppercase mb-1 opacity-80"},Ie={class:"hero-title text-xl md:text-2xl font-bold mb-1 uppercase tracking-tight"},De={class:"flex items-center gap-3 mb-2"},Ne={key:0,class:"flex items-center gap-2"},Pe={class:"text-sm md:text-base font-semibold"},je={class:"text-sm md:text-base line-through opacity-70"},qe={key:1,class:"text-sm md:text-base"},Be={class:"flex items-center gap-2 mb-2"},Ee=["onMouseenter","onMouseleave"],ze=["alt","onClick"],Fe={key:1,class:"pb-8 md:pb-12"},Re={class:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-10"},Ue=["alt","onMouseenter"],Ve={class:"absolute bottom-0 left-0 right-0 p-4 md:p-6 text-text_color bg-background_color/85 w-full"},We={class:"hero-content"},Ge={class:"text-xs tracking-widest uppercase mb-1 opacity-80"},Ye={class:"hero-title text-lg md:text-2xl font-bold mb-1 uppercase tracking-tight"},He={class:"flex items-center gap-3 mb-2"},Je={key:0,class:"flex items-center gap-2"},Ke={class:"text-sm md:text-base font-semibold"},Oe={class:"text-sm md:text-base line-through opacity-70"},Qe={key:1,class:"text-sm md:text-base font-semibold"},Xe={class:"flex items-center gap-2 mb-2"},Ze=["onMouseenter","onMouseleave"],et=["alt","onClick"],tt={key:2,class:"pb-8 md:pb-12"},st={class:"grid grid-cols-1 md:grid-cols-3 gap-x-4 md:gap-x-8 lg:gap-x-24 gap-y-8"},ot=["alt","onMouseenter"],lt={class:"absolute bottom-0 left-0 right-0 p-4 md:p-6 text-text_color bg-background_color/85 w-full"},nt={class:"hero-content"},rt={class:"text-xs tracking-widest uppercase mb-1 opacity-80"},at={class:"hero-title text-xl md:text-2xl font-bold mb-1 uppercase tracking-tight"},it={class:"flex items-center gap-3 mb-2"},ct={key:0,class:"flex items-center gap-2"},dt={class:"text-sm md:text-base font-semibold"},ut={class:"text-sm md:text-base line-through opacity-70"},pt={key:1,class:"text-sm md:text-base font-semibold"},gt={class:"flex items-center gap-2 mb-2"},mt=["onMouseenter","onMouseleave"],_t=["alt","onClick"],vt={class:"section-heading uppercase tracking-wider text-xs md:text-sm mb-3 px-4"},ft={class:"flex flex-col"},ht={key:3,class:"flex justify-center py-4 md:py-6"},yt=V({__name:"testCollectionListing",props:{products:{},collection:{}},setup(D){I.registerPlugin(Y);const u=D,w=K(),v=U(null),i=U({});let f=null;const{getResponsiveImages:x}=O(),d=t=>x(t,[400,600,800,1200,1600],"(max-width: 767px) 100vw, 33vw"),_=t=>x(t,[400,600,800,1200,1600],"(max-width: 767px) 100vw, 33vw"),A=t=>x(t,[400,600,800,1200,1600],"(max-width: 767px) 100vw, 33vw"),$=t=>x(t,[50,100],"40px"),b=M(()=>{const t=u.collection||{};return[t.element_one,t.element_two,t.element_three,t.element_four,t.element_five].filter(Boolean)}),N=M(()=>{const t=[...u.products],o=[];let n=0;t.length>=1&&(o.push({layout:"standard",items:[t[0]],text:b.value[0]||"",heading:u.collection?.name||"Collection"}),n=1),t.length>=2&&(o.push({layout:"reversed",items:[t[1]],text:b.value[1]||"",heading:u.collection?.name||"Collection"}),n=2),t.length>=3&&(o.push({layout:"standard",items:[t[2]],text:b.value[2]||"",heading:u.collection?.name||"Collection"}),n=3),t.length>=5&&(o.push({layout:"hero",items:[t[3],t[4]],text:"",heading:""}),n=5),t.length>=6&&(o.push({layout:"reversed",items:[t[5]],text:b.value[3]||"",heading:u.collection?.name||"Collection"}),n=6),t.length>=7&&(o.push({layout:"standard",items:[t[6]],text:b.value[4]||"",heading:u.collection?.name||"Collection"}),n=7);let a=0;for(;n<t.length;){const y=t.length-n;if(a>0&&a%3===0&&y>=2)o.push({layout:"hero",items:[t[n],t[n+1]],text:"",heading:""}),n+=2,a++;else{const s=Math.min(3,y);o.push({layout:"triple",items:t.slice(n,n+s),text:"",heading:""}),n+=s,a++}}return o});function h(t){if(!t)return"N/A";const o=typeof t=="string"?parseFloat(t):t;return isNaN(o)?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(o)}function P(t,o,n){v.value=t.slug,t.currentImage=o.avatar_image,i.value[t.slug]=n}function L(t){t.currentImage=t.colors?.[0]?.avatar_image,i.value[t.slug]=null,v.value=null}function j(t,o){!t||!o||w.push(`/product/${t}/${o}`)}function E(t=""){return t.split(new RegExp("(?<=[.!?])\\s+|\\n+")).filter(Boolean)}function z(t){return N.value[t].layout!=="hero"}function F(){f=I.context(()=>{document.querySelectorAll(".hero-title").forEach(t=>{I.from(t,{scrollTrigger:{trigger:t,start:"top 80%"},y:80,opacity:0,duration:.9,ease:"power4.out"})}),document.querySelectorAll(".hero-content").forEach(t=>{I.from(t.querySelectorAll("p, .btn"),{scrollTrigger:{trigger:t,start:"top 80%"},y:40,opacity:0,duration:1.2,ease:"power4.out",stagger:.1})}),document.querySelectorAll(".section-heading").forEach(t=>{I.from(t,{scrollTrigger:{trigger:t,start:"top 80%"},y:40,opacity:0,duration:1.2,ease:"power4.out"})}),document.querySelectorAll(".section-text-line").forEach((t,o)=>{I.from(t,{scrollTrigger:{trigger:".section-trigger-line",start:"top 90%"},y:30,opacity:0,duration:1,ease:"power4.out",delay:o*.5})})})}return X(()=>{Z(()=>{F()})}),ee(()=>{f?.revert(),f=null,Y.getAll().forEach(t=>t.kill())}),(t,o)=>{const n=se;return l(),r("section",ke,[e("div",$e,[(l(!0),r(g,null,m(C(N),(a,y)=>(l(),r("div",{key:y},[a.layout==="hero"?(l(),r("div",Se,[e("div",Ce,[(l(!0),r(g,null,m(a.items,s=>(l(),r("article",{key:s.slug,class:"group cursor-pointer relative h-[80vh] overflow-hidden w-full md:w-2/3 mx-auto"},[e("img",T({ref_for:!0},d(s.currentImage||s.colors?.[0]?.avatar_image),{alt:s.alt_text||s.name,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",loading:"lazy",onMouseenter:c=>v.value=s.slug,onMouseleave:o[0]||(o[0]=c=>v.value=null)}),null,16,Me),o[4]||(o[4]=e("div",{class:"absolute inset-0"},null,-1)),e("div",Ae,[e("div",Le,[e("p",Te,p(s.category),1),e("h2",Ie,p(s.name),1),e("div",De,[s.discount&&s.discount_price?(l(),r("div",Ne,[e("span",Pe,p(h(s.discount_price)),1),e("span",je,p(h(s.price)),1)])):(l(),r("span",qe,p(h(s.price)),1))]),e("div",Be,[(l(!0),r(g,null,m(s.colors?.slice(0,4),(c,S)=>(l(),r("div",{key:S,class:"relative",onMouseenter:q=>P(s,c,S),onMouseleave:q=>L(s)},[e("img",T({ref_for:!0},$(c.avatar_image),{alt:c.color,class:"w-8 h-8 md:w-10 md:h-10 object-cover border border-text_color/30 cursor-pointer transition-transform hover:scale-110",onClick:q=>j(s.slug,c.variant_slug)}),null,16,ze)],40,Ee))),128))]),B(n,{to:`/product/${s.slug}/${s.colors?.[0]?.variant_slug}`,class:"btn btn--secondary inline-flex text-sm"},{default:R(()=>[...o[3]||(o[3]=[e("span",{class:"btn__text"},"Discover",-1),e("span",{class:"btn__fill"},null,-1)])]),_:1},8,["to"])])])]))),128))])])):a.layout==="triple"?(l(),r("div",Fe,[e("div",Re,[(l(!0),r(g,null,m(a.items,s=>(l(),r("article",{key:s.slug,class:"group cursor-pointer relative h-[100vh] overflow-hidden w-full"},[e("img",T({ref_for:!0},_(s.currentImage||s.colors?.[0]?.avatar_image),{alt:s.alt_text||s.name,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",loading:"lazy",onMouseenter:c=>v.value=s.slug,onMouseleave:o[1]||(o[1]=c=>v.value=null)}),null,16,Ue),o[6]||(o[6]=e("div",{class:"absolute inset-0"},null,-1)),e("div",Ve,[e("div",We,[e("p",Ge,p(s.category),1),e("h2",Ye,p(s.name),1),e("div",He,[s.discount&&s.discount_price?(l(),r("div",Je,[e("span",Ke,p(h(s.discount_price)),1),e("span",Oe,p(h(s.price)),1)])):(l(),r("span",Qe,p(h(s.price)),1))]),e("div",Xe,[(l(!0),r(g,null,m(s.colors?.slice(0,4),(c,S)=>(l(),r("div",{key:S,class:"relative",onMouseenter:q=>P(s,c,S),onMouseleave:q=>L(s)},[e("img",T({ref_for:!0},$(c.avatar_image),{alt:c.color,class:"w-8 h-8 object-cover border border-text_color/30 cursor-pointer transition-transform hover:scale-110",onClick:q=>j(s.slug,c.variant_slug)}),null,16,et)],40,Ze))),128))]),B(n,{to:`/product/${s.slug}/${s.colors?.[0]?.variant_slug}`,class:"btn btn--secondary inline-flex text-sm"},{default:R(()=>[...o[5]||(o[5]=[e("span",{class:"btn__text"},"Discover",-1),e("span",{class:"btn__fill"},null,-1)])]),_:1},8,["to"])])])]))),128))])])):(l(),r("div",tt,[e("div",st,[e("article",{class:k(["group cursor-pointer relative h-[80vh] overflow-hidden w-full md:col-span-1",a.layout==="reversed"?"md:order-2":"md:order-1"])},[e("img",T({ref_for:!0},A(a.items[0].currentImage||a.items[0].colors?.[0]?.avatar_image),{alt:a.items[0].alt_text||a.items[0].name,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",loading:"lazy",onMouseenter:s=>v.value=a.items[0].slug,onMouseleave:o[2]||(o[2]=s=>v.value=null)}),null,16,ot),o[8]||(o[8]=e("div",{class:"absolute inset-0"},null,-1)),e("div",lt,[e("div",nt,[e("p",rt,p(a.items[0].category),1),e("h2",at,p(a.items[0].name),1),e("div",it,[a.items[0].discount&&a.items[0].discount_price?(l(),r("div",ct,[e("span",dt,p(h(a.items[0].discount_price)),1),e("span",ut,p(h(a.items[0].price)),1)])):(l(),r("span",pt,p(h(a.items[0].price)),1))]),e("div",gt,[(l(!0),r(g,null,m(a.items[0].colors?.slice(0,4),(s,c)=>(l(),r("div",{key:c,class:"relative",onMouseenter:S=>P(a.items[0],s,c),onMouseleave:S=>L(a.items[0])},[e("img",T({ref_for:!0},$(s.avatar_image),{alt:s.color,class:"w-8 h-8 md:w-10 md:h-10 object-cover border border-text_color/30 cursor-pointer transition-transform hover:scale-110",onClick:S=>j(a.items[0].slug,s.variant_slug)}),null,16,_t)],40,mt))),128))]),B(n,{to:`/product/${a.items[0].slug}/${a.items[0].colors?.[0]?.variant_slug}`,class:"btn btn--secondary inline-flex text-sm"},{default:R(()=>[...o[7]||(o[7]=[e("span",{class:"btn__text"},"Discover",-1),e("span",{class:"btn__fill"},null,-1)])]),_:1},8,["to"])])])],2),e("div",{class:k(["flex flex-col justify-center section-trigger-line md:col-span-2",a.layout==="reversed"?"md:order-1":"md:order-2"])},[e("h4",vt,p(a.heading),1),e("div",ft,[(l(!0),r(g,null,m(E(a.text),(s,c)=>(l(),r("span",{key:c,class:"section-text-line px-4 py-1 md:py-2 my-1 md:my-3 text-sm md:text-base leading-relaxed tracking-wide text-text_color"},p(s),1))),128))])],2)])])),y<C(N).length-1&&z(y)?(l(),r("div",ht,[...o[9]||(o[9]=[e("div",{class:"w-64 h-px bg-text_color/30"},null,-1)])])):J("",!0)]))),128))])])}}}),xt={class:"collection-page"},bt={class:"w-full z-50"},wt={class:"relative z-10"},kt={class:"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 pt-4 gap-6"},$t={class:"flex justify-start w-full"},St={class:"flex items-center gap-1"},Ct=10,Mt=V({__name:"[...slug]",async setup(D){let u,w;const v=le(),i=oe(),f=K(),x=["all","woman","man","kids"],d=M(()=>String(i.params.slug)),_=U(i.query.type&&x.includes(String(i.query.type))?String(i.query.type):"all"),A=M(()=>_.value==="man"?"male":_.value==="woman"?"female":_.value==="kids"?"kids":"all");te(()=>i.query.type,o=>{const n=o&&x.includes(String(o))?String(o):"all";_.value!==n&&(_.value=n)},{immediate:!0});function $(o){_.value=o;const n={...i.query};"gender"in n&&delete n.gender,n.type=o,f.replace({query:n})}function b(o){const n="pr-8 py-1 text-sm text-text_color cursor-pointer hover:opacity-70 transition-opacity duration-200",a=_.value===o?"font-bold":"bg-background_color";return`${n} ${a}`}const{data:N,pending:h}=([u,w]=W(async()=>H(`collection:${d.value}`,async()=>await $fetch(`${v.public.apiBase}/public/collections/${d.value}/`))),u=await u,w(),u),{data:P,pending:L}=([u,w]=W(async()=>H(`products-all:${d.value}:${A.value}`,async()=>{const o=`${v.public.apiBase}/public/products-all/`,n=new URLSearchParams({page:"1",page_size:String(Ct),collection:d.value});A.value!=="all"&&n.append("gender",A.value);let a=`${o}?${n.toString()}`;const y=[],s=await $fetch(a);return Array.isArray(s?.results)&&y.push(...s.results),y},{watch:[d,A]})),u=await u,w(),u),j=h.value,E=L.value;console.log(h.value,L.value);const z=M(()=>N.value||{}),F=M(()=>P.value||[]);function t(){window.scrollTo({top:0,behavior:"smooth"})}return(o,n)=>{const a=Q,y=we,s=yt;return l(),r("section",xt,[e("div",bt,[B(a,{dark:!1})]),e("div",wt,[e("div",kt,[e("div",$t,[e("div",St,[e("button",{type:"button",class:k(b("all")),onClick:n[0]||(n[0]=c=>$("all"))}," ALL ",2),e("button",{type:"button",class:k(b("woman")),onClick:n[1]||(n[1]=c=>$("woman"))}," WOMAN ",2),e("button",{type:"button",class:k(b("man")),onClick:n[2]||(n[2]=c=>$("man"))}," MAN ",2),e("button",{type:"button",class:k(b("kids")),onClick:n[3]||(n[3]=c=>$("kids"))}," KIDS ",2)])])]),C(j)&&C(E)?(l(),G(y,{key:0,animate:!0})):(l(),G(s,{key:1,products:C(F),collection:C(z),onCtaClick:t},null,8,["products","collection"]))])])}}}),Bt=ne(Mt,[["__scopeId","data-v-76ec7697"]]);export{Bt as default};
