import{c as Te,d as je,_ as Oe,e as Ne,f as Be,g as Re}from"#entry";import{u as qe,Y as Ge,G as We,V as He,_ as Ye}from"./CBhFnRZX.js";import he from"./mbTednRk.js";import{C as ue,F as N,X as D,L as Q,a6 as X,a8 as ee,a3 as c,b as H,k as ge,D as Ee,n as ve,w as ie,q as Ie,a7 as we,a9 as Le,V as de,aa as Ue,J as B,a4 as J,N as Y,r as Qe,W as me,Y as te,a5 as Xe,ab as Je,ac as Ke,ad as Ze,c as et}from"./DY7e6STM.js";/* empty css        */import{h as ke,S as tt}from"./CeOnvSk8.js";import{g as fe}from"./DKtf60Sy.js";import{S as Ce}from"./Duwiz9RP.js";import{u as ot}from"./B0TrHSQ3.js";import"./BlJWFypG.js";const nt={class:"grid grid-cols-2 md:grid-cols-4 overflow-y-auto pt-8 gap-x-4 md:gap-x-8 lg:gap-x-24"},rt={class:"py-3 text-left space-y-2"},at={class:"mt-1 flex items-center gap-2","aria-label":"Loading color options"},it=ue({__name:"ShopListingskeleton",props:{count:{default:12},animate:{type:Boolean,default:!0}},setup(e){return(r,t)=>(D(),N("div",nt,[(D(!0),N(Q,null,X(e.count,g=>(D(),N("article",{key:g,class:ee(["col-span-1 pb-10",{"animate-pulse":e.animate}]),"aria-busy":"true","aria-label":"Loading product"},[t[3]||(t[3]=c("div",{class:"relative w-full overflow-hidden"},[c("div",{class:"w-full aspect-[3/4] bg-project_gray border border-project_gray",role:"img","aria-label":"Loading product image"})],-1)),c("div",rt,[t[0]||(t[0]=c("div",{class:"h-3 w-20 bg-project_gray rounded",role:"status","aria-label":"Loading category"},null,-1)),t[1]||(t[1]=c("div",{class:"h-4 w-3/4 bg-project_gray rounded",role:"status","aria-label":"Loading product name"},null,-1)),c("div",at,[(D(),N(Q,null,X(3,p=>c("div",{key:p,class:"w-7 h-7 md:w-8 md:h-8 bg-project_gray border border-project_gray",role:"status"})),64))]),t[2]||(t[2]=c("div",{class:"h-3 w-16 bg-project_gray rounded",role:"status","aria-label":"Loading price"},null,-1))])],2))),128))]))}});var oe=function(){return oe=Object.assign||function(e){for(var r,t=1,g=arguments.length;t<g;t++)for(var p in r=arguments[t])Object.prototype.hasOwnProperty.call(r,p)&&(e[p]=r[p]);return e},oe.apply(this,arguments)};function Pe(e,r,t){for(var g,p=0,d=r.length;p<d;p++)!g&&p in r||(g||(g=Array.prototype.slice.call(r,0,p)),g[p]=r[p]);return e.concat(g||Array.prototype.slice.call(r))}function $e(e){return Array.prototype.slice.call(e)}function ze(e,r){var t=Math.floor(e);return t===r||t+1===r?e:r}function Ae(){return Date.now()}function pe(e,r,t){if(r="data-keen-slider-"+r,t===null)return e.removeAttribute(r);e.setAttribute(r,t||"")}function ce(e,r){return r=r||document,typeof e=="function"&&(e=e(r)),Array.isArray(e)?e:typeof e=="string"?$e(r.querySelectorAll(e)):e instanceof HTMLElement?[e]:e instanceof NodeList?$e(e):[]}function re(e){e.raw&&(e=e.raw),e.cancelable&&!e.defaultPrevented&&e.preventDefault()}function ae(e){e.raw&&(e=e.raw),e.stopPropagation&&e.stopPropagation()}function Fe(){var e=[];return{add:function(r,t,g,p){r.addListener?r.addListener(g):r.addEventListener(t,g,p),e.push([r,t,g,p])},input:function(r,t,g,p){this.add(r,t,(function(d){return function(a){a.nativeEvent&&(a=a.nativeEvent);var b=a.changedTouches||[],$=a.targetTouches||[],m=a.detail&&a.detail.x?a.detail:null;return d({id:m?m.identifier?m.identifier:"i":$[0]?$[0]?$[0].identifier:"e":"d",idChanged:m?m.identifier?m.identifier:"i":b[0]?b[0]?b[0].identifier:"e":"d",raw:a,x:m&&m.x?m.x:$[0]?$[0].screenX:m?m.x:a.pageX,y:m&&m.y?m.y:$[0]?$[0].screenY:m?m.y:a.pageY})}})(g),p)},purge:function(){e.forEach((function(r){r[0].removeListener?r[0].removeListener(r[2]):r[0].removeEventListener(r[1],r[2],r[3])})),e=[]}}}function ye(e,r,t){return Math.min(Math.max(e,r),t)}function U(e){return(e>0?1:0)-(e<0?1:0)||+e}function Se(e){var r=e.getBoundingClientRect();return{height:ze(r.height,e.offsetHeight),width:ze(r.width,e.offsetWidth)}}function G(e,r,t,g){var p=e&&e[r];return p==null?t:g&&typeof p=="function"?p():p}function W(e){return Math.round(1e6*e)/1e6}function st(e){var r,t,g,p,d,a;function b(f){a||(a=f),$(!0);var z=f-a;z>g&&(z=g);var h=p[t];if(h[3]<z)return t++,b(f);var M=h[2],L=h[4],_=h[0],w=h[1]*(0,h[5])(L===0?1:(z-M)/L);if(w&&e.track.to(_+w),z<g)return C();a=null,$(!1),m(null),e.emit("animationEnded")}function $(f){r.active=f}function m(f){r.targetIdx=f}function C(){var f;f=b,d=window.requestAnimationFrame(f)}function F(){var f;f=d,window.cancelAnimationFrame(f),$(!1),m(null),a&&e.emit("animationStopped"),a=null}return r={active:!1,start:function(f){if(F(),e.track.details){var z=0,h=e.track.details.position;t=0,g=0,p=f.map((function(M){var L,_=Number(h),w=(L=M.earlyExit)!==null&&L!==void 0?L:M.duration,s=M.easing,A=M.distance*s(w/M.duration)||0;h+=A;var I=g;return g+=w,z+=A,[_,M.distance,I,g,M.duration,s]})),m(e.track.distToIdx(z)),C(),e.emit("animationStarted")}},stop:F,targetIdx:null}}function lt(e){var r,t,g,p,d,a,b,$,m,C,F,f,z,h,M=1/0,L=[],_=null,w=0;function s(l){o(w+l)}function A(l){var x=I(w+l).abs;return T(x)?x:null}function I(l){var x=Math.floor(Math.abs(W(l/t))),i=W((l%t+t)%t);i===t&&(i=0);var S=U(l),k=b.indexOf(Pe([],b).reduce((function(P,O){return Math.abs(O-i)<Math.abs(P-i)?O:P}))),E=k;return S<0&&x++,k===a&&(E=0,x+=S>0?1:-1),{abs:E+x*a*S,origin:k,rel:E}}function y(l,x,i){var S;if(x||!u())return v(l,i);if(!T(l))return null;var k=I(i??w),E=k.abs,P=l-k.rel,O=E+P;S=v(O);var R=v(O-a*U(P));return(R!==null&&Math.abs(R)<Math.abs(S)||S===null)&&(S=R),W(S)}function v(l,x){if(x==null&&(x=W(w)),!T(l)||l===null)return null;l=Math.round(l);var i=I(x),S=i.abs,k=i.rel,E=i.origin,P=j(l),O=(x%t+t)%t,R=b[E],K=Math.floor((l-(S-k))/a)*t;return W(R-O-R+b[P]+K+(E===a?t:0))}function T(l){return V(l)===l}function V(l){return ye(l,m,C)}function u(){return p.loop}function j(l){return(l%a+a)%a}function o(l){var x;x=l-w,L.push({distance:x,timestamp:Ae()}),L.length>6&&(L=L.slice(-6)),w=W(l);var i=n().abs;if(i!==_){var S=_!==null;_=i,S&&e.emit("slideChanged")}}function n(l){var x=l?null:(function(){if(a){var i=u(),S=i?(w%t+t)%t:w,k=(i?w%t:w)-d[0][2],E=0-(k<0&&i?t-Math.abs(k):k),P=0,O=I(w),R=O.abs,K=O.rel,se=d[K][2],le=d.map((function(Z,Ve){var q=E+P;(q<0-Z[0]||q>1)&&(q+=(Math.abs(q)>t-1&&i?t:0)*U(-q));var xe=Ve-K,be=U(xe),ne=xe+R;i&&(be===-1&&q>se&&(ne+=a),be===1&&q<se&&(ne-=a),F!==null&&ne<F&&(q+=t),f!==null&&ne>f&&(q-=t));var _e=q+Z[0]+Z[1],De=Math.max(q>=0&&_e<=1?1:_e<0||q>1?0:q<0?Math.min(1,(Z[0]+q)/Z[0]):(1-q)/Z[0],0);return P+=Z[0]+Z[1],{abs:ne,distance:p.rtl?-1*q+1-Z[0]:q,portion:De,size:Z[0]}}));return R=V(R),K=j(R),{abs:V(R),length:g,max:h,maxIdx:C,min:z,minIdx:m,position:w,progress:i?S/t:w/g,rel:K,slides:le,slidesLength:t}}})();return r.details=x,e.emit("detailsChanged"),x}return r={absToRel:j,add:s,details:null,distToIdx:A,idxToDist:y,init:function(l){if((function(){if(p=e.options,d=(p.trackConfig||[]).map((function(k){return[G(k,"size",1),G(k,"spacing",0),G(k,"origin",0)]})),a=d.length){t=W(d.reduce((function(k,E){return k+E[0]+E[1]}),0));var i,S=a-1;g=W(t+d[0][2]-d[S][0]-d[S][2]-d[S][1]),b=d.reduce((function(k,E){if(!k)return[0];var P=d[k.length-1],O=k[k.length-1]+(P[0]+P[2])+P[1];return O-=E[2],k[k.length-1]>O&&(O=k[k.length-1]),O=W(O),k.push(O),(!i||i<O)&&($=k.length-1),i=O,k}),null),g===0&&($=0),b.push(W(t))}})(),!a)return n(!0);var x;(function(){var i=e.options.range,S=e.options.loop;F=m=S?G(S,"min",-1/0):0,f=C=S?G(S,"max",M):$;var k=G(i,"min",null),E=G(i,"max",null);k!==null&&(m=k),E!==null&&(C=E),z=m===-1/0?m:e.track.idxToDist(m||0,!0,0),h=C===M?C:y(C,!0,0),E===null&&(f=C),G(i,"align",!1)&&C!==M&&d[j(C)][2]===0&&(h-=1-d[j(C)][0],C=A(h-w)),z=W(z),h=W(h)})(),x=l,Number(x)===x?s(v(V(l))):n()},to:o,velocity:function(){var l=Ae(),x=L.reduce((function(i,S){var k=S.distance,E=S.timestamp;return l-E>200||(U(k)!==U(i.distance)&&i.distance&&(i={distance:0,lastTimestamp:0,time:0}),i.time&&(i.distance+=k),i.lastTimestamp&&(i.time+=E-i.lastTimestamp),i.lastTimestamp=E),i}),{distance:0,lastTimestamp:0,time:0});return x.distance/x.time||0}}}function ct(e){var r,t,g,p,d,a,b,$;function m(_){return 2*_}function C(_){return ye(_,b,$)}function F(_){return 1-Math.pow(1-_,3)}function f(){return g?e.track.velocity():0}function z(){L();var _=e.options.mode==="free-snap",w=e.track,s=f();p=U(s);var A=e.track.details,I=[];if(s||!_){var y=h(s),v=y.dist,T=y.dur;if(T=m(T),v*=p,_){var V=w.idxToDist(w.distToIdx(v),!0);V&&(v=V)}I.push({distance:v,duration:T,easing:F});var u=A.position,j=u+v;if(j<d||j>a){var o=j<d?d-u:a-u,n=0,l=s;if(U(o)===p){var x=Math.min(Math.abs(o)/Math.abs(v),1),i=(function(E){return 1-Math.pow(1-E,1/3)})(x)*T;I[0].earlyExit=i,l=s*(1-x)}else I[0].earlyExit=0,n+=o;var S=h(l,100),k=S.dist*p;e.options.rubberband&&(I.push({distance:k,duration:m(S.dur),easing:F}),I.push({distance:-k+n,duration:500,easing:F}))}e.animator.start(I)}else e.moveToIdx(C(A.abs),!0,{duration:500,easing:function(E){return 1+--E*E*E*E*E}})}function h(_,w){w===void 0&&(w=1e3);var s=147e-9+(_=Math.abs(_))/w;return{dist:Math.pow(_,2)/s,dur:_/s}}function M(){var _=e.track.details;_&&(d=_.min,a=_.max,b=_.minIdx,$=_.maxIdx)}function L(){e.animator.stop()}e.on("updated",M),e.on("optionsChanged",M),e.on("created",M),e.on("dragStarted",(function(){g=!1,L(),r=t=e.track.details.abs})),e.on("dragChecked",(function(){g=!0})),e.on("dragEnded",(function(){var _=e.options.mode;_==="snap"&&(function(){var w=e.track,s=e.track.details,A=s.position,I=U(f());(A>a||A<d)&&(I=0);var y=r+I;s.slides[w.absToRel(y)].portion===0&&(y-=I),r!==t&&(y=t),U(w.idxToDist(y,!0))!==I&&(y+=I),y=C(y);var v=w.idxToDist(y,!0);e.animator.start([{distance:v,duration:500,easing:function(T){return 1+--T*T*T*T*T}}])})(),_!=="free"&&_!=="free-snap"||z()})),e.on("dragged",(function(){t=e.track.details.abs}))}function ut(e){var r,t,g,p,d,a,b,$,m,C,F,f,z,h,M,L,_,w,s=Fe();function A(n){if(a&&$===n.id){var l=T(n);if(m){if(!v(n))return y(n);C=l,m=!1,e.emit("dragChecked")}if(L)return C=l;re(n);var x=(function(S){if(_===-1/0&&w===1/0)return S;var k=e.track.details,E=k.length,P=k.position,O=ye(S,_-P,w-P);if(E===0)return 0;if(!e.options.rubberband)return O;if(P<=w&&P>=_||P<_&&t>0||P>w&&t<0)return S;var R=(P<_?P-_:P-w)/E,K=p*E,se=Math.abs(R*K),le=Math.max(0,1-se/d*2);return le*le*S})(b(C-l)/p*g);t=U(x);var i=e.track.details.position;(i>_&&i<w||i===_&&t>0||i===w&&t<0)&&ae(n),F+=x,!f&&Math.abs(F*p)>5&&(f=!0),e.track.add(x),C=l,e.emit("dragged")}}function I(n){!a&&e.track.details&&e.track.details.length&&(F=0,a=!0,f=!1,m=!0,$=n.id,v(n),C=T(n),e.emit("dragStarted"))}function y(n){a&&$===n.idChanged&&(a=!1,e.emit("dragEnded"))}function v(n){var l=V(),x=l?n.y:n.x,i=l?n.x:n.y,S=z!==void 0&&h!==void 0&&Math.abs(h-i)<=Math.abs(z-x);return z=x,h=i,S}function T(n){return V()?n.y:n.x}function V(){return e.options.vertical}function u(){p=e.size,d=V()?window.innerHeight:window.innerWidth;var n=e.track.details;n&&(_=n.min,w=n.max)}function j(n){f&&(ae(n),re(n))}function o(){if(s.purge(),e.options.drag&&!e.options.disabled){var n;n=e.options.dragSpeed||1,b=typeof n=="function"?n:function(x){return x*n},g=e.options.rtl?-1:1,u(),r=e.container,(function(){var x="data-keen-slider-clickable";ce("[".concat(x,"]:not([").concat(x,"=false])"),r).map((function(i){s.add(i,"dragstart",ae),s.add(i,"mousedown",ae),s.add(i,"touchstart",ae)}))})(),s.add(r,"dragstart",(function(x){re(x)})),s.add(r,"click",j,{capture:!0}),s.input(r,"ksDragStart",I),s.input(r,"ksDrag",A),s.input(r,"ksDragEnd",y),s.input(r,"mousedown",I),s.input(r,"mousemove",A),s.input(r,"mouseleave",y),s.input(r,"mouseup",y),s.input(r,"touchstart",I,{passive:!0}),s.input(r,"touchmove",A,{passive:!1}),s.input(r,"touchend",y),s.input(r,"touchcancel",y),s.add(window,"wheel",(function(x){a&&re(x)}));var l="data-keen-slider-scrollable";ce("[".concat(l,"]:not([").concat(l,"=false])"),e.container).map((function(x){return(function(i){var S;s.input(i,"touchstart",(function(k){S=T(k),L=!0,M=!0}),{passive:!0}),s.input(i,"touchmove",(function(k){var E=V(),P=E?i.scrollHeight-i.clientHeight:i.scrollWidth-i.clientWidth,O=S-T(k),R=E?i.scrollTop:i.scrollLeft,K=E&&i.style.overflowY==="scroll"||!E&&i.style.overflowX==="scroll";if(S=T(k),(O<0&&R>0||O>0&&R<P)&&M&&K)return L=!0;M=!1,re(k),L=!1})),s.input(i,"touchend",(function(){L=!1}))})(x)}))}}e.on("updated",u),e.on("optionsChanged",o),e.on("created",o),e.on("destroyed",s.purge)}function dt(e){var r,t,g=null;function p(z,h,M){e.animator.active?a(z,h,M):requestAnimationFrame((function(){return a(z,h,M)}))}function d(){p(!1,!1,t)}function a(z,h,M){var L=0,_=e.size,w=e.track.details;if(w&&r){var s=w.slides;r.forEach((function(A,I){if(z)!g&&h&&$(A,null,M),m(A,null,M);else{if(!s[I])return;var y=s[I].size*_;!g&&h&&$(A,y,M),m(A,s[I].distance*_-L,M),L+=y}}))}}function b(z){return e.options.renderMode==="performance"?Math.round(z):z}function $(z,h,M){var L=M?"height":"width";h!==null&&(h=b(h)+"px"),z.style["min-"+L]=h,z.style["max-"+L]=h}function m(z,h,M){if(h!==null){h=b(h);var L=M?h:0;h="translate3d(".concat(M?0:h,"px, ").concat(L,"px, 0)")}z.style.transform=h,z.style["-webkit-transform"]=h}function C(){r&&(a(!0,!0,t),r=null),e.on("detailsChanged",d,!0)}function F(){p(!1,!0,t)}function f(){C(),t=e.options.vertical,e.options.disabled||e.options.renderMode==="custom"||(g=G(e.options.slides,"perView",null)==="auto",e.on("detailsChanged",d),(r=e.slides).length&&F())}e.on("created",f),e.on("optionsChanged",f),e.on("beforeOptionsChanged",(function(){C()})),e.on("updated",F),e.on("destroyed",C)}function ft(e,r){return function(t){var g,p,d,a,b,$=Fe();function m(v){var T;pe(t.container,"reverse",(T=t.container,window.getComputedStyle(T,null).getPropertyValue("direction")!=="rtl"||v?null:"")),pe(t.container,"v",t.options.vertical&&!v?"":null),pe(t.container,"disabled",t.options.disabled&&!v?"":null)}function C(){F()&&L()}function F(){var v=null;if(a.forEach((function(V){V.matches&&(v=V.__media)})),v===g)return!1;g||t.emit("beforeOptionsChanged"),g=v;var T=v?d.breakpoints[v]:d;return t.options=oe(oe({},d),T),m(),I(),y(),w(),!0}function f(v){var T=Se(v);return(t.options.vertical?T.height:T.width)/t.size||1}function z(){return t.options.trackConfig.length}function h(v){for(var T in g=!1,d=oe(oe({},r),v),$.purge(),p=t.size,a=[],d.breakpoints||[]){var V=window.matchMedia(T);V.__media=T,a.push(V),$.add(V,"change",C)}$.add(window,"orientationchange",A),$.add(window,"resize",s),F()}function M(v){t.animator.stop();var T=t.track.details;t.track.init(v??(T?T.abs:0))}function L(v){M(v),t.emit("optionsChanged")}function _(v,T){if(v)return h(v),void L(T);I(),y();var V=z();w(),z()!==V?L(T):M(T),t.emit("updated")}function w(){var v=t.options.slides;if(typeof v=="function")return t.options.trackConfig=v(t.size,t.slides);for(var T=t.slides,V=T.length,u=typeof v=="number"?v:G(v,"number",V,!0),j=[],o=G(v,"perView",1,!0),n=G(v,"spacing",0,!0)/t.size||0,l=o==="auto"?n:n/o,x=G(v,"origin","auto"),i=0,S=0;S<u;S++){var k=o==="auto"?f(T[S]):1/o-n+l,E=x==="center"?.5-k/2:x==="auto"?0:x;j.push({origin:E,size:k,spacing:n}),i+=k}if(i+=n*(u-1),x==="auto"&&!t.options.loop&&o!==1){var P=0;j.map((function(O){var R=i-P;return P+=O.size+n,R>=1||(O.origin=1-R-(i>1?0:1-i)),O}))}t.options.trackConfig=j}function s(){I();var v=t.size;t.options.disabled||v===p||(p=v,_())}function A(){s(),setTimeout(s,500),setTimeout(s,2e3)}function I(){var v=Se(t.container);t.size=(t.options.vertical?v.height:v.width)||1}function y(){t.slides=ce(t.options.selector,t.container)}t.container=(b=ce(e,document)).length?b[0]:null,t.destroy=function(){$.purge(),t.emit("destroyed"),m(!0)},t.prev=function(){t.moveToIdx(t.track.details.abs-1,!0)},t.next=function(){t.moveToIdx(t.track.details.abs+1,!0)},t.update=_,h(t.options)}}var pt=function(e,r,t){try{return(function(g,p){var d,a={};return d={emit:function(b){a[b]&&a[b].forEach((function(m){m(d)}));var $=d.options&&d.options[b];$&&$(d)},moveToIdx:function(b,$,m){var C=d.track.idxToDist(b,$);if(C){var F=d.options.defaultAnimation;d.animator.start([{distance:C,duration:G(m||F,"duration",500),easing:G(m||F,"easing",(function(f){return 1+--f*f*f*f*f}))}])}},on:function(b,$,m){m===void 0&&(m=!1),a[b]||(a[b]=[]);var C=a[b].indexOf($);C>-1?m&&delete a[b][C]:m||a[b].push($)},options:g},(function(){if(d.track=lt(d),d.animator=st(d),p)for(var b=0,$=p;b<$.length;b++)(0,$[b])(d);d.track.init(d.options.initial||0),d.emit("created")})(),d})(r,Pe([ft(e,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),dt,ut,ct],t||[],!0))}catch(g){console.error(g)}};const gt={class:"grid grid-cols-2 md:grid-cols-4 overflow-y-auto pt-8 gap-x-4 md:gap-x-8 lg:gap-x-24"},vt={class:"bg-background_color overflow-hidden object-fill"},mt={class:"w-full"},ht=["onMouseenter"],yt=["alt","onClick"],xt={key:0,class:"block md:hidden"},bt=["alt","onClick"],_t=["onClick"],wt={class:"py-3 text-left"},kt={class:"text-xs tracking-wider font-extralight"},Ct={class:"uppercase tracking-wider text-[13px] md:text-sm font-normal truncate py-1"},$t={key:0,class:"mt-1 flex items-center gap-2"},zt=["onMouseenter","onMouseleave"],At=["alt","onClick"],St={key:1,class:"space-x-2"},Mt={class:"mt-1 text-xs font-light tracking-widest text-error_text_color"},Tt={id:"price",class:"mt-1 text-xs font-light tracking-widest text-text_color"},jt={key:2,class:"mt-1 text-xs font-light tracking-widest text-text_color"},Et=ue({__name:"ShopListing",props:{products:{}},setup(e){const r=e,t=Te(),g=je(),p=H(null),d=H({}),a=H({}),b=H({}),$=H({}),m=ge(()=>{const u=g.query.color;return u?Array.isArray(u)?u.map(j=>h(String(j))):[h(String(u))]:[]}),{getResponsiveImages:C}=qe(),F=u=>C(u,[300,400,600,800],"(max-width: 767px) 50vw, 25vw"),f=u=>C(u,[300,400,600],"50vw"),z=u=>C(u,[50,100],"32px");function h(u){return u.toLowerCase().trim().replace(/\s+/g," ")}function M(u){if(m.value.length===0)return!1;const j=h(u.color);return m.value.some(o=>!!(j===o||j.includes(o)||o.includes(j)))}function L(u){if(u.currentImage)return u.currentImage;if(!u.colors||u.colors.length===0)return"";if(m.value.length>0){const j=u.colors.find(o=>M(o));if(j)return j.avatar_image}return u.colors[0].avatar_image}function _(u){if(!(!u.colors||u.colors.length===0)){if(m.value.length>0){const j=u.colors.find(o=>M(o));if(j)return j.variant_slug}return u.colors[0].variant_slug}}function w(u){return parseFloat(u).toFixed(2)}function s(u,j){u&&(a.value[j]=u)}Ee(()=>{ve(()=>{I()})}),ie(()=>r.products,()=>{ve(()=>{A(),I()})},{deep:!0}),Ie(()=>{A()});function A(){Object.values(b.value).forEach(u=>{u&&typeof u.destroy=="function"&&u.destroy()}),b.value={}}function I(){r.products.forEach(u=>{if(!u.colors||u.colors.length===0)return;const j=a.value[u.slug];if(!j)return;b.value[u.slug]&&b.value[u.slug].destroy();const o=new pt(j,{loop:!0,initial:0,slideChanged(n){$.value[u.slug]=n.track.details.rel}});b.value[u.slug]=o,$.value[u.slug]=0})}function y(u,j){return d.value[u.slug]===j}function v(u,j,o){p.value=u.slug,u.currentImage=j.avatar_image,d.value[u.slug]=o}function T(u){u.currentImage=void 0,d.value[u.slug]=null,p.value=null}function V(u,j){!u||!j||t.push(`/product/${u}/${j}`)}return(u,j)=>{const o=he;return D(),N("div",gt,[(D(!0),N(Q,null,X(e.products,n=>(D(),N("div",{key:n.slug,class:"col-span-1 cursor-pointer pb-10"},[c("div",vt,[c("div",mt,[c("div",{class:"relative bg-background_color",onMouseenter:l=>p.value=n.slug,onMouseleave:j[0]||(j[0]=l=>p.value=null)},[c("img",de({ref_for:!0},F(L(n)),{alt:n.alt_text||n.name,class:"hidden md:block max-w-[100%] h-auto object-cover transition-opacity duration-200 border border-text_color/30",loading:"lazy",onClick:l=>V(n.slug,_(n))}),null,16,yt),n.colors&&n.colors.length>0?(D(),N("div",xt,[c("div",{ref_for:!0,ref:l=>s(l,n.slug),class:"keen-slider"},[(D(!0),N(Q,null,X(n.colors,(l,x)=>(D(),N("div",{key:x,class:"keen-slider__slide"},[c("img",de({ref_for:!0},f(l.avatar_image),{alt:l.color,class:"w-full h-auto object-cover border border-text_color/30",loading:"lazy",onClick:i=>V(n.slug,l.variant_slug)}),null,16,bt)]))),128))],512)])):we("",!0),Le(c("button",{type:"button",class:ee(["absolute top-4 left-4 bg-text_color text-background_color tracking-wider text-xs font-light w-auto px-2 mx-auto opacity-0 transition-opacity duration-200",{"opacity-100":B(p)===n.slug}]),onClick:l=>V(n.slug,_(n))}," VIEW ",10,_t),[[Ue,B(p)===n.slug]])],40,ht),c("div",wt,[c("p",kt,J(n.category),1),c("h3",Ct,J(n.name),1),n.colors&&n.colors.length>0?(D(),N("div",$t,[(D(!0),N(Q,null,X(n.colors,(l,x)=>(D(),N("div",{key:x,class:"relative group",onMouseenter:i=>v(n,l,x),onMouseleave:i=>T(n)},[c("img",de({ref_for:!0},z(l.avatar_image),{alt:l.color,class:"w-7 h-7 md:h-8 md:w-8 object-cover border border-project_black/30 cursor-pointer",loading:"lazy",onClick:i=>V(n.slug,l.variant_slug)}),null,16,At),c("div",{class:ee(["absolute inset-0 pointer-events-none transition-opacity duration-200 w-8 h-8 bg-text_color",y(n,x)?"opacity-100 bg-text_color":"opacity-0 bg-text_color"])},[Y(o,{name:"lucide:square-arrow-out-up-right",class:"absolute inset-0 w-4 h-4 z-10 bg-background_color m-auto"})],2)],40,zt))),128))])):we("",!0),n?.discount?(D(),N("div",St,[c("span",Mt,"€"+J(w(n.discount_price)),1),c("span",Tt,"€"+J(w(n.price)),1)])):(D(),N("p",jt,"€"+J(w(n.price)),1))])])])]))),128))])}}}),It=Oe(Et,[["__scopeId","data-v-28eb2f71"]]),Lt={class:"fixed inset-0 overflow-hidden pointer-events-none"},Pt={class:"absolute inset-y-0 left-0 flex max-w-full"},Ft={class:"flex items-center justify-between px-6 py-4 border-b border-text_color/30"},Vt={class:"flex-1 overflow-auto px-6 py-6 space-y-8"},Dt={class:"pt-2"},Ot={class:"mt-3 flex flex-wrap gap-2 justify-end"},Nt=["onClick"],Bt={class:"pt-2"},Rt={class:"mt-3 flex flex-wrap gap-2 justify-end"},qt=["onClick"],Gt={class:"mt-3 flex flex-wrap gap-2 justify-end"},Wt=["onClick"],Ht={class:"mt-3 flex flex-wrap gap-2 justify-end"},Yt=["onClick"],Ut={class:"mt-3 flex flex-col"},Qt=["value"],Xt={class:"flex flex-row my-auto justify-end"},Jt={class:"my-auto text-sm text-text_color px-8"},Kt=["title"],Zt=ue({__name:"FilterPanel",props:{open:{type:Boolean,default:!1},facets:{default:()=>({collections:[],categories:[],sizes:[],colors:[]})},modelValue:{default:()=>({gender:[],collections:[],categories:[],sizes:[],colors:[]})}},emits:["update:open","update:modelValue"],setup(e,{emit:r}){const t=e,g=r,p=[{label:"WOMAN",value:"female"},{label:"MAN",value:"male"},{label:"KIDS",value:"kids"},{label:"ALL",value:""}];function d(s){return{gender:Array.isArray(s.gender)?[...s.gender]:[],collections:Array.isArray(s.collections)?[...s.collections]:[],categories:Array.isArray(s.categories)?[...s.categories]:[],sizes:Array.isArray(s.sizes)?[...s.sizes]:[],colors:Array.isArray(s.colors)?[...s.colors]:[]}}const a=Qe(d(t.modelValue));ie(()=>t.modelValue,s=>{Object.assign(a,d(s))},{deep:!0});function b(){g("update:open",!1)}function $(s){a.gender=s?[s]:[]}function m(s){return s?a.gender[0]===s:a.gender.length===0}function C(s,A){const I=a[s],y=I.indexOf(A);y>-1?I.splice(y,1):I.push(A)}function F(s){return["px-3 py-1 text-sm transition-all duration-200",s?"font-bold":"hover:opacity-70"].join(" ")}function f(){a.gender=[]}function z(){a.collections=[]}function h(){a.categories=[]}function M(){a.sizes=[]}function L(){a.colors=[]}function _(){Object.assign(a,{gender:[],collections:[],categories:[],sizes:[],colors:[]}),g("update:modelValue",d(a))}function w(){g("update:modelValue",d(a)),g("update:open",!1)}return(s,A)=>{const I=he;return D(),me(B(tt),{show:e.open,as:"template"},{default:te(()=>[Y(B(Ge),{class:"relative z-50",onClose:b},{default:te(()=>[Y(B(ke),{enter:"transition-opacity ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:te(()=>[c("div",{class:"fixed inset-0 bg-text_color/30 cursor-pointer","aria-hidden":"true",onClick:b})]),_:1}),c("div",Lt,[c("div",Pt,[Y(B(ke),{enter:"transform transition ease-out duration-300","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in duration-200","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:te(()=>[Y(B(We),{class:"w-screen max-w-md bg-background_color h-full shadow-xl flex flex-col pointer-events-auto"},{default:te(()=>[c("div",Ft,[Y(B(He),{class:"uppercase tracking-wider text-md"},{default:te(()=>[...A[1]||(A[1]=[Xe(" Filters ",-1)])]),_:1}),c("button",{type:"button",class:"ml-2 p-1 inline-flex items-center justify-center hover:bg-text_color/10 shrink-0 rounded transition-colors duration-200","aria-label":"Close filters",onClick:b},[Y(I,{name:"lucide:x",class:"w-4 h-4"})])]),c("div",Vt,[c("section",Dt,[c("div",{class:"flex items-center justify-between"},[A[2]||(A[2]=c("h3",{class:"uppercase text-xs tracking-widest"},"Gender",-1)),c("button",{type:"button",class:"text-xs underline hover:no-underline transition-all duration-200",onClick:f}," Clear ")]),c("div",Ot,[(D(),N(Q,null,X(p,y=>c("button",{key:y.value||"all",type:"button",onClick:v=>$(y.value),class:ee(F(m(y.value)))},J(y.label),11,Nt)),64))])]),c("section",Bt,[c("div",{class:"flex items-center justify-between"},[A[3]||(A[3]=c("h3",{class:"uppercase text-xs tracking-widest"},"Collection",-1)),c("button",{type:"button",class:"text-xs underline hover:no-underline transition-all duration-200",onClick:z}," Clear ")]),c("div",Rt,[(D(!0),N(Q,null,X(e.facets.collections,y=>(D(),N("button",{key:`col-${y.slug}`,type:"button",onClick:v=>C("collections",y.slug),class:ee(F(B(a).collections.includes(y.slug)))},J(y.name),11,qt))),128))])]),c("section",null,[c("div",{class:"flex items-center justify-between"},[A[4]||(A[4]=c("h3",{class:"uppercase text-xs tracking-widest"},"Category",-1)),c("button",{type:"button",class:"text-xs underline hover:no-underline transition-all duration-200",onClick:h}," Clear ")]),c("div",Gt,[(D(!0),N(Q,null,X(e.facets.categories,y=>(D(),N("button",{key:y.id,type:"button",onClick:v=>C("categories",y.id),class:ee(F(B(a).categories.includes(y.id)))},J(y.name),11,Wt))),128))])]),c("section",null,[c("div",{class:"flex items-center justify-between"},[A[5]||(A[5]=c("h3",{class:"uppercase text-xs tracking-widest"},"Size",-1)),c("button",{type:"button",class:"text-xs underline hover:no-underline transition-all duration-200",onClick:M}," Clear ")]),c("div",Ht,[(D(!0),N(Q,null,X(e.facets.sizes,y=>(D(),N("button",{key:y.name,type:"button",onClick:v=>C("sizes",y.name),class:ee(F(B(a).sizes.includes(y.name)))},J(y.name),11,Yt))),128))])]),c("section",null,[c("div",{class:"flex items-center justify-between"},[A[6]||(A[6]=c("h3",{class:"uppercase text-xs tracking-widest"},"Colour",-1)),c("button",{type:"button",class:"text-xs underline hover:no-underline transition-all duration-200",onClick:L}," Clear ")]),c("div",Ut,[(D(!0),N(Q,null,X(e.facets.colors,y=>(D(),N("label",{key:y.name,class:"relative cursor-pointer"},[Le(c("input",{type:"checkbox",value:y.name,"onUpdate:modelValue":A[0]||(A[0]=v=>B(a).colors=v),class:"absolute inset-0 opacity-0 cursor-pointer"},null,8,Qt),[[Je,B(a).colors]]),c("div",Xt,[c("p",Jt,J(y.name),1),c("div",{class:ee(["w-6 h-6 border cursor-pointer transition-all duration-200",B(a).colors.includes(y.name)?"ring-2 ring-text_color":"border-gray-300"]),style:Ke({backgroundColor:`#${y.image}`}),title:y.name},null,14,Kt)])]))),128))])])]),c("div",{class:"px-6 py-4 border-t border-text_color/30 flex items-center justify-between gap-3"},[c("button",{type:"button",class:"text-sm underline hover:no-underline transition-all duration-200",onClick:_}," Clear filters "),c("button",{type:"button",class:"btn btn--secondary",onClick:w},[...A[7]||(A[7]=[c("span",{class:"btn__text"},"View results",-1),c("span",{class:"btn__fill"},null,-1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])}}}),eo={id:"smooth-wrapper"},to={id:"smooth-content"},oo={class:"flex flex-col md:flex-row items-start md:items-center justify-between px-4 md:px-8 pt-4 gap-6"},no={class:"flex justify-between w-full"},ro={class:"flex gap-3 justify-start w-full"},ao={class:"flex items-center gap-3"},io={class:"flex gap-3 justify-end w-full"},so={class:"flex items-center gap-3"},lo=["onClick"],Me=12,bo=ue({__name:"index",async setup(e){let r,t,g=null;try{g=([r,t]=Ze(()=>Ne(()=>import("./Duwiz9RP.js").then(o=>o.a),[],import.meta.url)),r=await r,t(),r).ScrollSmoother}catch{}fe.registerPlugin(Ce),g&&fe.registerPlugin(g);const p=Be(),d=je(),a=Te(),b=H(!0),$=H([]),m=H(0),C=H(1),F=H(!1),f=H({gender:[],collections:[],categories:[],sizes:[],colors:[]}),z=H({collections:[],categories:[],sizes:[],colors:[]});let h=null,M=null;const L=ge(()=>Math.max(1,Math.ceil(m.value/Me)));function _(){const o=d.query;o.page&&(C.value=Number(o.page)||1),o.gender&&(f.value.gender=[String(o.gender)]),o.collection&&(f.value.collections=Array.isArray(o.collection)?o.collection.map(String):[String(o.collection)]),o.category&&(f.value.categories=Array.isArray(o.category)?o.category.map(Number):[Number(o.category)]),o.size&&(f.value.sizes=Array.isArray(o.size)?o.size.map(String):[String(o.size)]),o.color&&(f.value.colors=Array.isArray(o.color)?o.color.map(String):[String(o.color)])}function w(){const o=new URLSearchParams;o.set("page",String(C.value)),o.set("page_size",String(Me)),f.value.collections.forEach(l=>o.append("collection",l)),f.value.categories.forEach(l=>o.append("category",String(l))),f.value.sizes.forEach(l=>o.append("size",l)),f.value.colors.forEach(l=>o.append("color",l));const n=f.value.gender[0];return n&&o.set("gender",n),o}function s(){return w().toString().replace(/\+/g,"%20")}function A(){const o={};C.value>1&&(o.page=String(C.value)),f.value.gender.length>0&&(o.gender=f.value.gender[0]),f.value.collections.length>0&&(o.collection=f.value.collections),f.value.categories.length>0&&(o.category=f.value.categories.map(String)),f.value.sizes.length>0&&(o.size=f.value.sizes),f.value.colors.length>0&&(o.color=f.value.colors),a.replace({query:o})}function I(o){C.value=o,A(),h?h.scrollTo(0,!0,"top top"):window.scrollTo({top:0,behavior:"smooth"})}async function y(){try{const o=await $fetch(`${p.public.apiBase}/public/categories/`);z.value.categories=Array.isArray(o)?o:[]}catch(o){console.error("Failed to fetch categories:",o),z.value.categories=[]}}async function v(){try{const o=await $fetch(`${p.public.apiBase}/public/sizes/`);z.value.sizes=Array.isArray(o)?o:[]}catch(o){console.error("Failed to fetch sizes:",o),z.value.sizes=[]}}async function T(){try{const o=await $fetch(`${p.public.apiBase}/public/colors/`);z.value.colors=Array.isArray(o)?o.map(n=>({name:n.name,image:n.image})):[]}catch(o){console.error("Failed to fetch colors:",o),z.value.colors=[]}}async function V(){try{const o=await $fetch(`${p.public.apiBase}/public/collections/`);z.value.collections=Array.isArray(o)?o.map(n=>({name:n.name,slug:n.slug})):[]}catch(o){console.error("Failed to fetch collections:",o),z.value.collections=[]}}async function u(){try{b.value=!0;const o=await $fetch(`${p.public.apiBase}/public/products-all/?${s()}`);m.value=o.count,$.value=o.results}catch(o){console.error("Failed to fetch products:",o)}finally{b.value=!1}}function j(){M=fe.context(()=>{g&&(h=g.create({smooth:1.5,effects:!0,normalizeScroll:!0,smoothTouch:.2,wrapper:"#smooth-wrapper",content:"#smooth-content"}))})}ie(f,()=>{C.value!==1&&(C.value=1),A()},{deep:!0}),ie(()=>d.query,()=>{u()}),ie(F,o=>{h&&h.paused(o)});{const o=ge(()=>h);ot(o)}return Ee(async()=>{_(),await Promise.all([y(),T(),v(),V()]),await u(),ve(()=>{j()})}),Ie(()=>{M?.revert(),M=null,h?.kill?.(),Ce.getAll().forEach(o=>o.kill())}),(o,n)=>{const l=Ye,x=he,i=it,S=It,k=Zt,E=Re;return D(),N("section",null,[Y(l,{dark:!1}),c("div",eo,[c("div",to,[c("div",oo,[c("div",no,[c("div",ro,[c("div",ao,[c("button",{type:"button",class:"text-xs uppercase tracking-widest items-center flex gap-2",onClick:n[0]||(n[0]=P=>F.value=!0)},[Y(x,{name:"lucide:sliders-horizontal",class:"w-4 h-4"}),n[3]||(n[3]=c("span",{class:"my-auto"},"Filters",-1))])])]),c("div",io,[c("div",so,[n[4]||(n[4]=c("span",{class:"uppercase text-xs tracking-widest ml-4"},"Page",-1)),(D(!0),N(Q,null,X(B(L),P=>(D(),N("button",{key:P,type:"button",class:ee([P===B(C)?"underline":"opacity-60","text-sm uppercase tracking-widest"]),onClick:O=>I(P)},J(P),11,lo))),128))])])])]),B(b)?(D(),me(i,{key:0,class:"mt-2 md:mt-6 px-4 md:px-8",count:8})):(D(),me(S,{key:1,class:"mt-2 md:mt-6 px-4 md:px-8",products:B($)},null,8,["products"])),Y(E,null,{default:te(()=>[Y(k,{open:B(F),modelValue:B(f),"onUpdate:modelValue":n[1]||(n[1]=P=>et(f)?f.value=P:null),facets:B(z),"onUpdate:open":n[2]||(n[2]=P=>F.value=P)},null,8,["open","modelValue","facets"])]),_:1})])])])}}});export{bo as default};
